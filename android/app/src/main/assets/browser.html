<html googl="true"><head>
<link rel="icon" data-savepage-href="" href="">
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">

    <style>
        body {
            margin: 0;
        }

        :root {
            --themed-loading-icon:  url('data:image/gif;base64,R0lGODlhQABAAPcAAAB3mQF4mQJ4mgN5mgR5mwV6mwZ6mwd7nAh7nAl8nQp8nQt9nQx9ng1+ng5+nw9/nxCAnxGAoBKBoBOBoRSCoRWCoRaDoheDohiEoxmEoxqFoxuFpByGpB2HpR6HpR+IpSCIpiGJpiKJpyOKpySKpyWLqCaLqCeMqSiMqSmNqSqNqiuOqiyPqy2Pqy6Qqy+QrDCRrDGRrTKSrTOSrTSTrjWTrjaUrzeUrziVrzmWsDqWsDuXsTyXsT2YsT6Ysj+ZskCZs0Gas0KatEObtESbtEWctUactUedtkietkmetkqft0uft0yguE2guE6huE+huVCiuVGiulKjulOjulSku1Wlu1alvFemvFimvFmnvVqnvVuovlyovl2pvl6pv1+qv2CqwGGrwGKrwGOswWStwWWtwmauwmeuwmivw2mvw2qwxGuwxGyxxG2xxW6yxW+yxnCzxnG0xnK0x3O1x3S1yHW2yHa2yHe3yXi3yXm4ynq4ynu5yny5y326y366zH+7zIG8zIK8zYO9zYS9zoW+zoa+zoe/z4i/z4nA0IrA0IvB0IzB0Y3C0Y7C0o/D0pDE0pHE05LF05PF1JTG1JXG1JbH1ZfH1ZjI1pnI1prJ1pvJ15zK153L2J7L2J/M2KDM2aHN2aLN2qPO2qTO2qXP26bP26fQ3KjQ3KnR3KrR3avS3azT3q3T3q7U3q/U37DV37HV4LLW4LPW4LTX4bXX4bbY4rfY4rjZ4rna47ra47vb5Lzb5L3c5L7c5b/d5cDd5sHe5sLe58Pf58Tf58Xg6Mbg6Mfh6cji6cni6crj6svj6szk683k687l68/l7NDm7NHm7dLn7dPn7dTo7tXp7tbp79fq79jq79nr8Nrr8Nvs8dzs8d3t8d7t8t/u8uDu8+Hv8+Lv8+Pw9OTx9OXx9eby9efy9ejz9unz9ur09+v09+z19+31+O72+O/2+fD3+fH4+fL4+vP5+vT5+/X6+/b6+/f7/Pj7/Pn8/fr8/fv9/fz9/v3+/v7+/////////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCAD/ACwAAAAAQABAAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjFuxnz14/iRgzCmxX6QmUSu40inR4L48CAAAU6Lk3cqQ/fwithUCJUsS1lhn5aROVyZg9g8Yg0AQQ4RjClzBxGvQHDIcCBCIosSTYTcVQFt6W9tvHNanSge6eBKBZolnBfZYwCBCAAdM+g/347dOX7+3XgdlMDFVgyqvAe7v28Nk1laC/uHTx4fOrVJyMoRBmHWU80J/cxIvvCsQHiAHKAU3KYZSbD989u5r/pTPEY4YZaZQbWqa7L7bSfOfI0bPt8GXq33f9wds2Lh/wo3F5TxxWJcWNROyOT6Tnrh081Aq34RCA0kEjfdIF+v+jpy4dunPtLir090lBgLEAfqQL/49fO/PnzJnDt9DfJAQCvAdADebQt886+ZWj4E8LCRPCAAMIQAAaDErXjzvmkDPOOOeAt1A9kJDAgARNTEOfQPmso6E5uzVkDzKhxFKOcprtUw89+dBYkG8n9ujjj0AGKSRw92CDzDceDulPPvXgo15B7hAyQwk/hFIYkP2wk0012KDDT0H8cNJBBGSyIMyQ8lDzzJrRREcQPVxIIKcEFRzy5I/kNKOnnt3cSY8WFARKgQV2BunPOMskmig3d/KDCQgVROoCMEO+0wwyySSzzHwFrRNIDSj44MmVP/ZjDjTLOBMOdgPRM80w2yT/KSRF8NRz55C45qrrruHxyGtC9zBjSizi3HqcP/OMIw48xh50jyc/sABDF9Gc6E86wNBSyy/jNFsQNECgkIIKLNRR4XH4COPKK7DEAsw8DLXiggorsNBCFOfQ9w4trLSyLi3oMJTLDPW24EIXbkoXTy2qrNJvLeswlA4ZL7jwgg6gsPrbPs6okooqrSBjXH/W9IFFGKLE02M90eSSSzPy9GYPOu1oLB0/9tTz5a896qNOOfRo5I8961x3HDyhnCHGINboCJc3rHAySjFBp7bPKEsYgYQSdAQc0TqgLNLII5Yos/Nd7qhRxBFJLDHFmQf5ahg0iyTCiCOQrFJPauuYl6G1EkxIoQtj+lQDiyzXsOpPM4kgoggjj5xS9V34NJJE202QsQ2YvtCRBht7EHNrOZYcksgij/xic0vf8EGFFGfgwqo6fZiBxhptINIOmM9o8sgksuz+mz/uKBOMNxpz04btuOcBjkH8qLNNOOcCaQ4eZqSBuyCc8jyQPq6wof0ctKzOaz3AYKLJMHt7v5Q++jjt/vw9BgQAIfkECQgA/wAsAAAAAEAAQAAACP8A/wkcSLCgwYMIEypcyLChw4cQIxbsZ89eP4kYMwpsV+kJlEruNIp0eC+PAgAAFOi5N3KkP38IrYVAiVLENYQwWyrkp01UJmP2DBqDQBNAhGMG8zkT1YpcTp0E/QHDoQCBCEosCXZTUZSFt4L5MpFAwCDIsqdQ/7l7EoBmiWYF91nCIEAABkz7CjqbiVJAlnlpB2Y70RalAlNo/93btYfPrqwD/Y06UPTEt8ACxc0oDADCLJyJB75aUDRGOcz/8AVq0HZAk9MRxwUprOCPPtT/0h3qMcOMtNAM/TXLkkJGIHW4BeY7R44ecIfzvJHLl7y6y3jdylG3fvD5wX7GvNT/COKoHXeC/fjt2+ddK5EIDhxokHT7fL99+vLl09f+n79SGUDwwAMOJIHcefjlg8+CFynkjyYXSBCBgECcc54/+ix4zz328MOQMS9MIIEEFMQR1Hn6bGhPPRYxZM8lMmwQAhbWnCdQP/isaE9eDd3DzCm2mNNfYP6o1+BDQ9qo5JJMNunkkyLds00z4vAIZZH6sHfQO48QccMTqUDWpD/1rJPOOvMceSMpMJTgpg9IPYkPOuXUaQ49BdWjxgl8npBCJGouCQ85hI4zDjto1ZNGCoymsAKgT74jzqSTroMWP6HQsMKmQRgDpT3igCOqOPIY1E4jSPAAxSliMunPoOGM/+NOoALVc00y39R3ZT725JMklMAGK+ywUL1E7EL4SBOLLuX82pI/97TDTj1J4pMKFUQgAcdNNsJTTTPOVNPOkNZYEYQQQxRhSKu46WNNMskss4w17BpkixFDEFGEEWYcaB09zBhzDLzOwMNQMEvsewQScbxznj3MECMwMs2UutA6diCBRBJTsOIhd/x0QwwxxRyjjZUJ+bNNI2zU4YrF5+HzzTPPdHNicPesA8/HSvajIK3HVrdPO+ncLJE/+MBDD8+oyeOKH3lYwo2zkZ0TTC27UFNvS/zEUkYYY5ihyDoSvXMLKqqwEgs2QI8UDyBgl3GGG8xE5A83p5iCdivB4JiD2jt8iEGGGWi4UUxi+3TzSzDgMO1fNqWUckoqq/iytUj6eEKG3Gn0Ec5EyjhiSCKWQBPoOq+QojcrzzgO1TiQvOEGIMOgrFYlgxSCyCKgGEwQP9vMooorxsCMWjzSLDOO7f+Ik0juu1Ni4UTvkIOO31CqE8kghuzOiXlBE7RPL4h0/wgxrgftIyuuPHP5sf6sR3X49NsYEAAh+QQJCAD/ACwAAAAAQABAAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjFuxnz14/iRgzCmxX6QmUSu40inR4L48CAAAU6Lk3cqQ/fwithUCJUsQ1hDBbKuzHzVQnZPYMGoNAE0CEYwbzORPVilxOnQT9ERtiYcKKTPgKdlNRlIW3gvkykUDAIMiyp1D/vdMCwQGDBS6eFdxnCYMAARgw7SvobCZKAVnmpR3IjUbbBgwopEL7796uPXx2sYw66kDRE98GCyQHJMIDtxps4WQ88NWCojHKaf6HLxEHCA8gVDEncVyQACgV/NG3+p86R0l+uKFGmqG/ZllSyAikrrfAfOjK1RM5zxu5fM6zu5QH7hxv7QXvhf/rFq+4wX7L1hSBcukd+IHk7rxIsaWZeYLgqJQQIaLFpr3g3VMHAn8Zcc5C/rTCQgkkjCACFuy89w1XNDlwC4KjsGACgyNAkc572YhQlAKuMLTMECicYAIKfUymXTxRCECTCtYwdE8oRcBQwxnZvPePP8b8wIACKIjy3UL3QPNKL+jcp1k/37RiijRHNuRkdi/5qOWWXHbppXP4fCNNOQB+KdBL5sWzSRZNiDFLVmbyo08++fBznitH+KAnFc6Y2Q8+9wSKj50E2bMHEIgCIYQnVzqnT0WQYleoHkJUKgQRnlzkZT71dNopnAPxwwoTRJSKBTNx0jPPqvRUKdA7m3z/QUUZsoC6qar04FOcPd1AM06Zfu7TT6NmFmvsscimlWWyCuWDzS7EpEMsVPt0qg+x+dTSxhdjFNKNlvecQw456NjT6DZucNGFF2FgYqtz/JwDTjjijIMOsAgFE4YXX4QhRh/tvIdPON58My85QS2kjBlghDEGGYfE854+4XDTTcHjuJiQO4uQQUYZbuRCqHb+qMONxd6oo6lC/oDjySCL7EKPlvuwI44467iqED7uyDOyj/7ss8+0zOq0DzztvBuRPvXcs/Jq9PRiiSSpjEP0QP64U00z0Yyjs079/BLIH4EQAop7EdHTzDDFHLNMOVc7NA8mfgAiSCGL1BiROcIEoUNM29V8PZI8lZA9iCGKRGMQP+U8A805P/9IDjDACEOMMdNIOpg+sAQiCCGHXHIgQf1ck8oopsDCDWPxHPNLMMMY883TaaVTiiKKZPJM5PK4AsoopaCCy8ykl6MMMcdgk3Bv9GxTTTqR/5MOKb+XcsorEU5EDzvvCO7jO6tUf0ot8hRdED/NlAL8KtPQbj4+2AATzDaamx8VP/zEbf/+2gUEACH5BAkIAP8ALAAAAABAAEAAAAj/AP8JHEiwoMGDCBMqXMiwocOHECMW7HfvXj+JGDMKfNepCxdO7zSKdIiPkIcJEjYIwjdypD9/CLXRqIASgotsCGG2VNgPXKxUzu4ZZGaCpgQIHpYZzPdslCtyOncS9LdMi4wXREjlKwjOh1EIOMAVzKfphIIGQZZFlfov3hsXK1KgKEKt4L5PKypQOOFpX8FnJAYICCAgyzy2A8E5ccFCBYoXs9b+wwfMUCFgLKeSUjAYAIAT3xALPIflRYu4NXzllDwQloPOAGKUE/0vX6YcjFukSSdxnJABnhX80Uf7X7tOYK4Aysaaob9mWlLICKSuuEB969DZEznPG7mt1sOL//RHr9w6v+IL3gvXLV5zg/2mCRKz5lS89APJ3XmRYkuz9wSV8wYSRRTRxCr84HdPHQh4JoAR5zCkyxNIHGFEEXKElN43KnjmmQO3LOTPLE8okUSFbLSDXzYieAiAAq4wRI0YTCyhxBKSZCZePFEI4KEK1jCETyxlTKGcWPj5Y8wPDCiAgijEMZRPNr0gww6AovXzTSumSBOlQ1iG9xJ+ZJZp5plolplPOduok2CaA+nDDTHXbGcQPa/oEYcgwnyJpj2XvGBBCoK4M9EvbJSh6B3YwPkPLhp4+IAmbwqEzyVnZHpGGrKEWVw/d/joIRX1EHSpGqiqsUZkafJTh6ieTf9R6kD9+CIHG7jycQ2c/tCCgYcMXHIRQfPAEkgeh/TpKD2PrDBBCHiwcxA+5GiTTqVw4nONL9HM6ui34IYrLpmejquPOMxM4065Ur00ZkP7IBMJIouQMhu5+/DDTz/lljNJIYcgosgsfoa3jz765DvsQtEkgkgiiiwCijz49ZPPxQjv4yk2jkTMiCOoeCsmPvfgg7Gn86TSSCOOVMLMwuLpUxE++KAnYjq4kKJKM0KRqw/NGj+kzzz2wEwuu+Oy1U898xQcUT/5Ii0RPtLcUosxV2J0DzvqsDOP0e1OkwoqqrACDD0S6YMOOeaco049Ujt0Dy6npLJKK7KQI9E84oyRU4456LgDdkv22EI2K67IEg588IxDTjxgyxOOOGyf087gI/GTjCp3v6KLhgP5cw4zySwjzTqSURuO3+a4Vxw8wsQSCy/gGH2PM8eU3gw24IU+jzlsu2MzbficMw48kSeT+zLNTCOyQP7oYw8+mJNpTzPLN2ONjknTGk4ypT9jTtxn7oOONm1i2/1E1a/v/rcBAQAh+QQJCAD/ACwAAAAAQABAAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjFuyHD18/iRgzCoRnis2aUvA0inSID9KMFCdcMMI3cqQ/fwi7HVGBsgSQbghhtlTYj5yuWdRYFoS2Y0VNGc8M5pOGalY5nTsJ+ovmZsmRLK7yFRwHxeiJEkjEFcwHqoYGDkycQY36Tx6gI0SEBNmSrSA/VD9o6jDFr6C0GRMiQIgghh7bgeTIHCkyJMiRXWv/4TMGCVIxoQRVaZAQ4YEDGeEOC1TXJomRuEyM5Yw8sFYHCRAeNNhhTvQ/faWkIDFiZA87ieWcSPBsoZA+2//epaLDBpI31gz9QSNTg8ehdcgF7nO37p7IeeDKaf/NTl6kP3vp3O0rb/BeuG7xoBv0p62SnkC05rEfWA5PDBVbNCMfQekYMkYYYKBxS1/s3WNHAgEAIIAR5zBUjBplkCFGGIfEs983K0QIAAAO3LKQP7+scYYZZIwhSEjsZSPCiCMq4ApD2+yRBhpnnDHKeOXFE4UANKpgDUP59OKHG3FQUs5+//hjzA8MKICCKMcxpM83yETzzoCi9fNNK6ZIk6VDYJL3EpRstunmm3Bmp4864rjDYJy3cUPMNfYcZI8vkyySSTPrxWnPJS9YkIIg7hTkzzKICCJpJN/giYsGND6gyZ3/5LNKIYUQQoghwaSJXD93EEkjFfUQ5OkhsB7/gogwptrGTx2qjjhFqwM96ogiwFpSKZz+0IIBjQxcchFB9QCzCSWfPFMonPQ8ssIEIeDxm0FzitMOp3Dic40v0fCK57nopqvuutmt+RA/6WDTjTy17rTPNaFwwgyQCvFTzSqkmKLLtuz1kwsNCSBw5ZkJrdPKKKSUcoox05KnDhEiBvBCXQtxY0opppyCCi7mkvdMBzSSSAtD4agiciqq+IIZedickDIFwDBkzy+qqLIKLNrUKxI9ciQwIgFVEKyQO8rwAow2DJc3Dh82wLDGNfXuYw8+Qu+ETznilMxuwfjYA25EL3UtkT7gNNMMNvphxE8++ejTj9pogjPMMMUcqFPNzA71c8/WdS8rWj7OCEOMMcgw045E+9Rjzz345FMxW/k0w/cxyTCDnaP2vAMP19zSIznll0fVjzbFMK6MNIZJFU844IhzTuwE8VMPPZPjk3pU9VijzDLSqBOZPuJ8Uzs56pytjz313KMP3g/p80479bB2zzfKi0POOVEL1A8/d5+bTzjfhON9Or+v64874KhfDr1jG9SPPOqsQ4/h9TtKff8AJE9AAAAh+QQJCAD/ACwAAAAAQABAAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjFuyHD18/iRgzCpQHqw+fV/I0inSYr9MSIUCMaMo3sqU/hOG8EEHpwwq4lhn7oSP2SxvLgtamzATiIwk1g/qswdJ17iXOgv6wESojJo4ufQXPmRnao4u5gvpSHXEBg4s0p08F1qNEBoyXLnK+FeQ3y8qQIE9g8QNqBIWJEiXe1Es7EB0fMmLAdBFTDK3AfM06dWL2k6CsFydKkBAxZBxhge2mjgnzxYwzhP4cE+QVI/OIEEvQff63j1YbxGIeuZN4zsuJzSke7Zv9T94tRYNAjVPd0B+1OEaaQGJHXOC+eO4qY6Qn7pz26uAx+v/D1y7e3vAF8Y37Jo/5QX/hUknKJGwweoHmAPW4UQaa+4LtdBLIH34QQsx54eHjBwYQPBBBFLItBM0hggQCyB+d0HNfODg06IADGuyykD/LIELIIBVmEhJ627zwYQMMWBALQ+NUckghhBBSy3DoxbOFAwwwsIAM2DC0zzKYLNJIKurc948/ySBxAQUxmMLjQvuUM4027Tn5Tz/gwJLKNFh5qVFqZqap5ppstpkRP++kI89FburDDTHX2HMQPs2wYgos2SCopj2XvGBBCoLsRpA/15QCyqOqnNMmLhoAYOkDmgi6zy+idCrKKP6t2c8dAlhqKRX2WfcLKaySUko0/4X/x08dpZo6RapPYqPKKbzCIuma/tCCgakMXELnQPdAQ8srt2wjaJr0PLLCBCHgQZ1B+8Q5p5v/4HONL9Hgyu245JZr7rkSoflQP++Qc449sX62zzWhcEJZQ/2Ew1Mwz6yIXj+50JAAAiiIUqZC8RTzCzDBCIPNseCpQ0QAlgbwQjYMmRNMw8MQ8ww+9z3TgakAOEALQ+oQI0zHxpB5HzYnkEwBMAzlM00xxRyjjDnxPkWPHAlYSkAV1y5EzzbSVGPOleiNw4cNMKxxTc8D9ZOPPlQThk854oiLbnX+7KMPxBH1o0402uhZHT/shBNOOiBLtE8uR4CwAh5fzeZPO9tsnNPNN+cw7RA1MlAMgAKCfIcTP+H47Q04XUfkTydBm7rDr4TtEw43f4czjoYG8XM12V9acgDJNZSjdzrdPC6OOQcPlM889NSDz7P/IDOCqQSwofZn+ZwTzuv0qNbPPPLUfk8+quGzyQoOUFDFNeDxY089WIcuT/L13GORQTbL0os6WRN3PO3dM/81Qfigf4/gX/ujT0Xwr2///ecGBAAh+QQJCAD/ACwAAAAAQABAAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjFvSnT58/iRgzCqwXDJOlX/Q0inS4T1acNGfWuNI3smVCdIDWoCRzx5xLjP7cTXM2bp/Bb3dkniHDpptBfd16FVt38SZBf+JINVJEaZlPguwMsZnZR13BfbjMQIliJ5tTgvdgMUp0qFClcwX7DdOjBs2cX/wKdiPDRAmSI4XunRXo7hMjRYgMJaJ2FJssWNZYFvwlZUmSI0XAwB0sr5SjRWwZaUvY1OAxKn6NDDGzbvA/fsgqNVqkaJU8ievwJDFCJAmoq4PtKUs1KpdXif62IRqDJtQ71wP50ZsnOaO9c+uqQ98+Up+8ev24H//MZ24cvdIK/akjRgsXNXziCaaDZAUKnmroEc7jleqUKVXWhBdfPo/U4EILLpTR2kLguKJKKqicwotg8ZUTRQssrKBCDcMwxM0rrKzyYC72xPfPN0mwoEIKKcCgC0Ps5OJKK6ywwkxe8c3jxgoonHCCEtwwxA83usgySzHxmPiPP9B0EYMLR8ACnEL8uCOOOSUq+U8/5OQyCzZTaomTmGSWaeaZaGbUTz3x3JNfmfp8k4w2FH4VTjPJPIOOgGbeA0oQKuzAyHMFnZOMMYgyk+SZvrRAwaMhhMLnltkgY6ml47xpYj+CVDDBBBJMAEaWAvWjjTKookqOpvHx48cEEcT/GsEXpC6JjjPM5BrNombiUsIDD0CwQSeT/rMPOdRIY406xYpJjyU2gOACIO0c1I898+DDqpb4ZCPMNPWkKe645JZr7ln+bHuQP/fIQ0+Y4vFzjSidNJNPQ/7EIw444aBz76a61LCAAiqMoh1C+IzDrzjjtKPuTeoQEUAAAggQg1kLzSMOw+SUow6O4j3TAQAkB/AALQzVQ844HZvDTrOuYXMCySRXAIyQ65RjzjnphGQiPXIkQDIBVbDTkD7vsNNOPQ87NQ4fNsCwxjVNC+QPPzCLh0854oR7rpbpitSPOtFoU+tgFN2Dj0UY7ZPLESCsgIdN0OlTjz335LNP1QVRnSNDACQrIMi/6N6DNz56sxq2Qf50IjTNO2xWuNr56LO3QffoooceutRZqiUH0AxADeVAlw/l+/CT3z6VXFDxBZeEicwINBPAxtk3UVQ51gZ1o4LoK3hTED6brOAABVVcw50//fSjqTEQiB7BMQblM40svajDt2vWhCC6CMp/PdA9eixA8gJ7eC6+O5ZEEcUl7ohvUD/33JO1/PiXGRAAIfkECQgA/wAsAAAAAEAAQAAACP8A/wkcSLCgwYMIEypcyLChw4cQIxb0t2+fP4kYMwq856zVqmX3NIp0uE/YI0SFEPXaN7JlwnabFKEcFGmdS4z+5HnTpo6fQXOUZBYalGicwX3jkDlzd/FmQXW7VJ16hc0nQXighA6y5K4gP2J/2rRh9M0pwXzFpJYa9YpdwX7QKiUy9IhZv4Lj/qQ5U4YMJnxmBc7DtQqVKVKmvBnkB04YMG8sCyp7g8YMGTF5bAa214uVKlSlUhmNCA0O3zFh/HQNzO9arFWpUAGzJ9GdozOXy7iyGhgfNmC7lr3DGW7THkCw4gUm2O+evcgZ761zB325dZf87uFret2gPnXm6nH/XxjvGrNn4vR1L8juE5szibSNR3hPWjFiw4qNm289XycoSSCBRB6rKaROMscYU8ww0ai33j/ooIHEEUYU4YQyDKGzDDIJFhNNPg/+Mw4YFRIxRBLDMDRPNMokgwwy3dz1ID2AFDGEEEF8AQ5D/aAjTTPNZFNPiP/4U00cShzRRS7VJdQPPey84yCR/ZwjDC/dNEkkTlt26eWXYIZ5kz/53KMPf17uI84z3gBmUD/uiAPOOPKgSSQ+qkzxgxOXKFeQPOF8I6g4IYVJTBArJHrDKjIK5I864YQDzqTDgdlPIyukoGkKb9A2UD/riCOqqPCE2Y8iKJyg6glteDrQPOWQ/yPrOW6C+UsOJeT6gimNCtRPPOmgow49doZYzydIzADEIpVOpE8+FokpUD7cHHONq9Jmq+223Hbrkj/FIsSPPtFuyY82qIwCDYgN6UPPu/j02l0/vgixwQY5pDKlk/XQU0899uzbnTpQRBCBBBP8sA1D+/xrzz335BPuTdKk8AAEEETwQS4M8fOwdvmcGWI2MTTgwMUjEMMQmfjgE7K819WTRwUmT/BFOw1RRC7M3ZEjyA87zCHfQxNbh48542Dr7Xr4iLMNPEUj1I860WyjtFnq/AGDCVEUw/NC++RyBAgs4GGOdfoQogAAAASQg2IRUSNDAGwvMAi7ZqFTA9tsI5tgCkLgHuRPJwnwHQAP6CxHTgt8A2DAJvPdo4seeuhS6KeWHNB4DWdvJoYAfHuAIUH7VHKBAAJccEmTyIzANwFsXO2SNEg4kEAJl+AtUDcqNL4C3APhs8kKDlBQxTXX+XMOLaesa5AxEDQewTEG5TONLL2oE7V11oTQuAjILz3QPXosUPcel4v/jzuWRBHFJQWq7yvEX8tvf5cBAQAh+QQJCAD/ACwAAAAAQABAAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjFvTHj58/iRgzCsynLRgwbPk0inTIT9qqUqNINeM3smVCebVOoQS1Cp5LjP7soTMHr59Bdq9QzSSVziA/dNOwybt4s2C8aMSEHRvnkyA9XEJHgXolryA/aJkUKRJVrinBfdiKDQv261hXgv64wTJFKhW2qgPTZTpUaJCgVSHN/rsHzVhUYMHQGT0XDZo5lgWrMTJESNAfSe8E/8s37ZjaYMPYSczGqG8gP5XiafZHbpkxtdPwSZRXilCgP4F6QRasr1y1aNvo4TznitIlX8I1C/SnLx9ejPncxdutvPrIfvr2MbVeUF+7dfe2L/+8hy6cuHbUub97RejPJnDiEfb2xm0bN3fxle9rtaYMGTKN2LTQPOB840033JCTnnLs/FHGGGKEkYY0DM0jToHeeKMgdwKhg8cYYYDxBRnLMISPOeKEAw446+SnmT2ThPGFF13cQQ5D/sxzDjnkqBMYh/9sY0gZYtQxzIIH+ZNPPfYgWZ0/6ihTjDhOAmnllVhmqeWWXCbZDz/PccmPOdWI8yNc+MwjDz36dLkZLWlcQQYpbxGkzzxqrlklh8tgUQQRRTxRy3P+4EPPoYeeiWU/mhAhxKNCAHIPmvVUWmmbW/aDSRBAdAqEH5Oedc+oo4aJpTFP+KDqEbCYuk8++OT/syeH96jChRJVYCKgQf7042KW+oDTzDahumnsscgm++Sv3PnD7EH2EHMJKd2YWh0/3cDCCjWKImRPIx0YoIAPyFjpDzFTwPDCErHswxAyHQAgrwBZJMddO1+YYMIJKEDxzUL+dGKAvPKuEA6Q1uwwAgklmDADMAyxsgDBANygGIfcCCHCwiTckAxD5AwhgLwMKOIuh/YMgkIIIpjQRmYANwNGDDww0s6V5zTyxBJ+dOOQP/SIkw6mV+aDTjnFKgskPuJsA8+zCvWzDjXd2GOdOn/AYEIUxVi70D68QNFCDoFczBshCsgbQA7eSJRwAw5AoIEi3baETg0UI2AKQs4mmAnKBAw08AAESBQlGDktUGzAJvHdo4seeuiS9D+MQrAAAw48EMQ5L4oxsrweKFPQPpVcIIAAF1xy8kDKsHB5AxPUMflN0iDhQAIlXKJoNypQvELbBOHzCQ0YgOCFNk+eQ8sp0HRrDAQUR3CMQflUYwswLXZpTQgUi3CN0gXdo8fEACywx+xKu2NJFFFc4g74B/VTKvz0Kx0QACH5BAkIAP8ALAAAAABAAEAAAAj/AP8JHEiwoMGDCBMqXMiwocOHECMa7NdPosWLA/mp46YN3T6MIB36MweNmTJl4SqGXIkQXzVnJpE1s8fy4r569PD5M1hvGkxlx5LJmwhPXDmaNQ3mW1eOXDl5Ownmw/bz2DN8BfuB4yUrVjB3SQn6e2eu3Dij+Qr6YzfNZDN0UQfC4wXLFatVxz6G/cdv3Tlz5MSJozdRHjly8VQSHDfrVatVqWoR3tuvHbpzZskhhXiOll1VqG5tTuqPnjp0Zdfxk2hvmCvIqqQpDtuvnjt28PRdfJfsVq5p9/Zm5RfX4j569mYLX87SX3HmBfnJg5fWYT99+PDtew6dXjFTom6l/2voD/u983qhC9xHjBIkR45WTVZ4PV8+fPfycRceT9SjRowsAkk3DPWzjz763KefegK500kjiyiSCCPYMOQPP/scqE966uUDyyKJIHKIJuuQxw+GxDE4UDmlNKIIJtMol5Bz+0HnDzzYUJPOair26OOPQAYp5JAO2WNNMd3oRiRf7HiTjpIFscOHCRfMsMloQOpTjCJ8GIJLPdFV0gAAZHrgC5HX8NHGmnUUMxs9T5BJ5gB9yKiiP7Cwocaea2xSnUDzNCEnAHTayWA/raSBxqJoZPLnP/s8soCcG+hCpDRzlFGGGW0A81w6dYggwQqUgDkkPrv04QYercxH0DzP9P+CzaNC7mPONeNgteSuvPbqq401quccRPYQcwkp3RgqXD/j+KILNxwmZE8jHRiggA/I9OiPM3BMMYUav0R7EDIdyClAFq4yB08eSizBRBNulLOQP50YMOgK4ajIjRZHINFuFcswxMqkct6AjorigFGEEUgkgYU0DJEzhABkMqCIuMLdc0kSCytRyFDzNgNGDDww0o6P6niixhmTiCMSPeI8meU66ej6a4/4iLMNPMEu1I872YQTHHPq/AGDCVG4KRE/xJhxhBSRlCicPoQoQKYAOngj0TZTrMCCCzhoAmVS6NQgZwAKnILQsAb5s4oLKazQwgtgsCMcOS2QGYAACHSO8tw9vgxCCDA2C9RPKSygoAILLWihjnD2iEHx3iEETNA+m5QwQQUrfBItNEScEDcMhhSelDRIPLDACY4W9I0NEESweQ/5SqXKEjTsIIfWy/nTGSrQ0PpPMh3EPgEFJjSjlDa+IONOz+ph04LxFNSwzc0F4SOIBrJ7UDr2Bb3TSRdefPIO+BOdpyz67AMZEAAh+QQJCAD/ACwAAAAAQABAAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjGvTnT6LFiwP70WOnTl4/jCAd+pNnbly4cO4qhlyJcJ+6cibBidPH8qI/fvv4HdSHDmY4cODwTazHzl2+mgf75btnzx7NgvzW+QQ37ulAf+umMVtWbR7SgvvwMa1X72PBeuhMipOncqC9acuSHTOWTefXf/705RNLdt9EfPHg2Ws7sJ0zZciOFWMm9K6/fXuZ2rML8Z0zucaGOTt6918/vWLzEXaYDxsyY8SIgRuNtN8+ffpYO6S3zdkzcFY7C5QNkd+9fGZ1Cw/pD962cZyHF+xnj57fhv2GVUlxIxE75QTvUeulK5m7httwCP8AAMBBo9zC+1GD1WrVqmD3Fvr7hIA8+R/psP+rt4uVqlSosGKOfJIUYB8ANQyI3Ty2qILKKaakIg5DwXhg3wBo2KOfPsWgYkoppMgCD0P1OBICAg8sMY1+Aq2zi4exdBOcQvYc8wks5PDWmT/zhOONOzMyRBGLRBZp5JFIJjmcPdYU0w16R/bzTjntPFcQO3yYcMEMm2iY5D7RiHLJJ8fERxA/lTRgnwe+KPnNJYvEGUk0hNHzxIED9BEki/4AkwgigCLySm7zNIGnnkj608shhjRqiCu57fPIAvZtoIuS2jgyyKaJNDNaOnWIIMEKlNSjZD7IWKKIJL14WdA8z/T/gk1yX67jDTpQKqnrrrz2OtyQRwLrkD3EXEKKjET2g04yxohjJY2NdGCAAj4gw6c1h7zxxiDKUJYQMh3YJ0AW9OgnjyNmnIGGGobkp5A/nRhw4Arh6BcOHWSUkW4cKy7ECqX24YCOfubgIcYY+cqRDUPkDDFeAA0o8qxw+JhSRhhimIFJufI1A4YMPTDSDpHttBKIH6ScIxI946ST63D7uNMOrb7qlw853cSjo3zweFNOY7qtY4gOMmyRzJ4M8bNMHl6g8cnInemTSAUNPBCBEeBI9M0ZRRiBRBSnTMxSOj804IDVGrSCkLAE+VPLEUIUcUQSdLzTmTk3nA2BBBmMlzIaPsM48kgxQO/2ChFBDCG3G1B/ZY8aEUAQwQQwOAPWKDicoIIPqXj7TzVZBCEEEUpUQnNN1UzRgQY1fEJzOEeQYAIKKkBBTkH50AIGE1IMMqFu/qSTSyvTnO5MDCXMrsIO0RikjzfGPAPPzspx80MJJ9COhDc1G4QPIy5kP4Mkp3cPTylstIFKPN0j1A8++CDd/vy7BgQAIfkECQgA/wAsAAAAAEAAQAAACP8A/wkcSLCgwYMIEypcyLChw4cQI0qcSJEhv3z49PmryPEhv3v26tHL17Gkv40H/eUDWW8evX4lKfLTJiqTMXsGVbKcJ49fTn316vmMmRMYDgUIRFC6V9Cfvp0vm9I7N07cOXxEC7p7EgCA1xLNDPLDF5KePoP60I0LB85bOpRZ/2Uz4dWrAlNwB/bTp29oQXvkxIH71i3cvrgCxcmoCwDCLIn3yIX75o2buMOI8QFi4HVAk3IS+aUL560bt3Z5s6YzxGOGGWmpHeZTN25cO7+I/+U7R45e7If99u37nbs4RX/wto0jafxgP4y4FfYbViXFjUTsmhfMN25atG30Gm7/wyHAq4NGZ7X/6yduGbJjxqoxT+jvEwLGP9Kp/4dPGvxixBjjzkL+SFIAYzWYs989zgA4jDDErMNQMB7UNQAaOKnHzzXECBMMMMrUw1A9joSAwANLTLOfQPJE8yAy5xD31zGfwEKOjIj5c4866MyDY04/rijkkEQWaeSRHNljTTHdpIdkP/Sw09NB7PBhwgUzbJKhkfx0o4ssuMhXED+VNFCXB74geU4sqLTZCjd50fMEYwP0AVOR/kBziil8mjIMZgLN0wSddhrpTzOkjKLoKMEA+s8+jyxQ1wa6IDlOKqFkako2qaVThwgSrECJiEfuU80rpqzCDFYGzfNML9jM/3ckP/CY046jSOaq6668qnfSkUESZI8xm5zizZ379cMONdKcEx1C9kRSAgQUHLHMiv544wkjjHBCDbIJKWPCAgsw4EAY4alHDymEFGIIIp60w1AoETDQQAMO3DDOfuc4Esgg7TayDUOvXIDvAxAQoc5+60TyRyCCDOIIOAyZ00QECHcgCa7F6XOLIH8AMsgqpCqUpxo+JDHJgCvGwwsmltQiYUP+1EPOOhxrt0888DjZ64r5mAOOPMGmJM846ciKWDuPKDGEGs2A61A/0zRyByCvwFPcPpOgIMIIJlyxb0Tk+BGGGGW0UUvOHa3zRAgjkGDCC7Ug9GtRYnwRxhhmKJ4ST27oIPF1CSe4sEpq+SizCSfMKO3PLmB4AYYYZBSiNWL32FGC3CgMoSJB/LjyRBBDWDFLdNvE0YXeZZjic1bYiBHDC0ig8jo5W/QAhBBEmHFOQfr8cscZbFjye3H+rPNLLde8/s80SPiwOxFTXGPQPuM4Yw3RSH5ThfS8fyHOzwblk4kRuzPxifPkywNLH37IMg/5dueTT9H05z9kQAA7');
        }

        #animation {
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            background-image: var(--themed-loading-icon);
            background-position: center;
            background-repeat: no-repeat;
        }

        .archive-node {
            font-style: italic;
        }

        a.has-notes, a.has-notes:hover {
            text-decoration: underline !important;
        }
    </style>

    <style data-savepage-href="lib/jstree/themes/default/style.css">/* jsTree default theme */
.jstree-node,
.jstree-children,
.jstree-container-ul {
  display: block;
  margin: 0;
  padding: 0;
  list-style-type: none;
  list-style-image: none;
}
.jstree-node {
  white-space: nowrap;
}
.jstree-anchor {
  display: inline-block;
  color: black;
  white-space: nowrap;
  padding: 0 4px 0 1px;
  margin: 0;
  vertical-align: top;
}
.jstree-anchor:focus {
  outline: 0;
}
.jstree-anchor,
.jstree-anchor:link,
.jstree-anchor:visited,
.jstree-anchor:hover,
.jstree-anchor:active {
  text-decoration: none;
  color: inherit;
}
.jstree-icon {
  display: inline-block;
  text-decoration: none;
  margin: 0;
  padding: 0;
  vertical-align: top;
  text-align: center;
}
.jstree-icon:empty {
  display: inline-block;
  text-decoration: none;
  margin: 0;
  padding: 0;
  vertical-align: top;
  text-align: center;
}
.jstree-ocl {
  cursor: pointer;
}
.jstree-leaf > .jstree-ocl {
  cursor: default;
}
.jstree .jstree-open > .jstree-children {
  display: block;
}
.jstree .jstree-closed > .jstree-children,
.jstree .jstree-leaf > .jstree-children {
  display: none;
}
.jstree-anchor > .jstree-themeicon {
  margin-right: 2px;
}
.jstree-no-icons .jstree-themeicon,
.jstree-anchor > .jstree-themeicon-hidden {
  display: none;
}
.jstree-hidden,
.jstree-node.jstree-hidden {
  display: none;
}
.jstree-rtl .jstree-anchor {
  padding: 0 1px 0 4px;
}
.jstree-rtl .jstree-anchor > .jstree-themeicon {
  margin-left: 2px;
  margin-right: 0;
}
.jstree-rtl .jstree-node {
  margin-left: 0;
}
.jstree-rtl .jstree-container-ul > .jstree-node {
  margin-right: 0;
}
.jstree-wholerow-ul {
  position: relative;
  display: inline-block;
  min-width: 100%;
}
.jstree-wholerow-ul .jstree-leaf > .jstree-ocl {
  cursor: pointer;
}
.jstree-wholerow-ul .jstree-anchor,
.jstree-wholerow-ul .jstree-icon {
  position: relative;
}
.jstree-wholerow-ul .jstree-wholerow {
  width: 100%;
  cursor: pointer;
  position: absolute;
  left: 0;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.jstree-contextmenu .jstree-anchor {
  -webkit-user-select: none;
  /* disable selection/Copy of UIWebView */
  -webkit-touch-callout: none;
  /* disable the IOS popup when long-press on a link */
}
.vakata-context {
  display: none;
}
.vakata-context,
.vakata-context ul {
  margin: 0;
  padding: 2px;
  position: absolute;
  background: #f5f5f5;
  border: 1px solid #979797;
  box-shadow: 2px 2px 2px #999999;
}
.vakata-context ul {
  list-style: none;
  left: 100%;
  margin-top: -2.7em;
  margin-left: -4px;
}
.vakata-context .vakata-context-right ul {
  left: auto;
  right: 100%;
  margin-left: auto;
  margin-right: -4px;
}
.vakata-context li {
  list-style: none;
}
.vakata-context li > a {
  display: block;
  padding: 0 2em 0 2em;
  text-decoration: none;
  width: auto;
  color: black;
  white-space: nowrap;
  line-height: 2.4em;
  text-shadow: 1px 1px 0 white;
  border-radius: 1px;
}
.vakata-context li > a:hover {
  position: relative;
  background-color: #e8eff7;
  box-shadow: 0 0 2px #0a6aa1;
}
.vakata-context li > a.vakata-context-parent {
  background-image: url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw==");
  background-position: right center;
  background-repeat: no-repeat;
}
.vakata-context li > a:focus {
  outline: 0;
}
.vakata-context .vakata-context-hover > a {
  position: relative;
  background-color: #e8eff7;
  box-shadow: 0 0 2px #0a6aa1;
}
.vakata-context .vakata-context-separator > a,
.vakata-context .vakata-context-separator > a:hover {
  background: white;
  border: 0;
  border-top: 1px solid #e2e3e3;
  height: 1px;
  min-height: 1px;
  max-height: 1px;
  padding: 0;
  margin: 0 0 0 2.4em;
  border-left: 1px solid #e0e0e0;
  text-shadow: 0 0 0 transparent;
  box-shadow: 0 0 0 transparent;
  border-radius: 0;
}
.vakata-context .vakata-contextmenu-disabled a,
.vakata-context .vakata-contextmenu-disabled a:hover {
  color: silver;
  background-color: transparent;
  border: 0;
  box-shadow: 0 0 0;
}
.vakata-context .vakata-contextmenu-disabled > a > i {
  filter: grayscale(100%);
}
.vakata-context li > a > i {
  text-decoration: none;
  display: inline-block;
  width: 2.4em;
  height: 2.4em;
  background: transparent;
  margin: 0 0 0 -2em;
  vertical-align: top;
  text-align: center;
  line-height: 2.4em;
}
.vakata-context li > a > i:empty {
  width: 2.4em;
  line-height: 2.4em;
}
.vakata-context li > a .vakata-contextmenu-sep {
  display: inline-block;
  width: 1px;
  height: 2.4em;
  background: white;
  margin: 0 0.5em 0 0;
  border-left: 1px solid #e2e3e3;
}
.vakata-context .vakata-contextmenu-shortcut {
  font-size: 0.8em;
  color: silver;
  opacity: 0.5;
  display: none;
}
.vakata-context-rtl ul {
  left: auto;
  right: 100%;
  margin-left: auto;
  margin-right: -4px;
}
.vakata-context-rtl li > a.vakata-context-parent {
  background-image: url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7");
  background-position: left center;
  background-repeat: no-repeat;
}
.vakata-context-rtl .vakata-context-separator > a {
  margin: 0 2.4em 0 0;
  border-left: 0;
  border-right: 1px solid #e2e3e3;
}
.vakata-context-rtl .vakata-context-left ul {
  right: auto;
  left: 100%;
  margin-left: -4px;
  margin-right: auto;
}
.vakata-context-rtl li > a > i {
  margin: 0 -2em 0 0;
}
.vakata-context-rtl li > a .vakata-contextmenu-sep {
  margin: 0 0 0 0.5em;
  border-left-color: white;
  background: #e2e3e3;
}
#jstree-marker {
  position: absolute;
  top: 0;
  left: 0;
  margin: -5px 0 0 0;
  padding: 0;
  border-right: 0;
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 5px solid;
  width: 0;
  height: 0;
  font-size: 0;
  line-height: 0;
}
#jstree-dnd {
  line-height: 16px;
  margin: 0;
  padding: 4px;
}
#jstree-dnd .jstree-icon,
#jstree-dnd .jstree-copy {
  display: inline-block;
  text-decoration: none;
  margin: 0 2px 0 0;
  padding: 0;
  width: 16px;
  height: 16px;
}
#jstree-dnd .jstree-ok {
  background: green;
}
#jstree-dnd .jstree-er {
  background: red;
}
#jstree-dnd .jstree-copy {
  margin: 0 2px 0 2px;
}
.jstree-default .jstree-node,
.jstree-default .jstree-icon {
  background-repeat: no-repeat;
  background-color: transparent;
}
.jstree-default .jstree-anchor,
.jstree-default .jstree-animated,
.jstree-default .jstree-wholerow {
  transition: background-color 0.15s, box-shadow 0.15s;
}
.jstree-default .jstree-hovered {
  background: #e7f4f9;
  border-radius: 2px;
  box-shadow: inset 0 0 1px #cccccc;
}
.jstree-default .jstree-context {
  background: #e7f4f9;
  border-radius: 2px;
  box-shadow: inset 0 0 1px #cccccc;
}
.jstree-default .jstree-clicked {
  background: #beebff;
  border-radius: 2px;
  box-shadow: inset 0 0 1px #999999;
}
.jstree-default .jstree-no-icons .jstree-anchor > .jstree-themeicon {
  display: none;
}
.jstree-default .jstree-disabled {
  background: transparent;
  color: #666666;
}
.jstree-default .jstree-disabled.jstree-hovered {
  background: transparent;
  box-shadow: none;
}
.jstree-default .jstree-disabled.jstree-clicked {
  background: #efefef;
}
.jstree-default .jstree-disabled > .jstree-icon {
  opacity: 0.8;
  filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'jstree-grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#jstree-grayscale");
  /* Firefox 10+ */
  filter: gray;
  /* IE6-9 */
  -webkit-filter: grayscale(100%);
  /* Chrome 19+ & Safari 6+ */
}
.jstree-default .jstree-search {
  font-style: italic;
  color: #8b0000;
  font-weight: bold;
}
.jstree-default .jstree-no-checkboxes .jstree-checkbox {
  display: none !important;
}
.jstree-default.jstree-checkbox-no-clicked .jstree-clicked {
  background: transparent;
  box-shadow: none;
}
.jstree-default.jstree-checkbox-no-clicked .jstree-clicked.jstree-hovered {
  background: #e7f4f9;
}
.jstree-default.jstree-checkbox-no-clicked > .jstree-wholerow-ul .jstree-wholerow-clicked {
  background: transparent;
}
.jstree-default.jstree-checkbox-no-clicked > .jstree-wholerow-ul .jstree-wholerow-clicked.jstree-wholerow-hovered {
  background: #e7f4f9;
}
.jstree-default > .jstree-striped {
  min-width: 100%;
  display: inline-block;
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAMAAAB/qqA+AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMNAMM9s3UAAAAXSURBVHjajcEBAQAAAIKg/H/aCQZ70AUBjAATb6YPDgAAAABJRU5ErkJggg==") left top repeat;
}
.jstree-default > .jstree-wholerow-ul .jstree-hovered,
.jstree-default > .jstree-wholerow-ul .jstree-clicked {
  background: transparent;
  box-shadow: none;
  border-radius: 0;
}
.jstree-default .jstree-wholerow {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.jstree-default .jstree-wholerow-hovered {
  background: #e7f4f9;
}
.jstree-default .jstree-wholerow-clicked {
  background: #beebff;
  background: -webkit-linear-gradient(top, #beebff 0%, #a8e4ff 100%);
  background: linear-gradient(to bottom, #beebff 0%, #a8e4ff 100%);
}
.jstree-default .jstree-node {
  min-height: 24px;
  line-height: 24px;
  margin-left: 24px;
  min-width: 24px;
}
.jstree-default .jstree-anchor {
  line-height: 24px;
  height: 24px;
}
.jstree-default .jstree-icon {
  width: 24px;
  height: 24px;
  line-height: 24px;
}
.jstree-default .jstree-icon:empty {
  width: 24px;
  height: 24px;
  line-height: 24px;
}
.jstree-default.jstree-rtl .jstree-node {
  margin-right: 24px;
}
.jstree-default .jstree-wholerow {
  height: 24px;
}
.jstree-default .jstree-node,
.jstree-default .jstree-icon {
  background-image: /*savepage-url=32px.png*/ var(--savepage-url-3);
}
.jstree-default .jstree-node {
  background-position: -292px -4px;
  background-repeat: repeat-y;
}
.jstree-default .jstree-last {
  background: transparent;
}
.jstree-default .jstree-open > .jstree-ocl {
  background-position: -132px -4px;
}
.jstree-default .jstree-closed > .jstree-ocl {
  background-position: -100px -4px;
}
.jstree-default .jstree-leaf > .jstree-ocl {
  background-position: -68px -4px;
}
.jstree-default .jstree-themeicon {
  background-position: -260px -4px;
}
.jstree-default > .jstree-no-dots .jstree-node,
.jstree-default > .jstree-no-dots .jstree-leaf > .jstree-ocl {
  background: transparent;
}
.jstree-default > .jstree-no-dots .jstree-open > .jstree-ocl {
  background-position: -36px -4px;
}
.jstree-default > .jstree-no-dots .jstree-closed > .jstree-ocl {
  background-position: -4px -4px;
}
.jstree-default .jstree-disabled {
  background: transparent;
}
.jstree-default .jstree-disabled.jstree-hovered {
  background: transparent;
}
.jstree-default .jstree-disabled.jstree-clicked {
  background: #efefef;
}
.jstree-default .jstree-checkbox {
  background-position: -164px -4px;
}
.jstree-default .jstree-checkbox:hover {
  background-position: -164px -36px;
}
.jstree-default.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,
.jstree-default .jstree-checked > .jstree-checkbox {
  background-position: -228px -4px;
}
.jstree-default.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,
.jstree-default .jstree-checked > .jstree-checkbox:hover {
  background-position: -228px -36px;
}
.jstree-default .jstree-anchor > .jstree-undetermined {
  background-position: -196px -4px;
}
.jstree-default .jstree-anchor > .jstree-undetermined:hover {
  background-position: -196px -36px;
}
.jstree-default .jstree-checkbox-disabled {
  opacity: 0.8;
  filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'jstree-grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#jstree-grayscale");
  /* Firefox 10+ */
  filter: gray;
  /* IE6-9 */
  -webkit-filter: grayscale(100%);
  /* Chrome 19+ & Safari 6+ */
}
.jstree-default > .jstree-striped {
  background-size: auto 48px;
}
.jstree-default.jstree-rtl .jstree-node {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==");
  background-position: 100% 1px;
  background-repeat: repeat-y;
}
.jstree-default.jstree-rtl .jstree-last {
  background: transparent;
}
.jstree-default.jstree-rtl .jstree-open > .jstree-ocl {
  background-position: -132px -36px;
}
.jstree-default.jstree-rtl .jstree-closed > .jstree-ocl {
  background-position: -100px -36px;
}
.jstree-default.jstree-rtl .jstree-leaf > .jstree-ocl {
  background-position: -68px -36px;
}
.jstree-default.jstree-rtl > .jstree-no-dots .jstree-node,
.jstree-default.jstree-rtl > .jstree-no-dots .jstree-leaf > .jstree-ocl {
  background: transparent;
}
.jstree-default.jstree-rtl > .jstree-no-dots .jstree-open > .jstree-ocl {
  background-position: -36px -36px;
}
.jstree-default.jstree-rtl > .jstree-no-dots .jstree-closed > .jstree-ocl {
  background-position: -4px -36px;
}
.jstree-default .jstree-themeicon-custom {
  background-color: transparent;
  background-image: none;
  background-position: 0 0;
}
.jstree-default > .jstree-container-ul .jstree-loading > .jstree-ocl {
  background: /*savepage-url=throbber.gif*/ var(--savepage-url-4) center center no-repeat;
}
.jstree-default .jstree-file {
  background: /*savepage-url=32px.png*/ var(--savepage-url-3) -100px -68px no-repeat;
}
.jstree-default .jstree-folder {
  background: /*savepage-url=32px.png*/ var(--savepage-url-3) -260px -4px no-repeat;
}
.jstree-default > .jstree-container-ul > .jstree-node {
  margin-left: 0;
  margin-right: 0;
}
#jstree-dnd.jstree-default {
  line-height: 24px;
  padding: 0 4px;
}
#jstree-dnd.jstree-default .jstree-ok,
#jstree-dnd.jstree-default .jstree-er {
  background-image: /*savepage-url=32px.png*/ var(--savepage-url-3);
  background-repeat: no-repeat;
  background-color: transparent;
}
#jstree-dnd.jstree-default i {
  background: transparent;
  width: 24px;
  height: 24px;
  line-height: 24px;
}
#jstree-dnd.jstree-default .jstree-ok {
  background-position: -4px -68px;
}
#jstree-dnd.jstree-default .jstree-er {
  background-position: -36px -68px;
}
.jstree-default .jstree-ellipsis {
  overflow: hidden;
}
.jstree-default .jstree-ellipsis .jstree-anchor {
  width: calc(100% - 29px);
  text-overflow: ellipsis;
  overflow: hidden;
}
.jstree-default.jstree-rtl .jstree-node {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==");
}
.jstree-default.jstree-rtl .jstree-last {
  background: transparent;
}
.jstree-default-small .jstree-node {
  min-height: 18px;
  line-height: 18px;
  margin-left: 18px;
  min-width: 18px;
}
.jstree-default-small .jstree-anchor {
  line-height: 18px;
  height: 18px;
}
.jstree-default-small .jstree-icon {
  width: 18px;
  height: 18px;
  line-height: 18px;
}
.jstree-default-small .jstree-icon:empty {
  width: 18px;
  height: 18px;
  line-height: 18px;
}
.jstree-default-small.jstree-rtl .jstree-node {
  margin-right: 18px;
}
.jstree-default-small .jstree-wholerow {
  height: 18px;
}
.jstree-default-small .jstree-node,
.jstree-default-small .jstree-icon {
  background-image: /*savepage-url=32px.png*/ var(--savepage-url-3);
}
.jstree-default-small .jstree-node {
  background-position: -295px -7px;
  background-repeat: repeat-y;
}
.jstree-default-small .jstree-last {
  background: transparent;
}
.jstree-default-small .jstree-open > .jstree-ocl {
  background-position: -135px -7px;
}
.jstree-default-small .jstree-closed > .jstree-ocl {
  background-position: -103px -7px;
}
.jstree-default-small .jstree-leaf > .jstree-ocl {
  background-position: -71px -7px;
}
.jstree-default-small .jstree-themeicon {
  background-position: -263px -7px;
}
.jstree-default-small > .jstree-no-dots .jstree-node,
.jstree-default-small > .jstree-no-dots .jstree-leaf > .jstree-ocl {
  background: transparent;
}
.jstree-default-small > .jstree-no-dots .jstree-open > .jstree-ocl {
  background-position: -39px -7px;
}
.jstree-default-small > .jstree-no-dots .jstree-closed > .jstree-ocl {
  background-position: -7px -7px;
}
.jstree-default-small .jstree-disabled {
  background: transparent;
}
.jstree-default-small .jstree-disabled.jstree-hovered {
  background: transparent;
}
.jstree-default-small .jstree-disabled.jstree-clicked {
  background: #efefef;
}
.jstree-default-small .jstree-checkbox {
  background-position: -167px -7px;
}
.jstree-default-small .jstree-checkbox:hover {
  background-position: -167px -39px;
}
.jstree-default-small.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,
.jstree-default-small .jstree-checked > .jstree-checkbox {
  background-position: -231px -7px;
}
.jstree-default-small.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,
.jstree-default-small .jstree-checked > .jstree-checkbox:hover {
  background-position: -231px -39px;
}
.jstree-default-small .jstree-anchor > .jstree-undetermined {
  background-position: -199px -7px;
}
.jstree-default-small .jstree-anchor > .jstree-undetermined:hover {
  background-position: -199px -39px;
}
.jstree-default-small .jstree-checkbox-disabled {
  opacity: 0.8;
  filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'jstree-grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#jstree-grayscale");
  /* Firefox 10+ */
  filter: gray;
  /* IE6-9 */
  -webkit-filter: grayscale(100%);
  /* Chrome 19+ & Safari 6+ */
}
.jstree-default-small > .jstree-striped {
  background-size: auto 36px;
}
.jstree-default-small.jstree-rtl .jstree-node {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==");
  background-position: 100% 1px;
  background-repeat: repeat-y;
}
.jstree-default-small.jstree-rtl .jstree-last {
  background: transparent;
}
.jstree-default-small.jstree-rtl .jstree-open > .jstree-ocl {
  background-position: -135px -39px;
}
.jstree-default-small.jstree-rtl .jstree-closed > .jstree-ocl {
  background-position: -103px -39px;
}
.jstree-default-small.jstree-rtl .jstree-leaf > .jstree-ocl {
  background-position: -71px -39px;
}
.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-node,
.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-leaf > .jstree-ocl {
  background: transparent;
}
.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-open > .jstree-ocl {
  background-position: -39px -39px;
}
.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-closed > .jstree-ocl {
  background-position: -7px -39px;
}
.jstree-default-small .jstree-themeicon-custom {
  background-color: transparent;
  background-image: none;
  background-position: 0 0;
}
.jstree-default-small > .jstree-container-ul .jstree-loading > .jstree-ocl {
  background: /*savepage-url=throbber.gif*/ var(--savepage-url-4) center center no-repeat;
}
.jstree-default-small .jstree-file {
  background: /*savepage-url=32px.png*/ var(--savepage-url-3) -103px -71px no-repeat;
}
.jstree-default-small .jstree-folder {
  background: /*savepage-url=32px.png*/ var(--savepage-url-3) -263px -7px no-repeat;
}
.jstree-default-small > .jstree-container-ul > .jstree-node {
  margin-left: 0;
  margin-right: 0;
}
#jstree-dnd.jstree-default-small {
  line-height: 18px;
  padding: 0 4px;
}
#jstree-dnd.jstree-default-small .jstree-ok,
#jstree-dnd.jstree-default-small .jstree-er {
  background-image: /*savepage-url=32px.png*/ var(--savepage-url-3);
  background-repeat: no-repeat;
  background-color: transparent;
}
#jstree-dnd.jstree-default-small i {
  background: transparent;
  width: 18px;
  height: 18px;
  line-height: 18px;
}
#jstree-dnd.jstree-default-small .jstree-ok {
  background-position: -7px -71px;
}
#jstree-dnd.jstree-default-small .jstree-er {
  background-position: -39px -71px;
}
.jstree-default-small .jstree-ellipsis {
  overflow: hidden;
}
.jstree-default-small .jstree-ellipsis .jstree-anchor {
  width: calc(100% - 23px);
  text-overflow: ellipsis;
  overflow: hidden;
}
.jstree-default-small.jstree-rtl .jstree-node {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAACAQMAAABv1h6PAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMHBgAAiABBI4gz9AAAAABJRU5ErkJggg==");
}
.jstree-default-small.jstree-rtl .jstree-last {
  background: transparent;
}
.jstree-default-large .jstree-node {
  min-height: 32px;
  line-height: 32px;
  margin-left: 32px;
  min-width: 32px;
}
.jstree-default-large .jstree-anchor {
  line-height: 32px;
  height: 32px;
}
.jstree-default-large .jstree-icon {
  width: 32px;
  height: 32px;
  line-height: 32px;
}
.jstree-default-large .jstree-icon:empty {
  width: 32px;
  height: 32px;
  line-height: 32px;
}
.jstree-default-large.jstree-rtl .jstree-node {
  margin-right: 32px;
}
.jstree-default-large .jstree-wholerow {
  height: 32px;
}
.jstree-default-large .jstree-node,
.jstree-default-large .jstree-icon {
  background-image: /*savepage-url=32px.png*/ var(--savepage-url-3);
}
.jstree-default-large .jstree-node {
  background-position: -288px 0px;
  background-repeat: repeat-y;
}
.jstree-default-large .jstree-last {
  background: transparent;
}
.jstree-default-large .jstree-open > .jstree-ocl {
  background-position: -128px 0px;
}
.jstree-default-large .jstree-closed > .jstree-ocl {
  background-position: -96px 0px;
}
.jstree-default-large .jstree-leaf > .jstree-ocl {
  background-position: -64px 0px;
}
.jstree-default-large .jstree-themeicon {
  background-position: -256px 0px;
}
.jstree-default-large > .jstree-no-dots .jstree-node,
.jstree-default-large > .jstree-no-dots .jstree-leaf > .jstree-ocl {
  background: transparent;
}
.jstree-default-large > .jstree-no-dots .jstree-open > .jstree-ocl {
  background-position: -32px 0px;
}
.jstree-default-large > .jstree-no-dots .jstree-closed > .jstree-ocl {
  background-position: 0px 0px;
}
.jstree-default-large .jstree-disabled {
  background: transparent;
}
.jstree-default-large .jstree-disabled.jstree-hovered {
  background: transparent;
}
.jstree-default-large .jstree-disabled.jstree-clicked {
  background: #efefef;
}
.jstree-default-large .jstree-checkbox {
  background-position: -160px 0px;
}
.jstree-default-large .jstree-checkbox:hover {
  background-position: -160px -32px;
}
.jstree-default-large.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,
.jstree-default-large .jstree-checked > .jstree-checkbox {
  background-position: -224px 0px;
}
.jstree-default-large.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,
.jstree-default-large .jstree-checked > .jstree-checkbox:hover {
  background-position: -224px -32px;
}
.jstree-default-large .jstree-anchor > .jstree-undetermined {
  background-position: -192px 0px;
}
.jstree-default-large .jstree-anchor > .jstree-undetermined:hover {
  background-position: -192px -32px;
}
.jstree-default-large .jstree-checkbox-disabled {
  opacity: 0.8;
  filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'jstree-grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#jstree-grayscale");
  /* Firefox 10+ */
  filter: gray;
  /* IE6-9 */
  -webkit-filter: grayscale(100%);
  /* Chrome 19+ & Safari 6+ */
}
.jstree-default-large > .jstree-striped {
  background-size: auto 64px;
}
.jstree-default-large.jstree-rtl .jstree-node {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==");
  background-position: 100% 1px;
  background-repeat: repeat-y;
}
.jstree-default-large.jstree-rtl .jstree-last {
  background: transparent;
}
.jstree-default-large.jstree-rtl .jstree-open > .jstree-ocl {
  background-position: -128px -32px;
}
.jstree-default-large.jstree-rtl .jstree-closed > .jstree-ocl {
  background-position: -96px -32px;
}
.jstree-default-large.jstree-rtl .jstree-leaf > .jstree-ocl {
  background-position: -64px -32px;
}
.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-node,
.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-leaf > .jstree-ocl {
  background: transparent;
}
.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-open > .jstree-ocl {
  background-position: -32px -32px;
}
.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-closed > .jstree-ocl {
  background-position: 0px -32px;
}
.jstree-default-large .jstree-themeicon-custom {
  background-color: transparent;
  background-image: none;
  background-position: 0 0;
}
.jstree-default-large > .jstree-container-ul .jstree-loading > .jstree-ocl {
  background: /*savepage-url=throbber.gif*/ var(--savepage-url-4) center center no-repeat;
}
.jstree-default-large .jstree-file {
  background: /*savepage-url=32px.png*/ var(--savepage-url-3) -96px -64px no-repeat;
}
.jstree-default-large .jstree-folder {
  background: /*savepage-url=32px.png*/ var(--savepage-url-3) -256px 0px no-repeat;
}
.jstree-default-large > .jstree-container-ul > .jstree-node {
  margin-left: 0;
  margin-right: 0;
}
#jstree-dnd.jstree-default-large {
  line-height: 32px;
  padding: 0 4px;
}
#jstree-dnd.jstree-default-large .jstree-ok,
#jstree-dnd.jstree-default-large .jstree-er {
  background-image: /*savepage-url=32px.png*/ var(--savepage-url-3);
  background-repeat: no-repeat;
  background-color: transparent;
}
#jstree-dnd.jstree-default-large i {
  background: transparent;
  width: 32px;
  height: 32px;
  line-height: 32px;
}
#jstree-dnd.jstree-default-large .jstree-ok {
  background-position: 0px -64px;
}
#jstree-dnd.jstree-default-large .jstree-er {
  background-position: -32px -64px;
}
.jstree-default-large .jstree-ellipsis {
  overflow: hidden;
}
.jstree-default-large .jstree-ellipsis .jstree-anchor {
  width: calc(100% - 37px);
  text-overflow: ellipsis;
  overflow: hidden;
}
.jstree-default-large.jstree-rtl .jstree-node {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACAQMAAAAD0EyKAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjgIIGBgABCgCBvVLXcAAAAABJRU5ErkJggg==");
}
.jstree-default-large.jstree-rtl .jstree-last {
  background: transparent;
}
@media (max-width: 768px) {
  #jstree-dnd.jstree-dnd-responsive {
    line-height: 40px;
    font-weight: bold;
    font-size: 1.1em;
    text-shadow: 1px 1px white;
  }
  #jstree-dnd.jstree-dnd-responsive > i {
    background: transparent;
    width: 40px;
    height: 40px;
  }
  #jstree-dnd.jstree-dnd-responsive > .jstree-ok {
    background-image: /*savepage-url=40px.png*/ url();
    background-position: 0 -200px;
    background-size: 120px 240px;
  }
  #jstree-dnd.jstree-dnd-responsive > .jstree-er {
    background-image: /*savepage-url=40px.png*/ url();
    background-position: -40px -200px;
    background-size: 120px 240px;
  }
  #jstree-marker.jstree-dnd-responsive {
    border-left-width: 10px;
    border-top-width: 10px;
    border-bottom-width: 10px;
    margin-top: -10px;
  }
}
@media (max-width: 768px) {
  .jstree-default-responsive {
    /*
	.jstree-open > .jstree-ocl,
	.jstree-closed > .jstree-ocl { border-radius:20px; background-color:white; }
	*/
  }
  .jstree-default-responsive .jstree-icon {
    background-image: /*savepage-url=40px.png*/ url();
  }
  .jstree-default-responsive .jstree-node,
  .jstree-default-responsive .jstree-leaf > .jstree-ocl {
    background: transparent;
  }
  .jstree-default-responsive .jstree-node {
    min-height: 40px;
    line-height: 40px;
    margin-left: 40px;
    min-width: 40px;
    white-space: nowrap;
  }
  .jstree-default-responsive .jstree-anchor {
    line-height: 40px;
    height: 40px;
  }
  .jstree-default-responsive .jstree-icon,
  .jstree-default-responsive .jstree-icon:empty {
    width: 40px;
    height: 40px;
    line-height: 40px;
  }
  .jstree-default-responsive > .jstree-container-ul > .jstree-node {
    margin-left: 0;
  }
  .jstree-default-responsive.jstree-rtl .jstree-node {
    margin-left: 0;
    margin-right: 40px;
    background: transparent;
  }
  .jstree-default-responsive.jstree-rtl .jstree-container-ul > .jstree-node {
    margin-right: 0;
  }
  .jstree-default-responsive .jstree-ocl,
  .jstree-default-responsive .jstree-themeicon,
  .jstree-default-responsive .jstree-checkbox {
    background-size: 120px 240px;
  }
  .jstree-default-responsive .jstree-leaf > .jstree-ocl,
  .jstree-default-responsive.jstree-rtl .jstree-leaf > .jstree-ocl {
    background: transparent;
  }
  .jstree-default-responsive .jstree-open > .jstree-ocl {
    background-position: 0 0 !important;
  }
  .jstree-default-responsive .jstree-closed > .jstree-ocl {
    background-position: 0 -40px !important;
  }
  .jstree-default-responsive.jstree-rtl .jstree-closed > .jstree-ocl {
    background-position: -40px 0 !important;
  }
  .jstree-default-responsive .jstree-themeicon {
    background-position: -40px -40px;
  }
  .jstree-default-responsive .jstree-checkbox,
  .jstree-default-responsive .jstree-checkbox:hover {
    background-position: -40px -80px;
  }
  .jstree-default-responsive.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,
  .jstree-default-responsive.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,
  .jstree-default-responsive .jstree-checked > .jstree-checkbox,
  .jstree-default-responsive .jstree-checked > .jstree-checkbox:hover {
    background-position: 0 -80px;
  }
  .jstree-default-responsive .jstree-anchor > .jstree-undetermined,
  .jstree-default-responsive .jstree-anchor > .jstree-undetermined:hover {
    background-position: 0 -120px;
  }
  .jstree-default-responsive .jstree-anchor {
    font-weight: bold;
    font-size: 1.1em;
    text-shadow: 1px 1px white;
  }
  .jstree-default-responsive > .jstree-striped {
    background: transparent;
  }
  .jstree-default-responsive .jstree-wholerow {
    border-top: 1px solid rgba(255, 255, 255, 0.7);
    border-bottom: 1px solid rgba(64, 64, 64, 0.2);
    background: #ebebeb;
    height: 40px;
  }
  .jstree-default-responsive .jstree-wholerow-hovered {
    background: #e7f4f9;
  }
  .jstree-default-responsive .jstree-wholerow-clicked {
    background: #beebff;
  }
  .jstree-default-responsive .jstree-children .jstree-last > .jstree-wholerow {
    box-shadow: inset 0 -6px 3px -5px #666666;
  }
  .jstree-default-responsive .jstree-children .jstree-open > .jstree-wholerow {
    box-shadow: inset 0 6px 3px -5px #666666;
    border-top: 0;
  }
  .jstree-default-responsive .jstree-children .jstree-open + .jstree-open {
    box-shadow: none;
  }
  .jstree-default-responsive .jstree-node,
  .jstree-default-responsive .jstree-icon,
  .jstree-default-responsive .jstree-node > .jstree-ocl,
  .jstree-default-responsive .jstree-themeicon,
  .jstree-default-responsive .jstree-checkbox {
    background-image: /*savepage-url=40px.png*/ url();
    background-size: 120px 240px;
  }
  .jstree-default-responsive .jstree-node {
    background-position: -80px 0;
    background-repeat: repeat-y;
  }
  .jstree-default-responsive .jstree-last {
    background: transparent;
  }
  .jstree-default-responsive .jstree-leaf > .jstree-ocl {
    background-position: -40px -120px;
  }
  .jstree-default-responsive .jstree-last > .jstree-ocl {
    background-position: -40px -160px;
  }
  .jstree-default-responsive .jstree-themeicon-custom {
    background-color: transparent;
    background-image: none;
    background-position: 0 0;
  }
  .jstree-default-responsive .jstree-file {
    background: /*savepage-url=40px.png*/ url() 0 -160px no-repeat;
    background-size: 120px 240px;
  }
  .jstree-default-responsive .jstree-folder {
    background: /*savepage-url=40px.png*/ url() -40px -40px no-repeat;
    background-size: 120px 240px;
  }
  .jstree-default-responsive > .jstree-container-ul > .jstree-node {
    margin-left: 0;
    margin-right: 0;
  }
}
</style>
    <style data-savepage-href="tree.css">#treeview {
    overflow-x: hidden;
}
.jstree-default .jstree-node {
    margin-left: 16px;
    min-width: 16px;
}
.jstree-default .jstree-icon:empty {
    width: 16px;
    height: 16px;
    line-height: 24px;
    margin-top: 4px;
}
.jstree-default > .jstree-no-dots .jstree-open > .jstree-ocl {
    background-position: -40px -8px;
}
.jstree-default > .jstree-no-dots .jstree-closed > .jstree-ocl {
    background-position: -8px -8px;
}
.jstree-default .jstree-themeicon {
    margin-right: 4px;
}
.jstree-default .jstree-clicked {
    background: #ddd;
}
.jstree-default .jstree-hovered {
    background: #eee;
}


.jstree-default .jstree-wholerow-clicked {
    background: #ddd;
}

.jstree-default .jstree-wholerow-hovered {
    background: #eee;
}

.vakata-context,
.vakata-context ul {
    margin: 0;
    padding: 2px;
    position: absolute;
    background: #f5f5f5;
    border: 1px solid #979797;
    box-shadow: 2px 2px 2px #999999;
}
.vakata-context ul {
    list-style: none;
    left: 100%;
    margin-top: -2.7em;
    margin-left: -4px;
}
.vakata-context .vakata-context-right ul {
    left: auto;
    right: 100%;
    margin-left: auto;
    margin-right: -4px;
}
.vakata-context li {
    list-style: none;
}
.vakata-context li > a {
    display: block;
    padding: 0 2em 0 2em;
    text-decoration: none;
    width: auto;
    color: black;
    white-space: nowrap;
    line-height: 1.8em;
    text-shadow: 1px 1px 0 white;
    border-radius: 1px;
}
.vakata-context li > a:hover {
    position: relative;
    background-color: #e8eff7;
    box-shadow: 0 0 2px #ccc;
}
.vakata-context li > a.vakata-context-parent {
    background-image: url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw==");
    background-position: right center;
    background-repeat: no-repeat;
}
.vakata-context li > a:focus {
    outline: 0;
}
.vakata-context .vakata-context-hover > a {
    position: relative;
    background-color: #e8eff7;
    box-shadow: 0 0 2px #ccc;
}
.vakata-context .vakata-context-separator > a,
.vakata-context .vakata-context-separator > a:hover {
    background: white;
    border: 0;
    border-top: 1px solid #e2e3e3;
    height: 1px;
    min-height: 1px;
    max-height: 1px;
    padding: 0;
    margin: 0 0 0 1.8em;
    border-left: 1px solid #e0e0e0;
    text-shadow: 0 0 0 transparent;
    box-shadow: 0 0 0 transparent;
    border-radius: 0;
}
.vakata-context .vakata-contextmenu-disabled a,
.vakata-context .vakata-contextmenu-disabled a:hover {
    color: silver;
    background-color: transparent;
    border: 0;
    box-shadow: 0 0 0;
}
.vakata-context .vakata-contextmenu-disabled > a > i {
    filter: grayscale(100%);
}
.vakata-context li > a > i {
    text-decoration: none;
    display: inline-block;
    width: 1.8em;
    height: 1.8em;
    background: transparent;
    margin: 0 0 0 -2em;
    vertical-align: top;
    text-align: center;
    line-height: 1.8em;
}
.vakata-context li > a > i:empty {
    width: 1.8em;
    line-height: 1.8em;
}
.vakata-context li > a .vakata-contextmenu-sep {
    display: inline-block;
    width: 1px;
    height: 1.8em;
    background: white;
    margin: 0 0.5em 0 0;
    border-left: 1px solid #e2e3e3;
}
.vakata-context .vakata-contextmenu-shortcut {
    font-size: 0.8em;
    color: silver;
    opacity: 0.5;
    display: none;
}
.vakata-context-rtl ul {
    left: auto;
    right: 100%;
    margin-left: auto;
    margin-right: -4px;
}
.vakata-context-rtl li > a.vakata-context-parent {
    background-image: url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7");
    background-position: left center;
    background-repeat: no-repeat;
}
.vakata-context-rtl .vakata-context-separator > a {
    margin: 0 1.8em 0 0;
    border-left: 0;
    border-right: 1px solid #e2e3e3;
}
.vakata-context-rtl .vakata-context-left ul {
    right: auto;
    left: 100%;
    margin-left: -4px;
    margin-right: auto;
}

.separator-node {
    font-family: "Courier New", monospace;
}

.jstree-default .separator-node::before {
    content: "";
}

.jstree-default .separator-node i {
    display: none;
}



.jstree-default-responsive .jstree-wholerow-hovered, .vakata-context-hover {
    background: #eee;
}
.jstree-default-responsive .jstree-wholerow-clicked {
    background: #ddd;
}

.jstree-default .todo-state-todo {
    color: #fc6dac;
    font-weight: bold;
}

.jstree-default .todo-state-waiting {
    color: #ff8a00;
    font-weight: bold;
}

.jstree-default .todo-state-postponed {
    color: #00b7ee;
    font-weight: bold;
}

.jstree-default .todo-state-cancelled,
.jstree-default .todo-state-overdue {
    color: #ff4d26;
    font-weight: bold;
}

.jstree-default .todo-state-done {
    color: #00b60e;
    font-weight: bold;
}

.jstree-default .extended-todo {
    margin-top: 4px;
}

.jstree-default .extended-todo .jstree-themeicon {
    float: left;
}

.jstree-default .jstree-anchor {
    cursor: pointer;
}

.jstree-default .extended-todo .jstree-anchor {
    display: inline-block;
    line-height: normal;
    height: auto;
    font-size: 98%;
}

.jstree-default .extended-todo .jstree-wholerow.jstree-wholerow-hovered,
.jstree-default .extended-todo .jstree-wholerow.jstree-wholerow-clicked {
    /*height: 31px;*/
}

.jstree-default .extended-todo span.todo-path {
    font-size: 80%;
    font-weight: normal;
    font-style: normal;
    color: #777;
    white-space: nowrap;
    text-decoration: none;
}

.jstree-default .extended-todo .todo-details {
    color: #777;
    font-style: normal;
    font-weight: normal;
}

.jstree-rename-input {
    border: 1px solid silver !important;
}

.jstree-rename-input:focus {
    outline: none !important;
    border: 1px solid silver !important;
}


a.has-notes, a.has-notes:hover {
    text-decoration: underline;
}
</style>
    <style data-savepage-href="vars.css">:root {
    --themed-cloud-icon: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8IS0tIENyZWF0b3I6IENvcmVsRFJBVyAyMDE4ICg2NC1CaXQpIC0tPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI4LjQ2NjZtbSIgaGVpZ2h0PSI2Ljk5NTZtbSIgdmVyc2lvbj0iMS4xIiBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiDQp2aWV3Qm94PSIwIDAgODQ2LjY2IDY5OS41NiINCiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogPGRlZnM+DQogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICA8IVtDREFUQVsNCiAgICAuZmlsMSB7ZmlsbDojNjY2NjY2fQ0KICAgIC5maWwwIHtmaWxsOiNDQ0NDQ0N9DQogICBdXT4NCiAgPC9zdHlsZT4NCiA8L2RlZnM+DQogPGcgaWQ9IkxheWVyX3gwMDIwXzEiPg0KICA8bWV0YWRhdGEgaWQ9IkNvcmVsQ29ycElEXzBDb3JlbC1MYXllciIvPg0KICA8cGF0aCBjbGFzcz0iZmlsMCIgZD0iTS0wIDQ0NC41YzAsLTEyMTMuNDQgMCw5NjYuNTkgMCwwem02ODcuMTkgLTEyNy4wMWMtNi41OCwtNzEuNDQgLTU3LjA1LC0xMjcgLTExOC4zNCwtMTI3IC0yNy45NywwIC01My42OSwxMS41OCAtNzQuMDEsMzAuOTUgLTIyLjk4LC05MS4zOSAtOTMuNjksLTE1Ny45NCAtMTc3LjM0LC0xNTcuOTQgLTEwMi4yOSwwIC0xODUuMjEsOTkuNSAtMTg1LjIxLDIyMi4yNCAwLDExLjk0IDAuNzgsMjMuNjUgMi4yOSwzNS4wNiAtNDYuOCwxMy4xMyAtODEuNjcsNjMuNjMgLTgxLjY3LDEyMy43IDAsNzAuMTQgNDcuNDcsMTI2Ljk5IDEwNS43NSwxMjYuOTlsNTI5LjM0IDBjNTguNCwwIDEwNS43NSwtNTcgMTA1Ljc1LC0xMjYuOTkgMCwtNzAuMTUgLTQ3LjQ3LC0xMjcuMDEgLTEwNS43NSwtMTI3LjAxbC0wLjgxIDB6Ii8+DQogIDxwYXRoIGlkPSJSZWN0YW5nbGVfeDAwMjBfMV94MDAyMF9jb3B5X3gwMDIwXzIiIGNsYXNzPSJmaWwxIiBkPSJNLTAgNDQ0LjVjMCwtNzAuNDEgMzEuOTUsLTEzMi4wNCA3OS40MywtMTY1LjAxIDIuNzcsLTE1NC45MiAxMDguMywtMjc5LjQ5IDIzOC4wNywtMjc5LjQ5IDg1LjU1LDAgMTYwLjU2LDU0LjE0IDIwMi41NSwxMzUuNDIgMTUuNDcsLTUuNDkgMzEuODUsLTguNDMgNDguOCwtOC40MyA3My42OCwwIDEzNi41Myw1NS42IDE2MS4wMiwxMzMuNzMgNjcuMzEsMjIuMDggMTE2Ljc5LDk2IDExNi43OSwxODMuNzggMCwxMDQuOTggLTcxLjA3LDE5MC41IC0xNTguNzUsMTkwLjVsLTUyOS4xNiAwYy04Ny42NiwwIC0xNTguNzUsLTg1LjMgLTE1OC43NSwtMTkwLjV6bTY4Ny4xOSAtMTI3LjAxYy02LjU4LC03MS40NCAtNTcuMDUsLTEyNyAtMTE4LjM0LC0xMjcgLTI3Ljk3LDAgLTUzLjY5LDExLjU4IC03NC4wMSwzMC45NSAtMjIuOTgsLTkxLjM5IC05My42OSwtMTU3Ljk0IC0xNzcuMzQsLTE1Ny45NCAtMTAyLjI5LDAgLTE4NS4yMSw5OS41IC0xODUuMjEsMjIyLjI0IDAsMTEuOTQgMC43OCwyMy42NSAyLjI5LDM1LjA2IC00Ni44LDEzLjEzIC04MS42Nyw2My42MyAtODEuNjcsMTIzLjcgMCw3MC4xNCA0Ny40NywxMjYuOTkgMTA1Ljc1LDEyNi45OWw1MjkuMzQgMGM1OC40LDAgMTA1Ljc1LC01NyAxMDUuNzUsLTEyNi45OSAwLC03MC4xNSAtNDcuNDcsLTEyNy4wMSAtMTA1Ljc1LC0xMjcuMDFsLTAuODEgMHptMCAweiIvPg0KIDwvZz4NCjwvc3ZnPg0K');
    --themed-group-icon: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpYwogICAtIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMKICAgLSBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjE2IgogICBoZWlnaHQ9IjE2IgogICB2aWV3Qm94PSIwIDAgMTYgMTYiCiAgIGZpbGw9ImNvbnRleHQtZmlsbCIKICAgZmlsbC1vcGFjaXR5PSJjb250ZXh0LWZpbGwtb3BhY2l0eSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMTAyIgogICBzb2RpcG9kaTpkb2NuYW1lPSJncm91cC5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuNCAoNWRhNjg5YzMxMywgMjAxOS0wMS0xNCkiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTEwOCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczEwNiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAyNyIKICAgICBpZD0ibmFtZWR2aWV3MTA0IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIyNi44MTI1IgogICAgIGlua3NjYXBlOmN4PSIxNS4zNTQwNTMiCiAgICAgaW5rc2NhcGU6Y3k9IjUuMjQ1NTc5OSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnMTAyIiAvPgogIDxwYXRoCiAgICAgZD0iTTE0LjUgM0g2LjkxNGEuNS41IDAgMCAxLS4zNTQtLjE0Nkw1LjE0NiAxLjQzOUExLjQ5MSAxLjQ5MSAwIDAgMCA0LjA4NiAxSDEuNUExLjUgMS41IDAgMCAwIDAgMi41djExQTEuNSAxLjUgMCAwIDAgMS41IDE1aDEzYTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtOUExLjUgMS41IDAgMCAwIDE0LjUgM3ptLjUgMTAuNWEuNS41IDAgMCAxLS41LjVoLTEzYS41LjUgMCAwIDEtLjUtLjVWNmgxNHpNMSA1VjIuNWEuNS41IDAgMCAxIC41LS41aDIuNTg2YS41LjUgMCAwIDEgLjM1NC4xNDZsMS40MTQgMS40MTVBMS40OTEgMS40OTEgMCAwIDAgNi45MTQgNEgxNC41YS41LjUgMCAwIDEgLjUuNVY1eiIKICAgICBpZD0icGF0aDk0IgogICAgIHN0eWxlPSJmaWxsOiM2NjY2NjYiIC8+CiAgPHBhdGgKICAgICBkPSJNMTUgMTMuNWEuNS41IDAgMCAxLS41LjVoLTEzYS41LjUgMCAwIDEtLjUtLjVWNmgxNHoiCiAgICAgZmlsbC1vcGFjaXR5PSIuMiIKICAgICBpZD0icGF0aDk2IgogICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjEiIC8+CiAgPHBhdGgKICAgICBkPSJNMSA1VjIuNWEuNS41IDAgMCAxIC41LS41aDIuNTg2YS41LjUgMCAwIDEgLjM1NC4xNDZsMS40MTQgMS40MTVBMS40OTEgMS40OTEgMCAwIDAgNi45MTQgNEgxNC41YS41LjUgMCAwIDEgLjUuNVY1eiIKICAgICBmaWxsLW9wYWNpdHk9Ii4xIgogICAgIGlkPSJwYXRoOTgiCiAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MSIgLz4KICA8cGF0aAogICAgIGQ9Ik0xNSAxMy41YS41LjUgMCAwIDEtLjUuNWgtMTNhLjUuNSAwIDAgMS0uNS0uNVYxM2gxNHoiCiAgICAgZmlsbC1vcGFjaXR5PSIuMDUiCiAgICAgaWQ9InBhdGgxMDAiCiAgICAgc3R5bGU9ImZpbGw6IzY2NjY2NiIgLz4KPC9zdmc+Cg==');
    --themed-globe-icon: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWMNCiAgIC0gTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcw0KICAgLSBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAtLT4NCg0KPHN2Zw0KICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIg0KICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyINCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyINCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciDQogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciDQogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiDQogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSINCiAgIHdpZHRoPSIxNiINCiAgIGhlaWdodD0iMTYiDQogICB2aWV3Qm94PSIwIDAgMTYgMTYiDQogICB2ZXJzaW9uPSIxLjEiDQogICBpZD0ic3ZnODI1Ig0KICAgc29kaXBvZGk6ZG9jbmFtZT0iZ2xvYmUuc3ZnIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45Mi40ICg1ZGE2ODljMzEzLCAyMDE5LTAxLTE0KSI+DQogIDxtZXRhZGF0YQ0KICAgICBpZD0ibWV0YWRhdGE4MzEiPg0KICAgIDxyZGY6UkRGPg0KICAgICAgPGNjOldvcmsNCiAgICAgICAgIHJkZjphYm91dD0iIj4NCiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+DQogICAgICAgIDxkYzp0eXBlDQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+DQogICAgICA8L2NjOldvcms+DQogICAgPC9yZGY6UkRGPg0KICA8L21ldGFkYXRhPg0KICA8ZGVmcw0KICAgICBpZD0iZGVmczgyOSIgLz4NCiAgPHNvZGlwb2RpOm5hbWVkdmlldw0KICAgICBwYWdlY29sb3I9IiNmZmZmZmYiDQogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2Ig0KICAgICBib3JkZXJvcGFjaXR5PSIxIg0KICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIg0KICAgICBncmlkdG9sZXJhbmNlPSIxMCINCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIg0KICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCINCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiINCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI3Ig0KICAgICBpZD0ibmFtZWR2aWV3ODI3Ig0KICAgICBzaG93Z3JpZD0iZmFsc2UiDQogICAgIGlua3NjYXBlOnpvb209IjE0Ljc1Ig0KICAgICBpbmtzY2FwZTpjeD0iOCINCiAgICAgaW5rc2NhcGU6Y3k9IjgiDQogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCINCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04Ig0KICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIg0KICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc4MjUiIC8+DQogIDxwYXRoDQogICAgIGZpbGw9ImNvbnRleHQtZmlsbCINCiAgICAgZD0iTTggMGE4IDggMCAxIDAgOCA4IDguMDA5IDguMDA5IDAgMCAwLTgtOHptNS4xNjMgNC45NThoLTEuNTUyYTcuNyA3LjcgMCAwIDAtMS4wNTEtMi4zNzYgNi4wMyA2LjAzIDAgMCAxIDIuNjAzIDIuMzc2ek0xNCA4YTUuOTYzIDUuOTYzIDAgMCAxLS4zMzUgMS45NThoLTEuODIxQTEyLjMyNyAxMi4zMjcgMCAwIDAgMTIgOGExMi4zMjcgMTIuMzI3IDAgMCAwLS4xNTYtMS45NThoMS44MjFBNS45NjMgNS45NjMgMCAwIDEgMTQgOHptLTYgNmMtMS4wNzUgMC0yLjAzNy0xLjItMi41NjctMi45NThoNS4xMzVDMTAuMDM3IDEyLjggOS4wNzUgMTQgOCAxNHpNNS4xNzQgOS45NThhMTEuMDg0IDExLjA4NCAwIDAgMSAwLTMuOTE2aDUuNjUxQTExLjExNCAxMS4xMTQgMCAwIDEgMTEgOGExMS4xMTQgMTEuMTE0IDAgMCAxLS4xNzQgMS45NTh6TTIgOGE1Ljk2MyA1Ljk2MyAwIDAgMSAuMzM1LTEuOTU4aDEuODIxYTEyLjM2MSAxMi4zNjEgMCAwIDAgMCAzLjkxNkgyLjMzNUE1Ljk2MyA1Ljk2MyAwIDAgMSAyIDh6bTYtNmMxLjA3NSAwIDIuMDM3IDEuMiAyLjU2NyAyLjk1OEg1LjQzM0M1Ljk2MyAzLjIgNi45MjUgMiA4IDJ6bS0yLjU2LjU4MmE3LjcgNy43IDAgMCAwLTEuMDUxIDIuMzc2SDIuODM3QTYuMDMgNi4wMyAwIDAgMSA1LjQ0IDIuNTgyem0tMi42IDguNDZoMS41NDlhNy43IDcuNyAwIDAgMCAxLjA1MSAyLjM3NiA2LjAzIDYuMDMgMCAwIDEtMi42MDMtMi4zNzZ6bTcuNzIzIDIuMzc2YTcuNyA3LjcgMCAwIDAgMS4wNTEtMi4zNzZoMS41NTJhNi4wMyA2LjAzIDAgMCAxLTIuNjA2IDIuMzc2eiINCiAgICAgaWQ9InBhdGg4MjMiDQogICAgIHN0eWxlPSJmaWxsOiM2NjY2NjY7ZmlsbC1vcGFjaXR5OjEiIC8+DQo8L3N2Zz4NCg==');
    --themed-notes-icon: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWMNCiAgIC0gTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcw0KICAgLSBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAtLT4NCg0KPHN2Zw0KICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIg0KICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyINCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyINCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciDQogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciDQogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiDQogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSINCiAgIHdpZHRoPSIxNiINCiAgIGhlaWdodD0iMTYiDQogICB2aWV3Qm94PSIwIDAgMTYgMTYiDQogICB2ZXJzaW9uPSIxLjEiDQogICBpZD0ic3ZnODE5Ig0KICAgc29kaXBvZGk6ZG9jbmFtZT0ibm90ZXMuc3ZnIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45Mi40ICg1ZGE2ODljMzEzLCAyMDE5LTAxLTE0KSI+DQogIDxtZXRhZGF0YQ0KICAgICBpZD0ibWV0YWRhdGE4MjUiPg0KICAgIDxyZGY6UkRGPg0KICAgICAgPGNjOldvcmsNCiAgICAgICAgIHJkZjphYm91dD0iIj4NCiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+DQogICAgICAgIDxkYzp0eXBlDQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+DQogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPg0KICAgICAgPC9jYzpXb3JrPg0KICAgIDwvcmRmOlJERj4NCiAgPC9tZXRhZGF0YT4NCiAgPGRlZnMNCiAgICAgaWQ9ImRlZnM4MjMiIC8+DQogIDxzb2RpcG9kaTpuYW1lZHZpZXcNCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIg0KICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiINCiAgICAgYm9yZGVyb3BhY2l0eT0iMSINCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCINCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiDQogICAgIGd1aWRldG9sZXJhbmNlPSIxMCINCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiDQogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiDQogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCINCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAyNyINCiAgICAgaWQ9Im5hbWVkdmlldzgyMSINCiAgICAgc2hvd2dyaWQ9ImZhbHNlIg0KICAgICBpbmtzY2FwZTp6b29tPSIxMy40MDYyNSINCiAgICAgaW5rc2NhcGU6Y3g9IjE5LjgwOTA4OCINCiAgICAgaW5rc2NhcGU6Y3k9IjQuMTYzMjczNyINCiAgICAgaW5rc2NhcGU6d2luZG93LXg9Ii04Ig0KICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiDQogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiDQogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzgxOSIgLz4NCiAgPHBhdGgNCiAgICAgZmlsbD0iY29udGV4dC1maWxsIg0KICAgICBkPSJNMTIgMEg0YTMgMyAwIDAgMC0zIDN2MTBhMyAzIDAgMCAwIDMgM2g4YTMgMyAwIDAgMCAzLTNWM2EzIDMgMCAwIDAtMy0zem0xIDEzYTEgMSAwIDAgMS0xIDFINGExIDEgMCAwIDEtMS0xVjNhMSAxIDAgMCAxIDEtMWg4YTEgMSAwIDAgMSAxIDF6Ig0KICAgICBpZD0icGF0aDgxNSINCiAgICAgc3R5bGU9ImZpbGw6IzY2NjY2NjtmaWxsLW9wYWNpdHk6MSIgLz4NCiAgPHBhdGgNCiAgICAgZmlsbD0iY29udGV4dC1maWxsIg0KICAgICBkPSJNMTAuNSA1aC01YS41LjUgMCAwIDEgMC0xaDVhLjUuNSAwIDAgMSAwIDF6bTAgMmgtNWEuNS41IDAgMCAxIDAtMWg1YS41LjUgMCAwIDEgMCAxem0wIDJoLTVhLjUuNSAwIDAgMSAwLTFoNWEuNS41IDAgMCAxIDAgMXptLTMgMmgtMmEuNS41IDAgMCAxIDAtMWgyYS41LjUgMCAwIDEgMCAxeiINCiAgICAgaWQ9InBhdGg4MTciDQogICAgIHN0eWxlPSJmaWxsOiM2NjY2NjY7ZmlsbC1vcGFjaXR5OjEiIC8+DQo8L3N2Zz4NCg==');
}
</style>

    <script type="text/javascript" data-savepage-src="lib/jquery.js" src="data:application/javascript;charset=utf-8,%2F*!%0D%0A%20*%20jQuery%20JavaScript%20Library%20v3.4.1%0D%0A%20*%20https%3A%2F%2Fjquery.com%2F%0D%0A%20*%0D%0A%20*%20Includes%20Sizzle.js%0D%0A%20*%20https%3A%2F%2Fsizzlejs.com%2F%0D%0A%20*%0D%0A%20*%20Copyright%20JS%20Foundation%20and%20other%20contributors%0D%0A%20*%20Released%20under%20the%20MIT%20license%0D%0A%20*%20https%3A%2F%2Fjquery.org%2Flicense%0D%0A%20*%0D%0A%20*%20Date%3A%202019-05-01T21%3A04Z%0D%0A%20*%2F%0D%0A(%20function(%20global%2C%20factory%20)%20%7B%0D%0A%0D%0A%09%22use%20strict%22%3B%0D%0A%0D%0A%09if%20(%20typeof%20module%20%3D%3D%3D%20%22object%22%20%26%26%20typeof%20module.exports%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20For%20CommonJS%20and%20CommonJS-like%20environments%20where%20a%20proper%20%60window%60%0D%0A%09%09%2F%2F%20is%20present%2C%20execute%20the%20factory%20and%20get%20jQuery.%0D%0A%09%09%2F%2F%20For%20environments%20that%20do%20not%20have%20a%20%60window%60%20with%20a%20%60document%60%0D%0A%09%09%2F%2F%20(such%20as%20Node.js)%2C%20expose%20a%20factory%20as%20module.exports.%0D%0A%09%09%2F%2F%20This%20accentuates%20the%20need%20for%20the%20creation%20of%20a%20real%20%60window%60.%0D%0A%09%09%2F%2F%20e.g.%20var%20jQuery%20%3D%20require(%22jquery%22)(window)%3B%0D%0A%09%09%2F%2F%20See%20ticket%20%2314549%20for%20more%20info.%0D%0A%09%09module.exports%20%3D%20global.document%20%3F%0D%0A%09%09%09factory(%20global%2C%20true%20)%20%3A%0D%0A%09%09%09function(%20w%20)%20%7B%0D%0A%09%09%09%09if%20(%20!w.document%20)%20%7B%0D%0A%09%09%09%09%09throw%20new%20Error(%20%22jQuery%20requires%20a%20window%20with%20a%20document%22%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20factory(%20w%20)%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%7D%20else%20%7B%0D%0A%09%09factory(%20global%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%2F%2F%20Pass%20this%20if%20window%20is%20not%20defined%20yet%0D%0A%7D%20)(%20typeof%20window%20!%3D%3D%20%22undefined%22%20%3F%20window%20%3A%20this%2C%20function(%20window%2C%20noGlobal%20)%20%7B%0D%0A%0D%0A%2F%2F%20Edge%20%3C%3D%2012%20-%2013%2B%2C%20Firefox%20%3C%3D18%20-%2045%2B%2C%20IE%2010%20-%2011%2C%20Safari%205.1%20-%209%2B%2C%20iOS%206%20-%209.1%0D%0A%2F%2F%20throw%20exceptions%20when%20non-strict%20code%20(e.g.%2C%20ASP.NET%204.5)%20accesses%20strict%20mode%0D%0A%2F%2F%20arguments.callee.caller%20(trac-13335).%20But%20as%20of%20jQuery%203.0%20(2016)%2C%20strict%20mode%20should%20be%20common%0D%0A%2F%2F%20enough%20that%20all%20such%20attempts%20are%20guarded%20in%20a%20try%20block.%0D%0A%22use%20strict%22%3B%0D%0A%0D%0Avar%20arr%20%3D%20%5B%5D%3B%0D%0A%0D%0Avar%20document%20%3D%20window.document%3B%0D%0A%0D%0Avar%20getProto%20%3D%20Object.getPrototypeOf%3B%0D%0A%0D%0Avar%20slice%20%3D%20arr.slice%3B%0D%0A%0D%0Avar%20concat%20%3D%20arr.concat%3B%0D%0A%0D%0Avar%20push%20%3D%20arr.push%3B%0D%0A%0D%0Avar%20indexOf%20%3D%20arr.indexOf%3B%0D%0A%0D%0Avar%20class2type%20%3D%20%7B%7D%3B%0D%0A%0D%0Avar%20toString%20%3D%20class2type.toString%3B%0D%0A%0D%0Avar%20hasOwn%20%3D%20class2type.hasOwnProperty%3B%0D%0A%0D%0Avar%20fnToString%20%3D%20hasOwn.toString%3B%0D%0A%0D%0Avar%20ObjectFunctionString%20%3D%20fnToString.call(%20Object%20)%3B%0D%0A%0D%0Avar%20support%20%3D%20%7B%7D%3B%0D%0A%0D%0Avar%20isFunction%20%3D%20function%20isFunction(%20obj%20)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Support%3A%20Chrome%20%3C%3D57%2C%20Firefox%20%3C%3D52%0D%0A%20%20%20%20%20%20%2F%2F%20In%20some%20browsers%2C%20typeof%20returns%20%22function%22%20for%20HTML%20%3Cobject%3E%20elements%0D%0A%20%20%20%20%20%20%2F%2F%20(i.e.%2C%20%60typeof%20document.createElement(%20%22object%22%20)%20%3D%3D%3D%20%22function%22%60).%0D%0A%20%20%20%20%20%20%2F%2F%20We%20don't%20want%20to%20classify%20*any*%20DOM%20node%20as%20a%20function.%0D%0A%20%20%20%20%20%20return%20typeof%20obj%20%3D%3D%3D%20%22function%22%20%26%26%20typeof%20obj.nodeType%20!%3D%3D%20%22number%22%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0Avar%20isWindow%20%3D%20function%20isWindow(%20obj%20)%20%7B%0D%0A%09%09return%20obj%20!%3D%20null%20%26%26%20obj%20%3D%3D%3D%20obj.window%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%09var%20preservedScriptAttributes%20%3D%20%7B%0D%0A%09%09type%3A%20true%2C%0D%0A%09%09src%3A%20true%2C%0D%0A%09%09nonce%3A%20true%2C%0D%0A%09%09noModule%3A%20true%0D%0A%09%7D%3B%0D%0A%0D%0A%09function%20DOMEval(%20code%2C%20node%2C%20doc%20)%20%7B%0D%0A%09%09doc%20%3D%20doc%20%7C%7C%20document%3B%0D%0A%0D%0A%09%09var%20i%2C%20val%2C%0D%0A%09%09%09script%20%3D%20doc.createElement(%20%22script%22%20)%3B%0D%0A%0D%0A%09%09script.text%20%3D%20code%3B%0D%0A%09%09if%20(%20node%20)%20%7B%0D%0A%09%09%09for%20(%20i%20in%20preservedScriptAttributes%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20Firefox%2064%2B%2C%20Edge%2018%2B%0D%0A%09%09%09%09%2F%2F%20Some%20browsers%20don't%20support%20the%20%22nonce%22%20property%20on%20scripts.%0D%0A%09%09%09%09%2F%2F%20On%20the%20other%20hand%2C%20just%20using%20%60getAttribute%60%20is%20not%20enough%20as%0D%0A%09%09%09%09%2F%2F%20the%20%60nonce%60%20attribute%20is%20reset%20to%20an%20empty%20string%20whenever%20it%0D%0A%09%09%09%09%2F%2F%20becomes%20browsing-context%20connected.%0D%0A%09%09%09%09%2F%2F%20See%20https%3A%2F%2Fgithub.com%2Fwhatwg%2Fhtml%2Fissues%2F2369%0D%0A%09%09%09%09%2F%2F%20See%20https%3A%2F%2Fhtml.spec.whatwg.org%2F%23nonce-attributes%0D%0A%09%09%09%09%2F%2F%20The%20%60node.getAttribute%60%20check%20was%20added%20for%20the%20sake%20of%0D%0A%09%09%09%09%2F%2F%20%60jQuery.globalEval%60%20so%20that%20it%20can%20fake%20a%20nonce-containing%20node%0D%0A%09%09%09%09%2F%2F%20via%20an%20object.%0D%0A%09%09%09%09val%20%3D%20node%5B%20i%20%5D%20%7C%7C%20node.getAttribute%20%26%26%20node.getAttribute(%20i%20)%3B%0D%0A%09%09%09%09if%20(%20val%20)%20%7B%0D%0A%09%09%09%09%09script.setAttribute(%20i%2C%20val%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09doc.head.appendChild(%20script%20).parentNode.removeChild(%20script%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%0D%0Afunction%20toType(%20obj%20)%20%7B%0D%0A%09if%20(%20obj%20%3D%3D%20null%20)%20%7B%0D%0A%09%09return%20obj%20%2B%20%22%22%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Android%20%3C%3D2.3%20only%20(functionish%20RegExp)%0D%0A%09return%20typeof%20obj%20%3D%3D%3D%20%22object%22%20%7C%7C%20typeof%20obj%20%3D%3D%3D%20%22function%22%20%3F%0D%0A%09%09class2type%5B%20toString.call(%20obj%20)%20%5D%20%7C%7C%20%22object%22%20%3A%0D%0A%09%09typeof%20obj%3B%0D%0A%7D%0D%0A%2F*%20global%20Symbol%20*%2F%0D%0A%2F%2F%20Defining%20this%20global%20in%20.eslintrc.json%20would%20create%20a%20danger%20of%20using%20the%20global%0D%0A%2F%2F%20unguarded%20in%20another%20place%2C%20it%20seems%20safer%20to%20define%20global%20only%20for%20this%20module%0D%0A%0D%0A%0D%0A%0D%0Avar%0D%0A%09version%20%3D%20%223.4.1%22%2C%0D%0A%0D%0A%09%2F%2F%20Define%20a%20local%20copy%20of%20jQuery%0D%0A%09jQuery%20%3D%20function(%20selector%2C%20context%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20The%20jQuery%20object%20is%20actually%20just%20the%20init%20constructor%20'enhanced'%0D%0A%09%09%2F%2F%20Need%20init%20if%20jQuery%20is%20called%20(just%20allow%20error%20to%20be%20thrown%20if%20not%20included)%0D%0A%09%09return%20new%20jQuery.fn.init(%20selector%2C%20context%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Android%20%3C%3D4.0%20only%0D%0A%09%2F%2F%20Make%20sure%20we%20trim%20BOM%20and%20NBSP%0D%0A%09rtrim%20%3D%20%2F%5E%5B%5Cs%5CuFEFF%5CxA0%5D%2B%7C%5B%5Cs%5CuFEFF%5CxA0%5D%2B%24%2Fg%3B%0D%0A%0D%0AjQuery.fn%20%3D%20jQuery.prototype%20%3D%20%7B%0D%0A%0D%0A%09%2F%2F%20The%20current%20version%20of%20jQuery%20being%20used%0D%0A%09jquery%3A%20version%2C%0D%0A%0D%0A%09constructor%3A%20jQuery%2C%0D%0A%0D%0A%09%2F%2F%20The%20default%20length%20of%20a%20jQuery%20object%20is%200%0D%0A%09length%3A%200%2C%0D%0A%0D%0A%09toArray%3A%20function()%20%7B%0D%0A%09%09return%20slice.call(%20this%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Get%20the%20Nth%20element%20in%20the%20matched%20element%20set%20OR%0D%0A%09%2F%2F%20Get%20the%20whole%20matched%20element%20set%20as%20a%20clean%20array%0D%0A%09get%3A%20function(%20num%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Return%20all%20the%20elements%20in%20a%20clean%20array%0D%0A%09%09if%20(%20num%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09return%20slice.call(%20this%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Return%20just%20the%20one%20element%20from%20the%20set%0D%0A%09%09return%20num%20%3C%200%20%3F%20this%5B%20num%20%2B%20this.length%20%5D%20%3A%20this%5B%20num%20%5D%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Take%20an%20array%20of%20elements%20and%20push%20it%20onto%20the%20stack%0D%0A%09%2F%2F%20(returning%20the%20new%20matched%20element%20set)%0D%0A%09pushStack%3A%20function(%20elems%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Build%20a%20new%20jQuery%20matched%20element%20set%0D%0A%09%09var%20ret%20%3D%20jQuery.merge(%20this.constructor()%2C%20elems%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Add%20the%20old%20object%20onto%20the%20stack%20(as%20a%20reference)%0D%0A%09%09ret.prevObject%20%3D%20this%3B%0D%0A%0D%0A%09%09%2F%2F%20Return%20the%20newly-formed%20element%20set%0D%0A%09%09return%20ret%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Execute%20a%20callback%20for%20every%20element%20in%20the%20matched%20set.%0D%0A%09each%3A%20function(%20callback%20)%20%7B%0D%0A%09%09return%20jQuery.each(%20this%2C%20callback%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09map%3A%20function(%20callback%20)%20%7B%0D%0A%09%09return%20this.pushStack(%20jQuery.map(%20this%2C%20function(%20elem%2C%20i%20)%20%7B%0D%0A%09%09%09return%20callback.call(%20elem%2C%20i%2C%20elem%20)%3B%0D%0A%09%09%7D%20)%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09slice%3A%20function()%20%7B%0D%0A%09%09return%20this.pushStack(%20slice.apply(%20this%2C%20arguments%20)%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09first%3A%20function()%20%7B%0D%0A%09%09return%20this.eq(%200%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09last%3A%20function()%20%7B%0D%0A%09%09return%20this.eq(%20-1%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09eq%3A%20function(%20i%20)%20%7B%0D%0A%09%09var%20len%20%3D%20this.length%2C%0D%0A%09%09%09j%20%3D%20%2Bi%20%2B%20(%20i%20%3C%200%20%3F%20len%20%3A%200%20)%3B%0D%0A%09%09return%20this.pushStack(%20j%20%3E%3D%200%20%26%26%20j%20%3C%20len%20%3F%20%5B%20this%5B%20j%20%5D%20%5D%20%3A%20%5B%5D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09end%3A%20function()%20%7B%0D%0A%09%09return%20this.prevObject%20%7C%7C%20this.constructor()%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20For%20internal%20use%20only.%0D%0A%09%2F%2F%20Behaves%20like%20an%20Array's%20method%2C%20not%20like%20a%20jQuery%20method.%0D%0A%09push%3A%20push%2C%0D%0A%09sort%3A%20arr.sort%2C%0D%0A%09splice%3A%20arr.splice%0D%0A%7D%3B%0D%0A%0D%0AjQuery.extend%20%3D%20jQuery.fn.extend%20%3D%20function()%20%7B%0D%0A%09var%20options%2C%20name%2C%20src%2C%20copy%2C%20copyIsArray%2C%20clone%2C%0D%0A%09%09target%20%3D%20arguments%5B%200%20%5D%20%7C%7C%20%7B%7D%2C%0D%0A%09%09i%20%3D%201%2C%0D%0A%09%09length%20%3D%20arguments.length%2C%0D%0A%09%09deep%20%3D%20false%3B%0D%0A%0D%0A%09%2F%2F%20Handle%20a%20deep%20copy%20situation%0D%0A%09if%20(%20typeof%20target%20%3D%3D%3D%20%22boolean%22%20)%20%7B%0D%0A%09%09deep%20%3D%20target%3B%0D%0A%0D%0A%09%09%2F%2F%20Skip%20the%20boolean%20and%20the%20target%0D%0A%09%09target%20%3D%20arguments%5B%20i%20%5D%20%7C%7C%20%7B%7D%3B%0D%0A%09%09i%2B%2B%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Handle%20case%20when%20target%20is%20a%20string%20or%20something%20(possible%20in%20deep%20copy)%0D%0A%09if%20(%20typeof%20target%20!%3D%3D%20%22object%22%20%26%26%20!isFunction(%20target%20)%20)%20%7B%0D%0A%09%09target%20%3D%20%7B%7D%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Extend%20jQuery%20itself%20if%20only%20one%20argument%20is%20passed%0D%0A%09if%20(%20i%20%3D%3D%3D%20length%20)%20%7B%0D%0A%09%09target%20%3D%20this%3B%0D%0A%09%09i--%3B%0D%0A%09%7D%0D%0A%0D%0A%09for%20(%20%3B%20i%20%3C%20length%3B%20i%2B%2B%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Only%20deal%20with%20non-null%2Fundefined%20values%0D%0A%09%09if%20(%20(%20options%20%3D%20arguments%5B%20i%20%5D%20)%20!%3D%20null%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Extend%20the%20base%20object%0D%0A%09%09%09for%20(%20name%20in%20options%20)%20%7B%0D%0A%09%09%09%09copy%20%3D%20options%5B%20name%20%5D%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Prevent%20Object.prototype%20pollution%0D%0A%09%09%09%09%2F%2F%20Prevent%20never-ending%20loop%0D%0A%09%09%09%09if%20(%20name%20%3D%3D%3D%20%22__proto__%22%20%7C%7C%20target%20%3D%3D%3D%20copy%20)%20%7B%0D%0A%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Recurse%20if%20we're%20merging%20plain%20objects%20or%20arrays%0D%0A%09%09%09%09if%20(%20deep%20%26%26%20copy%20%26%26%20(%20jQuery.isPlainObject(%20copy%20)%20%7C%7C%0D%0A%09%09%09%09%09(%20copyIsArray%20%3D%20Array.isArray(%20copy%20)%20)%20)%20)%20%7B%0D%0A%09%09%09%09%09src%20%3D%20target%5B%20name%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Ensure%20proper%20type%20for%20the%20source%20value%0D%0A%09%09%09%09%09if%20(%20copyIsArray%20%26%26%20!Array.isArray(%20src%20)%20)%20%7B%0D%0A%09%09%09%09%09%09clone%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09%7D%20else%20if%20(%20!copyIsArray%20%26%26%20!jQuery.isPlainObject(%20src%20)%20)%20%7B%0D%0A%09%09%09%09%09%09clone%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09clone%20%3D%20src%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09copyIsArray%20%3D%20false%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Never%20move%20original%20objects%2C%20clone%20them%0D%0A%09%09%09%09%09target%5B%20name%20%5D%20%3D%20jQuery.extend(%20deep%2C%20clone%2C%20copy%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Don't%20bring%20in%20undefined%20values%0D%0A%09%09%09%09%7D%20else%20if%20(%20copy%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09%09target%5B%20name%20%5D%20%3D%20copy%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Return%20the%20modified%20object%0D%0A%09return%20target%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%0D%0A%09%2F%2F%20Unique%20for%20each%20copy%20of%20jQuery%20on%20the%20page%0D%0A%09expando%3A%20%22jQuery%22%20%2B%20(%20version%20%2B%20Math.random()%20).replace(%20%2F%5CD%2Fg%2C%20%22%22%20)%2C%0D%0A%0D%0A%09%2F%2F%20Assume%20jQuery%20is%20ready%20without%20the%20ready%20module%0D%0A%09isReady%3A%20true%2C%0D%0A%0D%0A%09error%3A%20function(%20msg%20)%20%7B%0D%0A%09%09throw%20new%20Error(%20msg%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09noop%3A%20function()%20%7B%7D%2C%0D%0A%0D%0A%09isPlainObject%3A%20function(%20obj%20)%20%7B%0D%0A%09%09var%20proto%2C%20Ctor%3B%0D%0A%0D%0A%09%09%2F%2F%20Detect%20obvious%20negatives%0D%0A%09%09%2F%2F%20Use%20toString%20instead%20of%20jQuery.type%20to%20catch%20host%20objects%0D%0A%09%09if%20(%20!obj%20%7C%7C%20toString.call(%20obj%20)%20!%3D%3D%20%22%5Bobject%20Object%5D%22%20)%20%7B%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09proto%20%3D%20getProto(%20obj%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Objects%20with%20no%20prototype%20(e.g.%2C%20%60Object.create(%20null%20)%60)%20are%20plain%0D%0A%09%09if%20(%20!proto%20)%20%7B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Objects%20with%20prototype%20are%20plain%20iff%20they%20were%20constructed%20by%20a%20global%20Object%20function%0D%0A%09%09Ctor%20%3D%20hasOwn.call(%20proto%2C%20%22constructor%22%20)%20%26%26%20proto.constructor%3B%0D%0A%09%09return%20typeof%20Ctor%20%3D%3D%3D%20%22function%22%20%26%26%20fnToString.call(%20Ctor%20)%20%3D%3D%3D%20ObjectFunctionString%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09isEmptyObject%3A%20function(%20obj%20)%20%7B%0D%0A%09%09var%20name%3B%0D%0A%0D%0A%09%09for%20(%20name%20in%20obj%20)%20%7B%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%0D%0A%09%09return%20true%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Evaluates%20a%20script%20in%20a%20global%20context%0D%0A%09globalEval%3A%20function(%20code%2C%20options%20)%20%7B%0D%0A%09%09DOMEval(%20code%2C%20%7B%20nonce%3A%20options%20%26%26%20options.nonce%20%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09each%3A%20function(%20obj%2C%20callback%20)%20%7B%0D%0A%09%09var%20length%2C%20i%20%3D%200%3B%0D%0A%0D%0A%09%09if%20(%20isArrayLike(%20obj%20)%20)%20%7B%0D%0A%09%09%09length%20%3D%20obj.length%3B%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20length%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09if%20(%20callback.call(%20obj%5B%20i%20%5D%2C%20i%2C%20obj%5B%20i%20%5D%20)%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09for%20(%20i%20in%20obj%20)%20%7B%0D%0A%09%09%09%09if%20(%20callback.call(%20obj%5B%20i%20%5D%2C%20i%2C%20obj%5B%20i%20%5D%20)%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20obj%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Android%20%3C%3D4.0%20only%0D%0A%09trim%3A%20function(%20text%20)%20%7B%0D%0A%09%09return%20text%20%3D%3D%20null%20%3F%0D%0A%09%09%09%22%22%20%3A%0D%0A%09%09%09(%20text%20%2B%20%22%22%20).replace(%20rtrim%2C%20%22%22%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20results%20is%20for%20internal%20usage%20only%0D%0A%09makeArray%3A%20function(%20arr%2C%20results%20)%20%7B%0D%0A%09%09var%20ret%20%3D%20results%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%09%09if%20(%20arr%20!%3D%20null%20)%20%7B%0D%0A%09%09%09if%20(%20isArrayLike(%20Object(%20arr%20)%20)%20)%20%7B%0D%0A%09%09%09%09jQuery.merge(%20ret%2C%0D%0A%09%09%09%09%09typeof%20arr%20%3D%3D%3D%20%22string%22%20%3F%0D%0A%09%09%09%09%09%5B%20arr%20%5D%20%3A%20arr%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09push.call(%20ret%2C%20arr%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20ret%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09inArray%3A%20function(%20elem%2C%20arr%2C%20i%20)%20%7B%0D%0A%09%09return%20arr%20%3D%3D%20null%20%3F%20-1%20%3A%20indexOf.call(%20arr%2C%20elem%2C%20i%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Android%20%3C%3D4.0%20only%2C%20PhantomJS%201%20only%0D%0A%09%2F%2F%20push.apply(_%2C%20arraylike)%20throws%20on%20ancient%20WebKit%0D%0A%09merge%3A%20function(%20first%2C%20second%20)%20%7B%0D%0A%09%09var%20len%20%3D%20%2Bsecond.length%2C%0D%0A%09%09%09j%20%3D%200%2C%0D%0A%09%09%09i%20%3D%20first.length%3B%0D%0A%0D%0A%09%09for%20(%20%3B%20j%20%3C%20len%3B%20j%2B%2B%20)%20%7B%0D%0A%09%09%09first%5B%20i%2B%2B%20%5D%20%3D%20second%5B%20j%20%5D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09first.length%20%3D%20i%3B%0D%0A%0D%0A%09%09return%20first%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09grep%3A%20function(%20elems%2C%20callback%2C%20invert%20)%20%7B%0D%0A%09%09var%20callbackInverse%2C%0D%0A%09%09%09matches%20%3D%20%5B%5D%2C%0D%0A%09%09%09i%20%3D%200%2C%0D%0A%09%09%09length%20%3D%20elems.length%2C%0D%0A%09%09%09callbackExpect%20%3D%20!invert%3B%0D%0A%0D%0A%09%09%2F%2F%20Go%20through%20the%20array%2C%20only%20saving%20the%20items%0D%0A%09%09%2F%2F%20that%20pass%20the%20validator%20function%0D%0A%09%09for%20(%20%3B%20i%20%3C%20length%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09callbackInverse%20%3D%20!callback(%20elems%5B%20i%20%5D%2C%20i%20)%3B%0D%0A%09%09%09if%20(%20callbackInverse%20!%3D%3D%20callbackExpect%20)%20%7B%0D%0A%09%09%09%09matches.push(%20elems%5B%20i%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20matches%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20arg%20is%20for%20internal%20usage%20only%0D%0A%09map%3A%20function(%20elems%2C%20callback%2C%20arg%20)%20%7B%0D%0A%09%09var%20length%2C%20value%2C%0D%0A%09%09%09i%20%3D%200%2C%0D%0A%09%09%09ret%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20Go%20through%20the%20array%2C%20translating%20each%20of%20the%20items%20to%20their%20new%20values%0D%0A%09%09if%20(%20isArrayLike(%20elems%20)%20)%20%7B%0D%0A%09%09%09length%20%3D%20elems.length%3B%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20length%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09value%20%3D%20callback(%20elems%5B%20i%20%5D%2C%20i%2C%20arg%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20value%20!%3D%20null%20)%20%7B%0D%0A%09%09%09%09%09ret.push(%20value%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Go%20through%20every%20key%20on%20the%20object%2C%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09for%20(%20i%20in%20elems%20)%20%7B%0D%0A%09%09%09%09value%20%3D%20callback(%20elems%5B%20i%20%5D%2C%20i%2C%20arg%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20value%20!%3D%20null%20)%20%7B%0D%0A%09%09%09%09%09ret.push(%20value%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Flatten%20any%20nested%20arrays%0D%0A%09%09return%20concat.apply(%20%5B%5D%2C%20ret%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20A%20global%20GUID%20counter%20for%20objects%0D%0A%09guid%3A%201%2C%0D%0A%0D%0A%09%2F%2F%20jQuery.support%20is%20not%20used%20in%20Core%20but%20other%20projects%20attach%20their%0D%0A%09%2F%2F%20properties%20to%20it%20so%20it%20needs%20to%20exist.%0D%0A%09support%3A%20support%0D%0A%7D%20)%3B%0D%0A%0D%0Aif%20(%20typeof%20Symbol%20%3D%3D%3D%20%22function%22%20)%20%7B%0D%0A%09jQuery.fn%5B%20Symbol.iterator%20%5D%20%3D%20arr%5B%20Symbol.iterator%20%5D%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Populate%20the%20class2type%20map%0D%0AjQuery.each(%20%22Boolean%20Number%20String%20Function%20Array%20Date%20RegExp%20Object%20Error%20Symbol%22.split(%20%22%20%22%20)%2C%0D%0Afunction(%20i%2C%20name%20)%20%7B%0D%0A%09class2type%5B%20%22%5Bobject%20%22%20%2B%20name%20%2B%20%22%5D%22%20%5D%20%3D%20name.toLowerCase()%3B%0D%0A%7D%20)%3B%0D%0A%0D%0Afunction%20isArrayLike(%20obj%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20real%20iOS%208.2%20only%20(not%20reproducible%20in%20simulator)%0D%0A%09%2F%2F%20%60in%60%20check%20used%20to%20prevent%20JIT%20error%20(gh-2145)%0D%0A%09%2F%2F%20hasOwn%20isn't%20used%20here%20due%20to%20false%20negatives%0D%0A%09%2F%2F%20regarding%20Nodelist%20length%20in%20IE%0D%0A%09var%20length%20%3D%20!!obj%20%26%26%20%22length%22%20in%20obj%20%26%26%20obj.length%2C%0D%0A%09%09type%20%3D%20toType(%20obj%20)%3B%0D%0A%0D%0A%09if%20(%20isFunction(%20obj%20)%20%7C%7C%20isWindow(%20obj%20)%20)%20%7B%0D%0A%09%09return%20false%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20type%20%3D%3D%3D%20%22array%22%20%7C%7C%20length%20%3D%3D%3D%200%20%7C%7C%0D%0A%09%09typeof%20length%20%3D%3D%3D%20%22number%22%20%26%26%20length%20%3E%200%20%26%26%20(%20length%20-%201%20)%20in%20obj%3B%0D%0A%7D%0D%0Avar%20Sizzle%20%3D%0D%0A%2F*!%0D%0A%20*%20Sizzle%20CSS%20Selector%20Engine%20v2.3.4%0D%0A%20*%20https%3A%2F%2Fsizzlejs.com%2F%0D%0A%20*%0D%0A%20*%20Copyright%20JS%20Foundation%20and%20other%20contributors%0D%0A%20*%20Released%20under%20the%20MIT%20license%0D%0A%20*%20https%3A%2F%2Fjs.foundation%2F%0D%0A%20*%0D%0A%20*%20Date%3A%202019-04-08%0D%0A%20*%2F%0D%0A(function(%20window%20)%20%7B%0D%0A%0D%0Avar%20i%2C%0D%0A%09support%2C%0D%0A%09Expr%2C%0D%0A%09getText%2C%0D%0A%09isXML%2C%0D%0A%09tokenize%2C%0D%0A%09compile%2C%0D%0A%09select%2C%0D%0A%09outermostContext%2C%0D%0A%09sortInput%2C%0D%0A%09hasDuplicate%2C%0D%0A%0D%0A%09%2F%2F%20Local%20document%20vars%0D%0A%09setDocument%2C%0D%0A%09document%2C%0D%0A%09docElem%2C%0D%0A%09documentIsHTML%2C%0D%0A%09rbuggyQSA%2C%0D%0A%09rbuggyMatches%2C%0D%0A%09matches%2C%0D%0A%09contains%2C%0D%0A%0D%0A%09%2F%2F%20Instance-specific%20data%0D%0A%09expando%20%3D%20%22sizzle%22%20%2B%201%20*%20new%20Date()%2C%0D%0A%09preferredDoc%20%3D%20window.document%2C%0D%0A%09dirruns%20%3D%200%2C%0D%0A%09done%20%3D%200%2C%0D%0A%09classCache%20%3D%20createCache()%2C%0D%0A%09tokenCache%20%3D%20createCache()%2C%0D%0A%09compilerCache%20%3D%20createCache()%2C%0D%0A%09nonnativeSelectorCache%20%3D%20createCache()%2C%0D%0A%09sortOrder%20%3D%20function(%20a%2C%20b%20)%20%7B%0D%0A%09%09if%20(%20a%20%3D%3D%3D%20b%20)%20%7B%0D%0A%09%09%09hasDuplicate%20%3D%20true%3B%0D%0A%09%09%7D%0D%0A%09%09return%200%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Instance%20methods%0D%0A%09hasOwn%20%3D%20(%7B%7D).hasOwnProperty%2C%0D%0A%09arr%20%3D%20%5B%5D%2C%0D%0A%09pop%20%3D%20arr.pop%2C%0D%0A%09push_native%20%3D%20arr.push%2C%0D%0A%09push%20%3D%20arr.push%2C%0D%0A%09slice%20%3D%20arr.slice%2C%0D%0A%09%2F%2F%20Use%20a%20stripped-down%20indexOf%20as%20it's%20faster%20than%20native%0D%0A%09%2F%2F%20https%3A%2F%2Fjsperf.com%2Fthor-indexof-vs-for%2F5%0D%0A%09indexOf%20%3D%20function(%20list%2C%20elem%20)%20%7B%0D%0A%09%09var%20i%20%3D%200%2C%0D%0A%09%09%09len%20%3D%20list.length%3B%0D%0A%09%09for%20(%20%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09if%20(%20list%5Bi%5D%20%3D%3D%3D%20elem%20)%20%7B%0D%0A%09%09%09%09return%20i%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09return%20-1%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09booleans%20%3D%20%22checked%7Cselected%7Casync%7Cautofocus%7Cautoplay%7Ccontrols%7Cdefer%7Cdisabled%7Chidden%7Cismap%7Cloop%7Cmultiple%7Copen%7Creadonly%7Crequired%7Cscoped%22%2C%0D%0A%0D%0A%09%2F%2F%20Regular%20expressions%0D%0A%0D%0A%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2Fcss3-selectors%2F%23whitespace%0D%0A%09whitespace%20%3D%20%22%5B%5C%5Cx20%5C%5Ct%5C%5Cr%5C%5Cn%5C%5Cf%5D%22%2C%0D%0A%0D%0A%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2FCSS21%2Fsyndata.html%23value-def-identifier%0D%0A%09identifier%20%3D%20%22(%3F%3A%5C%5C%5C%5C.%7C%5B%5C%5Cw-%5D%7C%5B%5E%5C0-%5C%5Cxa0%5D)%2B%22%2C%0D%0A%0D%0A%09%2F%2F%20Attribute%20selectors%3A%20http%3A%2F%2Fwww.w3.org%2FTR%2Fselectors%2F%23attribute-selectors%0D%0A%09attributes%20%3D%20%22%5C%5C%5B%22%20%2B%20whitespace%20%2B%20%22*(%22%20%2B%20identifier%20%2B%20%22)(%3F%3A%22%20%2B%20whitespace%20%2B%0D%0A%09%09%2F%2F%20Operator%20(capture%202)%0D%0A%09%09%22*(%5B*%5E%24%7C!~%5D%3F%3D)%22%20%2B%20whitespace%20%2B%0D%0A%09%09%2F%2F%20%22Attribute%20values%20must%20be%20CSS%20identifiers%20%5Bcapture%205%5D%20or%20strings%20%5Bcapture%203%20or%20capture%204%5D%22%0D%0A%09%09%22*(%3F%3A'((%3F%3A%5C%5C%5C%5C.%7C%5B%5E%5C%5C%5C%5C'%5D)*)'%7C%5C%22((%3F%3A%5C%5C%5C%5C.%7C%5B%5E%5C%5C%5C%5C%5C%22%5D)*)%5C%22%7C(%22%20%2B%20identifier%20%2B%20%22))%7C)%22%20%2B%20whitespace%20%2B%0D%0A%09%09%22*%5C%5C%5D%22%2C%0D%0A%0D%0A%09pseudos%20%3D%20%22%3A(%22%20%2B%20identifier%20%2B%20%22)(%3F%3A%5C%5C((%22%20%2B%0D%0A%09%09%2F%2F%20To%20reduce%20the%20number%20of%20selectors%20needing%20tokenize%20in%20the%20preFilter%2C%20prefer%20arguments%3A%0D%0A%09%09%2F%2F%201.%20quoted%20(capture%203%3B%20capture%204%20or%20capture%205)%0D%0A%09%09%22('((%3F%3A%5C%5C%5C%5C.%7C%5B%5E%5C%5C%5C%5C'%5D)*)'%7C%5C%22((%3F%3A%5C%5C%5C%5C.%7C%5B%5E%5C%5C%5C%5C%5C%22%5D)*)%5C%22)%7C%22%20%2B%0D%0A%09%09%2F%2F%202.%20simple%20(capture%206)%0D%0A%09%09%22((%3F%3A%5C%5C%5C%5C.%7C%5B%5E%5C%5C%5C%5C()%5B%5C%5C%5D%5D%7C%22%20%2B%20attributes%20%2B%20%22)*)%7C%22%20%2B%0D%0A%09%09%2F%2F%203.%20anything%20else%20(capture%202)%0D%0A%09%09%22.*%22%20%2B%0D%0A%09%09%22)%5C%5C)%7C)%22%2C%0D%0A%0D%0A%09%2F%2F%20Leading%20and%20non-escaped%20trailing%20whitespace%2C%20capturing%20some%20non-whitespace%20characters%20preceding%20the%20latter%0D%0A%09rwhitespace%20%3D%20new%20RegExp(%20whitespace%20%2B%20%22%2B%22%2C%20%22g%22%20)%2C%0D%0A%09rtrim%20%3D%20new%20RegExp(%20%22%5E%22%20%2B%20whitespace%20%2B%20%22%2B%7C((%3F%3A%5E%7C%5B%5E%5C%5C%5C%5C%5D)(%3F%3A%5C%5C%5C%5C.)*)%22%20%2B%20whitespace%20%2B%20%22%2B%24%22%2C%20%22g%22%20)%2C%0D%0A%0D%0A%09rcomma%20%3D%20new%20RegExp(%20%22%5E%22%20%2B%20whitespace%20%2B%20%22*%2C%22%20%2B%20whitespace%20%2B%20%22*%22%20)%2C%0D%0A%09rcombinators%20%3D%20new%20RegExp(%20%22%5E%22%20%2B%20whitespace%20%2B%20%22*(%5B%3E%2B~%5D%7C%22%20%2B%20whitespace%20%2B%20%22)%22%20%2B%20whitespace%20%2B%20%22*%22%20)%2C%0D%0A%09rdescend%20%3D%20new%20RegExp(%20whitespace%20%2B%20%22%7C%3E%22%20)%2C%0D%0A%0D%0A%09rpseudo%20%3D%20new%20RegExp(%20pseudos%20)%2C%0D%0A%09ridentifier%20%3D%20new%20RegExp(%20%22%5E%22%20%2B%20identifier%20%2B%20%22%24%22%20)%2C%0D%0A%0D%0A%09matchExpr%20%3D%20%7B%0D%0A%09%09%22ID%22%3A%20new%20RegExp(%20%22%5E%23(%22%20%2B%20identifier%20%2B%20%22)%22%20)%2C%0D%0A%09%09%22CLASS%22%3A%20new%20RegExp(%20%22%5E%5C%5C.(%22%20%2B%20identifier%20%2B%20%22)%22%20)%2C%0D%0A%09%09%22TAG%22%3A%20new%20RegExp(%20%22%5E(%22%20%2B%20identifier%20%2B%20%22%7C%5B*%5D)%22%20)%2C%0D%0A%09%09%22ATTR%22%3A%20new%20RegExp(%20%22%5E%22%20%2B%20attributes%20)%2C%0D%0A%09%09%22PSEUDO%22%3A%20new%20RegExp(%20%22%5E%22%20%2B%20pseudos%20)%2C%0D%0A%09%09%22CHILD%22%3A%20new%20RegExp(%20%22%5E%3A(only%7Cfirst%7Clast%7Cnth%7Cnth-last)-(child%7Cof-type)(%3F%3A%5C%5C(%22%20%2B%20whitespace%20%2B%0D%0A%09%09%09%22*(even%7Codd%7C((%5B%2B-%5D%7C)(%5C%5Cd*)n%7C)%22%20%2B%20whitespace%20%2B%20%22*(%3F%3A(%5B%2B-%5D%7C)%22%20%2B%20whitespace%20%2B%0D%0A%09%09%09%22*(%5C%5Cd%2B)%7C))%22%20%2B%20whitespace%20%2B%20%22*%5C%5C)%7C)%22%2C%20%22i%22%20)%2C%0D%0A%09%09%22bool%22%3A%20new%20RegExp(%20%22%5E(%3F%3A%22%20%2B%20booleans%20%2B%20%22)%24%22%2C%20%22i%22%20)%2C%0D%0A%09%09%2F%2F%20For%20use%20in%20libraries%20implementing%20.is()%0D%0A%09%09%2F%2F%20We%20use%20this%20for%20POS%20matching%20in%20%60select%60%0D%0A%09%09%22needsContext%22%3A%20new%20RegExp(%20%22%5E%22%20%2B%20whitespace%20%2B%20%22*%5B%3E%2B~%5D%7C%3A(even%7Codd%7Ceq%7Cgt%7Clt%7Cnth%7Cfirst%7Clast)(%3F%3A%5C%5C(%22%20%2B%0D%0A%09%09%09whitespace%20%2B%20%22*((%3F%3A-%5C%5Cd)%3F%5C%5Cd*)%22%20%2B%20whitespace%20%2B%20%22*%5C%5C)%7C)(%3F%3D%5B%5E-%5D%7C%24)%22%2C%20%22i%22%20)%0D%0A%09%7D%2C%0D%0A%0D%0A%09rhtml%20%3D%20%2FHTML%24%2Fi%2C%0D%0A%09rinputs%20%3D%20%2F%5E(%3F%3Ainput%7Cselect%7Ctextarea%7Cbutton)%24%2Fi%2C%0D%0A%09rheader%20%3D%20%2F%5Eh%5Cd%24%2Fi%2C%0D%0A%0D%0A%09rnative%20%3D%20%2F%5E%5B%5E%7B%5D%2B%5C%7B%5Cs*%5C%5Bnative%20%5Cw%2F%2C%0D%0A%0D%0A%09%2F%2F%20Easily-parseable%2Fretrievable%20ID%20or%20TAG%20or%20CLASS%20selectors%0D%0A%09rquickExpr%20%3D%20%2F%5E(%3F%3A%23(%5B%5Cw-%5D%2B)%7C(%5Cw%2B)%7C%5C.(%5B%5Cw-%5D%2B))%24%2F%2C%0D%0A%0D%0A%09rsibling%20%3D%20%2F%5B%2B~%5D%2F%2C%0D%0A%0D%0A%09%2F%2F%20CSS%20escapes%0D%0A%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2FCSS21%2Fsyndata.html%23escaped-characters%0D%0A%09runescape%20%3D%20new%20RegExp(%20%22%5C%5C%5C%5C(%5B%5C%5Cda-f%5D%7B1%2C6%7D%22%20%2B%20whitespace%20%2B%20%22%3F%7C(%22%20%2B%20whitespace%20%2B%20%22)%7C.)%22%2C%20%22ig%22%20)%2C%0D%0A%09funescape%20%3D%20function(%20_%2C%20escaped%2C%20escapedWhitespace%20)%20%7B%0D%0A%09%09var%20high%20%3D%20%220x%22%20%2B%20escaped%20-%200x10000%3B%0D%0A%09%09%2F%2F%20NaN%20means%20non-codepoint%0D%0A%09%09%2F%2F%20Support%3A%20Firefox%3C24%0D%0A%09%09%2F%2F%20Workaround%20erroneous%20numeric%20interpretation%20of%20%2B%220x%22%0D%0A%09%09return%20high%20!%3D%3D%20high%20%7C%7C%20escapedWhitespace%20%3F%0D%0A%09%09%09escaped%20%3A%0D%0A%09%09%09high%20%3C%200%20%3F%0D%0A%09%09%09%09%2F%2F%20BMP%20codepoint%0D%0A%09%09%09%09String.fromCharCode(%20high%20%2B%200x10000%20)%20%3A%0D%0A%09%09%09%09%2F%2F%20Supplemental%20Plane%20codepoint%20(surrogate%20pair)%0D%0A%09%09%09%09String.fromCharCode(%20high%20%3E%3E%2010%20%7C%200xD800%2C%20high%20%26%200x3FF%20%7C%200xDC00%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20CSS%20string%2Fidentifier%20serialization%0D%0A%09%2F%2F%20https%3A%2F%2Fdrafts.csswg.org%2Fcssom%2F%23common-serializing-idioms%0D%0A%09rcssescape%20%3D%20%2F(%5B%5C0-%5Cx1f%5Cx7f%5D%7C%5E-%3F%5Cd)%7C%5E-%24%7C%5B%5E%5C0-%5Cx1f%5Cx7f-%5CuFFFF%5Cw-%5D%2Fg%2C%0D%0A%09fcssescape%20%3D%20function(%20ch%2C%20asCodePoint%20)%20%7B%0D%0A%09%09if%20(%20asCodePoint%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20U%2B0000%20NULL%20becomes%20U%2BFFFD%20REPLACEMENT%20CHARACTER%0D%0A%09%09%09if%20(%20ch%20%3D%3D%3D%20%22%5C0%22%20)%20%7B%0D%0A%09%09%09%09return%20%22%5CuFFFD%22%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Control%20characters%20and%20(dependent%20upon%20position)%20numbers%20get%20escaped%20as%20code%20points%0D%0A%09%09%09return%20ch.slice(%200%2C%20-1%20)%20%2B%20%22%5C%5C%22%20%2B%20ch.charCodeAt(%20ch.length%20-%201%20).toString(%2016%20)%20%2B%20%22%20%22%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Other%20potentially-special%20ASCII%20characters%20get%20backslash-escaped%0D%0A%09%09return%20%22%5C%5C%22%20%2B%20ch%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Used%20for%20iframes%0D%0A%09%2F%2F%20See%20setDocument()%0D%0A%09%2F%2F%20Removing%20the%20function%20wrapper%20causes%20a%20%22Permission%20Denied%22%0D%0A%09%2F%2F%20error%20in%20IE%0D%0A%09unloadHandler%20%3D%20function()%20%7B%0D%0A%09%09setDocument()%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09inDisabledFieldset%20%3D%20addCombinator(%0D%0A%09%09function(%20elem%20)%20%7B%0D%0A%09%09%09return%20elem.disabled%20%3D%3D%3D%20true%20%26%26%20elem.nodeName.toLowerCase()%20%3D%3D%3D%20%22fieldset%22%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%7B%20dir%3A%20%22parentNode%22%2C%20next%3A%20%22legend%22%20%7D%0D%0A%09)%3B%0D%0A%0D%0A%2F%2F%20Optimize%20for%20push.apply(%20_%2C%20NodeList%20)%0D%0Atry%20%7B%0D%0A%09push.apply(%0D%0A%09%09(arr%20%3D%20slice.call(%20preferredDoc.childNodes%20))%2C%0D%0A%09%09preferredDoc.childNodes%0D%0A%09)%3B%0D%0A%09%2F%2F%20Support%3A%20Android%3C4.0%0D%0A%09%2F%2F%20Detect%20silently%20failing%20push.apply%0D%0A%09arr%5B%20preferredDoc.childNodes.length%20%5D.nodeType%3B%0D%0A%7D%20catch%20(%20e%20)%20%7B%0D%0A%09push%20%3D%20%7B%20apply%3A%20arr.length%20%3F%0D%0A%0D%0A%09%09%2F%2F%20Leverage%20slice%20if%20possible%0D%0A%09%09function(%20target%2C%20els%20)%20%7B%0D%0A%09%09%09push_native.apply(%20target%2C%20slice.call(els)%20)%3B%0D%0A%09%09%7D%20%3A%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%3C9%0D%0A%09%09%2F%2F%20Otherwise%20append%20directly%0D%0A%09%09function(%20target%2C%20els%20)%20%7B%0D%0A%09%09%09var%20j%20%3D%20target.length%2C%0D%0A%09%09%09%09i%20%3D%200%3B%0D%0A%09%09%09%2F%2F%20Can't%20trust%20NodeList.length%0D%0A%09%09%09while%20(%20(target%5Bj%2B%2B%5D%20%3D%20els%5Bi%2B%2B%5D)%20)%20%7B%7D%0D%0A%09%09%09target.length%20%3D%20j%20-%201%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20Sizzle(%20selector%2C%20context%2C%20results%2C%20seed%20)%20%7B%0D%0A%09var%20m%2C%20i%2C%20elem%2C%20nid%2C%20match%2C%20groups%2C%20newSelector%2C%0D%0A%09%09newContext%20%3D%20context%20%26%26%20context.ownerDocument%2C%0D%0A%0D%0A%09%09%2F%2F%20nodeType%20defaults%20to%209%2C%20since%20context%20defaults%20to%20document%0D%0A%09%09nodeType%20%3D%20context%20%3F%20context.nodeType%20%3A%209%3B%0D%0A%0D%0A%09results%20%3D%20results%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%09%2F%2F%20Return%20early%20from%20calls%20with%20invalid%20selector%20or%20context%0D%0A%09if%20(%20typeof%20selector%20!%3D%3D%20%22string%22%20%7C%7C%20!selector%20%7C%7C%0D%0A%09%09nodeType%20!%3D%3D%201%20%26%26%20nodeType%20!%3D%3D%209%20%26%26%20nodeType%20!%3D%3D%2011%20)%20%7B%0D%0A%0D%0A%09%09return%20results%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Try%20to%20shortcut%20find%20operations%20(as%20opposed%20to%20filters)%20in%20HTML%20documents%0D%0A%09if%20(%20!seed%20)%20%7B%0D%0A%0D%0A%09%09if%20(%20(%20context%20%3F%20context.ownerDocument%20%7C%7C%20context%20%3A%20preferredDoc%20)%20!%3D%3D%20document%20)%20%7B%0D%0A%09%09%09setDocument(%20context%20)%3B%0D%0A%09%09%7D%0D%0A%09%09context%20%3D%20context%20%7C%7C%20document%3B%0D%0A%0D%0A%09%09if%20(%20documentIsHTML%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20the%20selector%20is%20sufficiently%20simple%2C%20try%20using%20a%20%22get*By*%22%20DOM%20method%0D%0A%09%09%09%2F%2F%20(excepting%20DocumentFragment%20context%2C%20where%20the%20methods%20don't%20exist)%0D%0A%09%09%09if%20(%20nodeType%20!%3D%3D%2011%20%26%26%20(match%20%3D%20rquickExpr.exec(%20selector%20))%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20ID%20selector%0D%0A%09%09%09%09if%20(%20(m%20%3D%20match%5B1%5D)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Document%20context%0D%0A%09%09%09%09%09if%20(%20nodeType%20%3D%3D%3D%209%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20(elem%20%3D%20context.getElementById(%20m%20))%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%2C%20Opera%2C%20Webkit%0D%0A%09%09%09%09%09%09%09%2F%2F%20TODO%3A%20identify%20versions%0D%0A%09%09%09%09%09%09%09%2F%2F%20getElementById%20can%20match%20elements%20by%20name%20instead%20of%20ID%0D%0A%09%09%09%09%09%09%09if%20(%20elem.id%20%3D%3D%3D%20m%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09results.push(%20elem%20)%3B%0D%0A%09%09%09%09%09%09%09%09return%20results%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09return%20results%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Element%20context%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%2C%20Opera%2C%20Webkit%0D%0A%09%09%09%09%09%09%2F%2F%20TODO%3A%20identify%20versions%0D%0A%09%09%09%09%09%09%2F%2F%20getElementById%20can%20match%20elements%20by%20name%20instead%20of%20ID%0D%0A%09%09%09%09%09%09if%20(%20newContext%20%26%26%20(elem%20%3D%20newContext.getElementById(%20m%20))%20%26%26%0D%0A%09%09%09%09%09%09%09contains(%20context%2C%20elem%20)%20%26%26%0D%0A%09%09%09%09%09%09%09elem.id%20%3D%3D%3D%20m%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09results.push(%20elem%20)%3B%0D%0A%09%09%09%09%09%09%09return%20results%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Type%20selector%0D%0A%09%09%09%09%7D%20else%20if%20(%20match%5B2%5D%20)%20%7B%0D%0A%09%09%09%09%09push.apply(%20results%2C%20context.getElementsByTagName(%20selector%20)%20)%3B%0D%0A%09%09%09%09%09return%20results%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Class%20selector%0D%0A%09%09%09%09%7D%20else%20if%20(%20(m%20%3D%20match%5B3%5D)%20%26%26%20support.getElementsByClassName%20%26%26%0D%0A%09%09%09%09%09context.getElementsByClassName%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09push.apply(%20results%2C%20context.getElementsByClassName(%20m%20)%20)%3B%0D%0A%09%09%09%09%09return%20results%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Take%20advantage%20of%20querySelectorAll%0D%0A%09%09%09if%20(%20support.qsa%20%26%26%0D%0A%09%09%09%09!nonnativeSelectorCache%5B%20selector%20%2B%20%22%20%22%20%5D%20%26%26%0D%0A%09%09%09%09(!rbuggyQSA%20%7C%7C%20!rbuggyQSA.test(%20selector%20))%20%26%26%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20IE%208%20only%0D%0A%09%09%09%09%2F%2F%20Exclude%20object%20elements%0D%0A%09%09%09%09(nodeType%20!%3D%3D%201%20%7C%7C%20context.nodeName.toLowerCase()%20!%3D%3D%20%22object%22)%20)%20%7B%0D%0A%0D%0A%09%09%09%09newSelector%20%3D%20selector%3B%0D%0A%09%09%09%09newContext%20%3D%20context%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20qSA%20considers%20elements%20outside%20a%20scoping%20root%20when%20evaluating%20child%20or%0D%0A%09%09%09%09%2F%2F%20descendant%20combinators%2C%20which%20is%20not%20what%20we%20want.%0D%0A%09%09%09%09%2F%2F%20In%20such%20cases%2C%20we%20work%20around%20the%20behavior%20by%20prefixing%20every%20selector%20in%20the%0D%0A%09%09%09%09%2F%2F%20list%20with%20an%20ID%20selector%20referencing%20the%20scope%20context.%0D%0A%09%09%09%09%2F%2F%20Thanks%20to%20Andrew%20Dupont%20for%20this%20technique.%0D%0A%09%09%09%09if%20(%20nodeType%20%3D%3D%3D%201%20%26%26%20rdescend.test(%20selector%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Capture%20the%20context%20ID%2C%20setting%20it%20first%20if%20necessary%0D%0A%09%09%09%09%09if%20(%20(nid%20%3D%20context.getAttribute(%20%22id%22%20))%20)%20%7B%0D%0A%09%09%09%09%09%09nid%20%3D%20nid.replace(%20rcssescape%2C%20fcssescape%20)%3B%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09context.setAttribute(%20%22id%22%2C%20(nid%20%3D%20expando)%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Prefix%20every%20selector%20in%20the%20list%0D%0A%09%09%09%09%09groups%20%3D%20tokenize(%20selector%20)%3B%0D%0A%09%09%09%09%09i%20%3D%20groups.length%3B%0D%0A%09%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09%09%09groups%5Bi%5D%20%3D%20%22%23%22%20%2B%20nid%20%2B%20%22%20%22%20%2B%20toSelector(%20groups%5Bi%5D%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09newSelector%20%3D%20groups.join(%20%22%2C%22%20)%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Expand%20context%20for%20sibling%20selectors%0D%0A%09%09%09%09%09newContext%20%3D%20rsibling.test(%20selector%20)%20%26%26%20testContext(%20context.parentNode%20)%20%7C%7C%0D%0A%09%09%09%09%09%09context%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09push.apply(%20results%2C%0D%0A%09%09%09%09%09%09newContext.querySelectorAll(%20newSelector%20)%0D%0A%09%09%09%09%09)%3B%0D%0A%09%09%09%09%09return%20results%3B%0D%0A%09%09%09%09%7D%20catch%20(%20qsaError%20)%20%7B%0D%0A%09%09%09%09%09nonnativeSelectorCache(%20selector%2C%20true%20)%3B%0D%0A%09%09%09%09%7D%20finally%20%7B%0D%0A%09%09%09%09%09if%20(%20nid%20%3D%3D%3D%20expando%20)%20%7B%0D%0A%09%09%09%09%09%09context.removeAttribute(%20%22id%22%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20All%20others%0D%0A%09return%20select(%20selector.replace(%20rtrim%2C%20%22%241%22%20)%2C%20context%2C%20results%2C%20seed%20)%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Create%20key-value%20caches%20of%20limited%20size%0D%0A%20*%20%40returns%20%7Bfunction(string%2C%20object)%7D%20Returns%20the%20Object%20data%20after%20storing%20it%20on%20itself%20with%0D%0A%20*%09property%20name%20the%20(space-suffixed)%20string%20and%20(if%20the%20cache%20is%20larger%20than%20Expr.cacheLength)%0D%0A%20*%09deleting%20the%20oldest%20entry%0D%0A%20*%2F%0D%0Afunction%20createCache()%20%7B%0D%0A%09var%20keys%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09function%20cache(%20key%2C%20value%20)%20%7B%0D%0A%09%09%2F%2F%20Use%20(key%20%2B%20%22%20%22)%20to%20avoid%20collision%20with%20native%20prototype%20properties%20(see%20Issue%20%23157)%0D%0A%09%09if%20(%20keys.push(%20key%20%2B%20%22%20%22%20)%20%3E%20Expr.cacheLength%20)%20%7B%0D%0A%09%09%09%2F%2F%20Only%20keep%20the%20most%20recent%20entries%0D%0A%09%09%09delete%20cache%5B%20keys.shift()%20%5D%3B%0D%0A%09%09%7D%0D%0A%09%09return%20(cache%5B%20key%20%2B%20%22%20%22%20%5D%20%3D%20value)%3B%0D%0A%09%7D%0D%0A%09return%20cache%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Mark%20a%20function%20for%20special%20use%20by%20Sizzle%0D%0A%20*%20%40param%20%7BFunction%7D%20fn%20The%20function%20to%20mark%0D%0A%20*%2F%0D%0Afunction%20markFunction(%20fn%20)%20%7B%0D%0A%09fn%5B%20expando%20%5D%20%3D%20true%3B%0D%0A%09return%20fn%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Support%20testing%20using%20an%20element%0D%0A%20*%20%40param%20%7BFunction%7D%20fn%20Passed%20the%20created%20element%20and%20returns%20a%20boolean%20result%0D%0A%20*%2F%0D%0Afunction%20assert(%20fn%20)%20%7B%0D%0A%09var%20el%20%3D%20document.createElement(%22fieldset%22)%3B%0D%0A%0D%0A%09try%20%7B%0D%0A%09%09return%20!!fn(%20el%20)%3B%0D%0A%09%7D%20catch%20(e)%20%7B%0D%0A%09%09return%20false%3B%0D%0A%09%7D%20finally%20%7B%0D%0A%09%09%2F%2F%20Remove%20from%20its%20parent%20by%20default%0D%0A%09%09if%20(%20el.parentNode%20)%20%7B%0D%0A%09%09%09el.parentNode.removeChild(%20el%20)%3B%0D%0A%09%09%7D%0D%0A%09%09%2F%2F%20release%20memory%20in%20IE%0D%0A%09%09el%20%3D%20null%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Adds%20the%20same%20handler%20for%20all%20of%20the%20specified%20attrs%0D%0A%20*%20%40param%20%7BString%7D%20attrs%20Pipe-separated%20list%20of%20attributes%0D%0A%20*%20%40param%20%7BFunction%7D%20handler%20The%20method%20that%20will%20be%20applied%0D%0A%20*%2F%0D%0Afunction%20addHandle(%20attrs%2C%20handler%20)%20%7B%0D%0A%09var%20arr%20%3D%20attrs.split(%22%7C%22)%2C%0D%0A%09%09i%20%3D%20arr.length%3B%0D%0A%0D%0A%09while%20(%20i--%20)%20%7B%0D%0A%09%09Expr.attrHandle%5B%20arr%5Bi%5D%20%5D%20%3D%20handler%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Checks%20document%20order%20of%20two%20siblings%0D%0A%20*%20%40param%20%7BElement%7D%20a%0D%0A%20*%20%40param%20%7BElement%7D%20b%0D%0A%20*%20%40returns%20%7BNumber%7D%20Returns%20less%20than%200%20if%20a%20precedes%20b%2C%20greater%20than%200%20if%20a%20follows%20b%0D%0A%20*%2F%0D%0Afunction%20siblingCheck(%20a%2C%20b%20)%20%7B%0D%0A%09var%20cur%20%3D%20b%20%26%26%20a%2C%0D%0A%09%09diff%20%3D%20cur%20%26%26%20a.nodeType%20%3D%3D%3D%201%20%26%26%20b.nodeType%20%3D%3D%3D%201%20%26%26%0D%0A%09%09%09a.sourceIndex%20-%20b.sourceIndex%3B%0D%0A%0D%0A%09%2F%2F%20Use%20IE%20sourceIndex%20if%20available%20on%20both%20nodes%0D%0A%09if%20(%20diff%20)%20%7B%0D%0A%09%09return%20diff%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Check%20if%20b%20follows%20a%0D%0A%09if%20(%20cur%20)%20%7B%0D%0A%09%09while%20(%20(cur%20%3D%20cur.nextSibling)%20)%20%7B%0D%0A%09%09%09if%20(%20cur%20%3D%3D%3D%20b%20)%20%7B%0D%0A%09%09%09%09return%20-1%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20a%20%3F%201%20%3A%20-1%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Returns%20a%20function%20to%20use%20in%20pseudos%20for%20input%20types%0D%0A%20*%20%40param%20%7BString%7D%20type%0D%0A%20*%2F%0D%0Afunction%20createInputPseudo(%20type%20)%20%7B%0D%0A%09return%20function(%20elem%20)%20%7B%0D%0A%09%09var%20name%20%3D%20elem.nodeName.toLowerCase()%3B%0D%0A%09%09return%20name%20%3D%3D%3D%20%22input%22%20%26%26%20elem.type%20%3D%3D%3D%20type%3B%0D%0A%09%7D%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Returns%20a%20function%20to%20use%20in%20pseudos%20for%20buttons%0D%0A%20*%20%40param%20%7BString%7D%20type%0D%0A%20*%2F%0D%0Afunction%20createButtonPseudo(%20type%20)%20%7B%0D%0A%09return%20function(%20elem%20)%20%7B%0D%0A%09%09var%20name%20%3D%20elem.nodeName.toLowerCase()%3B%0D%0A%09%09return%20(name%20%3D%3D%3D%20%22input%22%20%7C%7C%20name%20%3D%3D%3D%20%22button%22)%20%26%26%20elem.type%20%3D%3D%3D%20type%3B%0D%0A%09%7D%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Returns%20a%20function%20to%20use%20in%20pseudos%20for%20%3Aenabled%2F%3Adisabled%0D%0A%20*%20%40param%20%7BBoolean%7D%20disabled%20true%20for%20%3Adisabled%3B%20false%20for%20%3Aenabled%0D%0A%20*%2F%0D%0Afunction%20createDisabledPseudo(%20disabled%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Known%20%3Adisabled%20false%20positives%3A%20fieldset%5Bdisabled%5D%20%3E%20legend%3Anth-of-type(n%2B2)%20%3Acan-disable%0D%0A%09return%20function(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Only%20certain%20elements%20can%20match%20%3Aenabled%20or%20%3Adisabled%0D%0A%09%09%2F%2F%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fscripting.html%23selector-enabled%0D%0A%09%09%2F%2F%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fscripting.html%23selector-disabled%0D%0A%09%09if%20(%20%22form%22%20in%20elem%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Check%20for%20inherited%20disabledness%20on%20relevant%20non-disabled%20elements%3A%0D%0A%09%09%09%2F%2F%20*%20listed%20form-associated%20elements%20in%20a%20disabled%20fieldset%0D%0A%09%09%09%2F%2F%20%20%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fforms.html%23category-listed%0D%0A%09%09%09%2F%2F%20%20%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fforms.html%23concept-fe-disabled%0D%0A%09%09%09%2F%2F%20*%20option%20elements%20in%20a%20disabled%20optgroup%0D%0A%09%09%09%2F%2F%20%20%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fforms.html%23concept-option-disabled%0D%0A%09%09%09%2F%2F%20All%20such%20elements%20have%20a%20%22form%22%20property.%0D%0A%09%09%09if%20(%20elem.parentNode%20%26%26%20elem.disabled%20%3D%3D%3D%20false%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Option%20elements%20defer%20to%20a%20parent%20optgroup%20if%20present%0D%0A%09%09%09%09if%20(%20%22label%22%20in%20elem%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20%22label%22%20in%20elem.parentNode%20)%20%7B%0D%0A%09%09%09%09%09%09return%20elem.parentNode.disabled%20%3D%3D%3D%20disabled%3B%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09return%20elem.disabled%20%3D%3D%3D%20disabled%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20IE%206%20-%2011%0D%0A%09%09%09%09%2F%2F%20Use%20the%20isDisabled%20shortcut%20property%20to%20check%20for%20disabled%20fieldset%20ancestors%0D%0A%09%09%09%09return%20elem.isDisabled%20%3D%3D%3D%20disabled%20%7C%7C%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Where%20there%20is%20no%20isDisabled%2C%20check%20manually%0D%0A%09%09%09%09%09%2F*%20jshint%20-W018%20*%2F%0D%0A%09%09%09%09%09elem.isDisabled%20!%3D%3D%20!disabled%20%26%26%0D%0A%09%09%09%09%09%09inDisabledFieldset(%20elem%20)%20%3D%3D%3D%20disabled%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20elem.disabled%20%3D%3D%3D%20disabled%3B%0D%0A%0D%0A%09%09%2F%2F%20Try%20to%20winnow%20out%20elements%20that%20can't%20be%20disabled%20before%20trusting%20the%20disabled%20property.%0D%0A%09%09%2F%2F%20Some%20victims%20get%20caught%20in%20our%20net%20(label%2C%20legend%2C%20menu%2C%20track)%2C%20but%20it%20shouldn't%0D%0A%09%09%2F%2F%20even%20exist%20on%20them%2C%20let%20alone%20have%20a%20boolean%20value.%0D%0A%09%09%7D%20else%20if%20(%20%22label%22%20in%20elem%20)%20%7B%0D%0A%09%09%09return%20elem.disabled%20%3D%3D%3D%20disabled%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Remaining%20elements%20are%20neither%20%3Aenabled%20nor%20%3Adisabled%0D%0A%09%09return%20false%3B%0D%0A%09%7D%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Returns%20a%20function%20to%20use%20in%20pseudos%20for%20positionals%0D%0A%20*%20%40param%20%7BFunction%7D%20fn%0D%0A%20*%2F%0D%0Afunction%20createPositionalPseudo(%20fn%20)%20%7B%0D%0A%09return%20markFunction(function(%20argument%20)%20%7B%0D%0A%09%09argument%20%3D%20%2Bargument%3B%0D%0A%09%09return%20markFunction(function(%20seed%2C%20matches%20)%20%7B%0D%0A%09%09%09var%20j%2C%0D%0A%09%09%09%09matchIndexes%20%3D%20fn(%20%5B%5D%2C%20seed.length%2C%20argument%20)%2C%0D%0A%09%09%09%09i%20%3D%20matchIndexes.length%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Match%20elements%20found%20at%20the%20specified%20indexes%0D%0A%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09if%20(%20seed%5B%20(j%20%3D%20matchIndexes%5Bi%5D)%20%5D%20)%20%7B%0D%0A%09%09%09%09%09seed%5Bj%5D%20%3D%20!(matches%5Bj%5D%20%3D%20seed%5Bj%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D)%3B%0D%0A%09%7D)%3B%0D%0A%7D%0D%0A%0D%0A%2F**%0D%0A%20*%20Checks%20a%20node%20for%20validity%20as%20a%20Sizzle%20context%0D%0A%20*%20%40param%20%7BElement%7CObject%3D%7D%20context%0D%0A%20*%20%40returns%20%7BElement%7CObject%7CBoolean%7D%20The%20input%20node%20if%20acceptable%2C%20otherwise%20a%20falsy%20value%0D%0A%20*%2F%0D%0Afunction%20testContext(%20context%20)%20%7B%0D%0A%09return%20context%20%26%26%20typeof%20context.getElementsByTagName%20!%3D%3D%20%22undefined%22%20%26%26%20context%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Expose%20support%20vars%20for%20convenience%0D%0Asupport%20%3D%20Sizzle.support%20%3D%20%7B%7D%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20Detects%20XML%20nodes%0D%0A%20*%20%40param%20%7BElement%7CObject%7D%20elem%20An%20element%20or%20a%20document%0D%0A%20*%20%40returns%20%7BBoolean%7D%20True%20iff%20elem%20is%20a%20non-HTML%20XML%20node%0D%0A%20*%2F%0D%0AisXML%20%3D%20Sizzle.isXML%20%3D%20function(%20elem%20)%20%7B%0D%0A%09var%20namespace%20%3D%20elem.namespaceURI%2C%0D%0A%09%09docElem%20%3D%20(elem.ownerDocument%20%7C%7C%20elem).documentElement%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D8%0D%0A%09%2F%2F%20Assume%20HTML%20when%20documentElement%20doesn't%20yet%20exist%2C%20such%20as%20inside%20loading%20iframes%0D%0A%09%2F%2F%20https%3A%2F%2Fbugs.jquery.com%2Fticket%2F4833%0D%0A%09return%20!rhtml.test(%20namespace%20%7C%7C%20docElem%20%26%26%20docElem.nodeName%20%7C%7C%20%22HTML%22%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20Sets%20document-related%20variables%20once%20based%20on%20the%20current%20document%0D%0A%20*%20%40param%20%7BElement%7CObject%7D%20%5Bdoc%5D%20An%20element%20or%20document%20object%20to%20use%20to%20set%20the%20document%0D%0A%20*%20%40returns%20%7BObject%7D%20Returns%20the%20current%20document%0D%0A%20*%2F%0D%0AsetDocument%20%3D%20Sizzle.setDocument%20%3D%20function(%20node%20)%20%7B%0D%0A%09var%20hasCompare%2C%20subWindow%2C%0D%0A%09%09doc%20%3D%20node%20%3F%20node.ownerDocument%20%7C%7C%20node%20%3A%20preferredDoc%3B%0D%0A%0D%0A%09%2F%2F%20Return%20early%20if%20doc%20is%20invalid%20or%20already%20selected%0D%0A%09if%20(%20doc%20%3D%3D%3D%20document%20%7C%7C%20doc.nodeType%20!%3D%3D%209%20%7C%7C%20!doc.documentElement%20)%20%7B%0D%0A%09%09return%20document%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Update%20global%20variables%0D%0A%09document%20%3D%20doc%3B%0D%0A%09docElem%20%3D%20document.documentElement%3B%0D%0A%09documentIsHTML%20%3D%20!isXML(%20document%20)%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%209-11%2C%20Edge%0D%0A%09%2F%2F%20Accessing%20iframe%20documents%20after%20unload%20throws%20%22permission%20denied%22%20errors%20(jQuery%20%2313936)%0D%0A%09if%20(%20preferredDoc%20!%3D%3D%20document%20%26%26%0D%0A%09%09(subWindow%20%3D%20document.defaultView)%20%26%26%20subWindow.top%20!%3D%3D%20subWindow%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%2011%2C%20Edge%0D%0A%09%09if%20(%20subWindow.addEventListener%20)%20%7B%0D%0A%09%09%09subWindow.addEventListener(%20%22unload%22%2C%20unloadHandler%2C%20false%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%209%20-%2010%20only%0D%0A%09%09%7D%20else%20if%20(%20subWindow.attachEvent%20)%20%7B%0D%0A%09%09%09subWindow.attachEvent(%20%22onunload%22%2C%20unloadHandler%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F*%20Attributes%0D%0A%09----------------------------------------------------------------------%20*%2F%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%3C8%0D%0A%09%2F%2F%20Verify%20that%20getAttribute%20really%20returns%20attributes%20and%20not%20properties%0D%0A%09%2F%2F%20(excepting%20IE8%20booleans)%0D%0A%09support.attributes%20%3D%20assert(function(%20el%20)%20%7B%0D%0A%09%09el.className%20%3D%20%22i%22%3B%0D%0A%09%09return%20!el.getAttribute(%22className%22)%3B%0D%0A%09%7D)%3B%0D%0A%0D%0A%09%2F*%20getElement(s)By*%0D%0A%09----------------------------------------------------------------------%20*%2F%0D%0A%0D%0A%09%2F%2F%20Check%20if%20getElementsByTagName(%22*%22)%20returns%20only%20elements%0D%0A%09support.getElementsByTagName%20%3D%20assert(function(%20el%20)%20%7B%0D%0A%09%09el.appendChild(%20document.createComment(%22%22)%20)%3B%0D%0A%09%09return%20!el.getElementsByTagName(%22*%22).length%3B%0D%0A%09%7D)%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%3C9%0D%0A%09support.getElementsByClassName%20%3D%20rnative.test(%20document.getElementsByClassName%20)%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%3C10%0D%0A%09%2F%2F%20Check%20if%20getElementById%20returns%20elements%20by%20name%0D%0A%09%2F%2F%20The%20broken%20getElementById%20methods%20don't%20pick%20up%20programmatically-set%20names%2C%0D%0A%09%2F%2F%20so%20use%20a%20roundabout%20getElementsByName%20test%0D%0A%09support.getById%20%3D%20assert(function(%20el%20)%20%7B%0D%0A%09%09docElem.appendChild(%20el%20).id%20%3D%20expando%3B%0D%0A%09%09return%20!document.getElementsByName%20%7C%7C%20!document.getElementsByName(%20expando%20).length%3B%0D%0A%09%7D)%3B%0D%0A%0D%0A%09%2F%2F%20ID%20filter%20and%20find%0D%0A%09if%20(%20support.getById%20)%20%7B%0D%0A%09%09Expr.filter%5B%22ID%22%5D%20%3D%20function(%20id%20)%20%7B%0D%0A%09%09%09var%20attrId%20%3D%20id.replace(%20runescape%2C%20funescape%20)%3B%0D%0A%09%09%09return%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09return%20elem.getAttribute(%22id%22)%20%3D%3D%3D%20attrId%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D%3B%0D%0A%09%09Expr.find%5B%22ID%22%5D%20%3D%20function(%20id%2C%20context%20)%20%7B%0D%0A%09%09%09if%20(%20typeof%20context.getElementById%20!%3D%3D%20%22undefined%22%20%26%26%20documentIsHTML%20)%20%7B%0D%0A%09%09%09%09var%20elem%20%3D%20context.getElementById(%20id%20)%3B%0D%0A%09%09%09%09return%20elem%20%3F%20%5B%20elem%20%5D%20%3A%20%5B%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%20else%20%7B%0D%0A%09%09Expr.filter%5B%22ID%22%5D%20%3D%20%20function(%20id%20)%20%7B%0D%0A%09%09%09var%20attrId%20%3D%20id.replace(%20runescape%2C%20funescape%20)%3B%0D%0A%09%09%09return%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09var%20node%20%3D%20typeof%20elem.getAttributeNode%20!%3D%3D%20%22undefined%22%20%26%26%0D%0A%09%09%09%09%09elem.getAttributeNode(%22id%22)%3B%0D%0A%09%09%09%09return%20node%20%26%26%20node.value%20%3D%3D%3D%20attrId%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%206%20-%207%20only%0D%0A%09%09%2F%2F%20getElementById%20is%20not%20reliable%20as%20a%20find%20shortcut%0D%0A%09%09Expr.find%5B%22ID%22%5D%20%3D%20function(%20id%2C%20context%20)%20%7B%0D%0A%09%09%09if%20(%20typeof%20context.getElementById%20!%3D%3D%20%22undefined%22%20%26%26%20documentIsHTML%20)%20%7B%0D%0A%09%09%09%09var%20node%2C%20i%2C%20elems%2C%0D%0A%09%09%09%09%09elem%20%3D%20context.getElementById(%20id%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Verify%20the%20id%20attribute%0D%0A%09%09%09%09%09node%20%3D%20elem.getAttributeNode(%22id%22)%3B%0D%0A%09%09%09%09%09if%20(%20node%20%26%26%20node.value%20%3D%3D%3D%20id%20)%20%7B%0D%0A%09%09%09%09%09%09return%20%5B%20elem%20%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Fall%20back%20on%20getElementsByName%0D%0A%09%09%09%09%09elems%20%3D%20context.getElementsByName(%20id%20)%3B%0D%0A%09%09%09%09%09i%20%3D%200%3B%0D%0A%09%09%09%09%09while%20(%20(elem%20%3D%20elems%5Bi%2B%2B%5D)%20)%20%7B%0D%0A%09%09%09%09%09%09node%20%3D%20elem.getAttributeNode(%22id%22)%3B%0D%0A%09%09%09%09%09%09if%20(%20node%20%26%26%20node.value%20%3D%3D%3D%20id%20)%20%7B%0D%0A%09%09%09%09%09%09%09return%20%5B%20elem%20%5D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09return%20%5B%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Tag%0D%0A%09Expr.find%5B%22TAG%22%5D%20%3D%20support.getElementsByTagName%20%3F%0D%0A%09%09function(%20tag%2C%20context%20)%20%7B%0D%0A%09%09%09if%20(%20typeof%20context.getElementsByTagName%20!%3D%3D%20%22undefined%22%20)%20%7B%0D%0A%09%09%09%09return%20context.getElementsByTagName(%20tag%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20DocumentFragment%20nodes%20don't%20have%20gEBTN%0D%0A%09%09%09%7D%20else%20if%20(%20support.qsa%20)%20%7B%0D%0A%09%09%09%09return%20context.querySelectorAll(%20tag%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20%3A%0D%0A%0D%0A%09%09function(%20tag%2C%20context%20)%20%7B%0D%0A%09%09%09var%20elem%2C%0D%0A%09%09%09%09tmp%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09i%20%3D%200%2C%0D%0A%09%09%09%09%2F%2F%20By%20happy%20coincidence%2C%20a%20(broken)%20gEBTN%20appears%20on%20DocumentFragment%20nodes%20too%0D%0A%09%09%09%09results%20%3D%20context.getElementsByTagName(%20tag%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Filter%20out%20possible%20comments%0D%0A%09%09%09if%20(%20tag%20%3D%3D%3D%20%22*%22%20)%20%7B%0D%0A%09%09%09%09while%20(%20(elem%20%3D%20results%5Bi%2B%2B%5D)%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09%09%09%09%09tmp.push(%20elem%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09return%20tmp%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20results%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20Class%0D%0A%09Expr.find%5B%22CLASS%22%5D%20%3D%20support.getElementsByClassName%20%26%26%20function(%20className%2C%20context%20)%20%7B%0D%0A%09%09if%20(%20typeof%20context.getElementsByClassName%20!%3D%3D%20%22undefined%22%20%26%26%20documentIsHTML%20)%20%7B%0D%0A%09%09%09return%20context.getElementsByClassName(%20className%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F*%20QSA%2FmatchesSelector%0D%0A%09----------------------------------------------------------------------%20*%2F%0D%0A%0D%0A%09%2F%2F%20QSA%20and%20matchesSelector%20support%0D%0A%0D%0A%09%2F%2F%20matchesSelector(%3Aactive)%20reports%20false%20when%20true%20(IE9%2FOpera%2011.5)%0D%0A%09rbuggyMatches%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09%2F%2F%20qSa(%3Afocus)%20reports%20false%20when%20true%20(Chrome%2021)%0D%0A%09%2F%2F%20We%20allow%20this%20because%20of%20a%20bug%20in%20IE8%2F9%20that%20throws%20an%20error%0D%0A%09%2F%2F%20whenever%20%60document.activeElement%60%20is%20accessed%20on%20an%20iframe%0D%0A%09%2F%2F%20So%2C%20we%20allow%20%3Afocus%20to%20pass%20through%20QSA%20all%20the%20time%20to%20avoid%20the%20IE%20error%0D%0A%09%2F%2F%20See%20https%3A%2F%2Fbugs.jquery.com%2Fticket%2F13378%0D%0A%09rbuggyQSA%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09if%20(%20(support.qsa%20%3D%20rnative.test(%20document.querySelectorAll%20))%20)%20%7B%0D%0A%09%09%2F%2F%20Build%20QSA%20regex%0D%0A%09%09%2F%2F%20Regex%20strategy%20adopted%20from%20Diego%20Perini%0D%0A%09%09assert(function(%20el%20)%20%7B%0D%0A%09%09%09%2F%2F%20Select%20is%20set%20to%20empty%20string%20on%20purpose%0D%0A%09%09%09%2F%2F%20This%20is%20to%20test%20IE's%20treatment%20of%20not%20explicitly%0D%0A%09%09%09%2F%2F%20setting%20a%20boolean%20content%20attribute%2C%0D%0A%09%09%09%2F%2F%20since%20its%20presence%20should%20be%20enough%0D%0A%09%09%09%2F%2F%20https%3A%2F%2Fbugs.jquery.com%2Fticket%2F12359%0D%0A%09%09%09docElem.appendChild(%20el%20).innerHTML%20%3D%20%22%3Ca%20id%3D'%22%20%2B%20expando%20%2B%20%22'%3E%3C%2Fa%3E%22%20%2B%0D%0A%09%09%09%09%22%3Cselect%20id%3D'%22%20%2B%20expando%20%2B%20%22-%5Cr%5C%5C'%20msallowcapture%3D''%3E%22%20%2B%0D%0A%09%09%09%09%22%3Coption%20selected%3D''%3E%3C%2Foption%3E%3C%2Fselect%3E%22%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20IE8%2C%20Opera%2011-12.16%0D%0A%09%09%09%2F%2F%20Nothing%20should%20be%20selected%20when%20empty%20strings%20follow%20%5E%3D%20or%20%24%3D%20or%20*%3D%0D%0A%09%09%09%2F%2F%20The%20test%20attribute%20must%20be%20unknown%20in%20Opera%20but%20%22safe%22%20for%20WinRT%0D%0A%09%09%09%2F%2F%20https%3A%2F%2Fmsdn.microsoft.com%2Fen-us%2Flibrary%2Fie%2Fhh465388.aspx%23attribute_section%0D%0A%09%09%09if%20(%20el.querySelectorAll(%22%5Bmsallowcapture%5E%3D''%5D%22).length%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%20%22%5B*%5E%24%5D%3D%22%20%2B%20whitespace%20%2B%20%22*(%3F%3A''%7C%5C%22%5C%22)%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20IE8%0D%0A%09%09%09%2F%2F%20Boolean%20attributes%20and%20%22value%22%20are%20not%20treated%20correctly%0D%0A%09%09%09if%20(%20!el.querySelectorAll(%22%5Bselected%5D%22).length%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%20%22%5C%5C%5B%22%20%2B%20whitespace%20%2B%20%22*(%3F%3Avalue%7C%22%20%2B%20booleans%20%2B%20%22)%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20Chrome%3C29%2C%20Android%3C4.4%2C%20Safari%3C7.0%2B%2C%20iOS%3C7.0%2B%2C%20PhantomJS%3C1.9.8%2B%0D%0A%09%09%09if%20(%20!el.querySelectorAll(%20%22%5Bid~%3D%22%20%2B%20expando%20%2B%20%22-%5D%22%20).length%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%22~%3D%22)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Webkit%2FOpera%20-%20%3Achecked%20should%20return%20selected%20option%20elements%0D%0A%09%09%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FREC-css3-selectors-20110929%2F%23checked%0D%0A%09%09%09%2F%2F%20IE8%20throws%20error%20here%20and%20will%20not%20see%20later%20tests%0D%0A%09%09%09if%20(%20!el.querySelectorAll(%22%3Achecked%22).length%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%22%3Achecked%22)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20Safari%208%2B%2C%20iOS%208%2B%0D%0A%09%09%09%2F%2F%20https%3A%2F%2Fbugs.webkit.org%2Fshow_bug.cgi%3Fid%3D136851%0D%0A%09%09%09%2F%2F%20In-page%20%60selector%23id%20sibling-combinator%20selector%60%20fails%0D%0A%09%09%09if%20(%20!el.querySelectorAll(%20%22a%23%22%20%2B%20expando%20%2B%20%22%2B*%22%20).length%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%22.%23.%2B%5B%2B~%5D%22)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D)%3B%0D%0A%0D%0A%09%09assert(function(%20el%20)%20%7B%0D%0A%09%09%09el.innerHTML%20%3D%20%22%3Ca%20href%3D''%20disabled%3D'disabled'%3E%3C%2Fa%3E%22%20%2B%0D%0A%09%09%09%09%22%3Cselect%20disabled%3D'disabled'%3E%3Coption%2F%3E%3C%2Fselect%3E%22%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20Windows%208%20Native%20Apps%0D%0A%09%09%09%2F%2F%20The%20type%20and%20name%20attributes%20are%20restricted%20during%20.innerHTML%20assignment%0D%0A%09%09%09var%20input%20%3D%20document.createElement(%22input%22)%3B%0D%0A%09%09%09input.setAttribute(%20%22type%22%2C%20%22hidden%22%20)%3B%0D%0A%09%09%09el.appendChild(%20input%20).setAttribute(%20%22name%22%2C%20%22D%22%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20IE8%0D%0A%09%09%09%2F%2F%20Enforce%20case-sensitivity%20of%20name%20attribute%0D%0A%09%09%09if%20(%20el.querySelectorAll(%22%5Bname%3Dd%5D%22).length%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%20%22name%22%20%2B%20whitespace%20%2B%20%22*%5B*%5E%24%7C!~%5D%3F%3D%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20FF%203.5%20-%20%3Aenabled%2F%3Adisabled%20and%20hidden%20elements%20(hidden%20elements%20are%20still%20enabled)%0D%0A%09%09%09%2F%2F%20IE8%20throws%20error%20here%20and%20will%20not%20see%20later%20tests%0D%0A%09%09%09if%20(%20el.querySelectorAll(%22%3Aenabled%22).length%20!%3D%3D%202%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%20%22%3Aenabled%22%2C%20%22%3Adisabled%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20IE9-11%2B%0D%0A%09%09%09%2F%2F%20IE's%20%3Adisabled%20selector%20does%20not%20pick%20up%20the%20children%20of%20disabled%20fieldsets%0D%0A%09%09%09docElem.appendChild(%20el%20).disabled%20%3D%20true%3B%0D%0A%09%09%09if%20(%20el.querySelectorAll(%22%3Adisabled%22).length%20!%3D%3D%202%20)%20%7B%0D%0A%09%09%09%09rbuggyQSA.push(%20%22%3Aenabled%22%2C%20%22%3Adisabled%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Opera%2010-11%20does%20not%20throw%20on%20post-comma%20invalid%20pseudos%0D%0A%09%09%09el.querySelectorAll(%22*%2C%3Ax%22)%3B%0D%0A%09%09%09rbuggyQSA.push(%22%2C.*%3A%22)%3B%0D%0A%09%09%7D)%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20(support.matchesSelector%20%3D%20rnative.test(%20(matches%20%3D%20docElem.matches%20%7C%7C%0D%0A%09%09docElem.webkitMatchesSelector%20%7C%7C%0D%0A%09%09docElem.mozMatchesSelector%20%7C%7C%0D%0A%09%09docElem.oMatchesSelector%20%7C%7C%0D%0A%09%09docElem.msMatchesSelector)%20))%20)%20%7B%0D%0A%0D%0A%09%09assert(function(%20el%20)%20%7B%0D%0A%09%09%09%2F%2F%20Check%20to%20see%20if%20it's%20possible%20to%20do%20matchesSelector%0D%0A%09%09%09%2F%2F%20on%20a%20disconnected%20node%20(IE%209)%0D%0A%09%09%09support.disconnectedMatch%20%3D%20matches.call(%20el%2C%20%22*%22%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20This%20should%20fail%20with%20an%20exception%0D%0A%09%09%09%2F%2F%20Gecko%20does%20not%20error%2C%20returns%20false%20instead%0D%0A%09%09%09matches.call(%20el%2C%20%22%5Bs!%3D''%5D%3Ax%22%20)%3B%0D%0A%09%09%09rbuggyMatches.push(%20%22!%3D%22%2C%20pseudos%20)%3B%0D%0A%09%09%7D)%3B%0D%0A%09%7D%0D%0A%0D%0A%09rbuggyQSA%20%3D%20rbuggyQSA.length%20%26%26%20new%20RegExp(%20rbuggyQSA.join(%22%7C%22)%20)%3B%0D%0A%09rbuggyMatches%20%3D%20rbuggyMatches.length%20%26%26%20new%20RegExp(%20rbuggyMatches.join(%22%7C%22)%20)%3B%0D%0A%0D%0A%09%2F*%20Contains%0D%0A%09----------------------------------------------------------------------%20*%2F%0D%0A%09hasCompare%20%3D%20rnative.test(%20docElem.compareDocumentPosition%20)%3B%0D%0A%0D%0A%09%2F%2F%20Element%20contains%20another%0D%0A%09%2F%2F%20Purposefully%20self-exclusive%0D%0A%09%2F%2F%20As%20in%2C%20an%20element%20does%20not%20contain%20itself%0D%0A%09contains%20%3D%20hasCompare%20%7C%7C%20rnative.test(%20docElem.contains%20)%20%3F%0D%0A%09%09function(%20a%2C%20b%20)%20%7B%0D%0A%09%09%09var%20adown%20%3D%20a.nodeType%20%3D%3D%3D%209%20%3F%20a.documentElement%20%3A%20a%2C%0D%0A%09%09%09%09bup%20%3D%20b%20%26%26%20b.parentNode%3B%0D%0A%09%09%09return%20a%20%3D%3D%3D%20bup%20%7C%7C%20!!(%20bup%20%26%26%20bup.nodeType%20%3D%3D%3D%201%20%26%26%20(%0D%0A%09%09%09%09adown.contains%20%3F%0D%0A%09%09%09%09%09adown.contains(%20bup%20)%20%3A%0D%0A%09%09%09%09%09a.compareDocumentPosition%20%26%26%20a.compareDocumentPosition(%20bup%20)%20%26%2016%0D%0A%09%09%09))%3B%0D%0A%09%09%7D%20%3A%0D%0A%09%09function(%20a%2C%20b%20)%20%7B%0D%0A%09%09%09if%20(%20b%20)%20%7B%0D%0A%09%09%09%09while%20(%20(b%20%3D%20b.parentNode)%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20b%20%3D%3D%3D%20a%20)%20%7B%0D%0A%09%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%2F*%20Sorting%0D%0A%09----------------------------------------------------------------------%20*%2F%0D%0A%0D%0A%09%2F%2F%20Document%20order%20sorting%0D%0A%09sortOrder%20%3D%20hasCompare%20%3F%0D%0A%09function(%20a%2C%20b%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Flag%20for%20duplicate%20removal%0D%0A%09%09if%20(%20a%20%3D%3D%3D%20b%20)%20%7B%0D%0A%09%09%09hasDuplicate%20%3D%20true%3B%0D%0A%09%09%09return%200%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Sort%20on%20method%20existence%20if%20only%20one%20input%20has%20compareDocumentPosition%0D%0A%09%09var%20compare%20%3D%20!a.compareDocumentPosition%20-%20!b.compareDocumentPosition%3B%0D%0A%09%09if%20(%20compare%20)%20%7B%0D%0A%09%09%09return%20compare%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Calculate%20position%20if%20both%20inputs%20belong%20to%20the%20same%20document%0D%0A%09%09compare%20%3D%20(%20a.ownerDocument%20%7C%7C%20a%20)%20%3D%3D%3D%20(%20b.ownerDocument%20%7C%7C%20b%20)%20%3F%0D%0A%09%09%09a.compareDocumentPosition(%20b%20)%20%3A%0D%0A%0D%0A%09%09%09%2F%2F%20Otherwise%20we%20know%20they%20are%20disconnected%0D%0A%09%09%091%3B%0D%0A%0D%0A%09%09%2F%2F%20Disconnected%20nodes%0D%0A%09%09if%20(%20compare%20%26%201%20%7C%7C%0D%0A%09%09%09(!support.sortDetached%20%26%26%20b.compareDocumentPosition(%20a%20)%20%3D%3D%3D%20compare)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Choose%20the%20first%20element%20that%20is%20related%20to%20our%20preferred%20document%0D%0A%09%09%09if%20(%20a%20%3D%3D%3D%20document%20%7C%7C%20a.ownerDocument%20%3D%3D%3D%20preferredDoc%20%26%26%20contains(preferredDoc%2C%20a)%20)%20%7B%0D%0A%09%09%09%09return%20-1%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%20b%20%3D%3D%3D%20document%20%7C%7C%20b.ownerDocument%20%3D%3D%3D%20preferredDoc%20%26%26%20contains(preferredDoc%2C%20b)%20)%20%7B%0D%0A%09%09%09%09return%201%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Maintain%20original%20order%0D%0A%09%09%09return%20sortInput%20%3F%0D%0A%09%09%09%09(%20indexOf(%20sortInput%2C%20a%20)%20-%20indexOf(%20sortInput%2C%20b%20)%20)%20%3A%0D%0A%09%09%09%090%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20compare%20%26%204%20%3F%20-1%20%3A%201%3B%0D%0A%09%7D%20%3A%0D%0A%09function(%20a%2C%20b%20)%20%7B%0D%0A%09%09%2F%2F%20Exit%20early%20if%20the%20nodes%20are%20identical%0D%0A%09%09if%20(%20a%20%3D%3D%3D%20b%20)%20%7B%0D%0A%09%09%09hasDuplicate%20%3D%20true%3B%0D%0A%09%09%09return%200%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09var%20cur%2C%0D%0A%09%09%09i%20%3D%200%2C%0D%0A%09%09%09aup%20%3D%20a.parentNode%2C%0D%0A%09%09%09bup%20%3D%20b.parentNode%2C%0D%0A%09%09%09ap%20%3D%20%5B%20a%20%5D%2C%0D%0A%09%09%09bp%20%3D%20%5B%20b%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20Parentless%20nodes%20are%20either%20documents%20or%20disconnected%0D%0A%09%09if%20(%20!aup%20%7C%7C%20!bup%20)%20%7B%0D%0A%09%09%09return%20a%20%3D%3D%3D%20document%20%3F%20-1%20%3A%0D%0A%09%09%09%09b%20%3D%3D%3D%20document%20%3F%201%20%3A%0D%0A%09%09%09%09aup%20%3F%20-1%20%3A%0D%0A%09%09%09%09bup%20%3F%201%20%3A%0D%0A%09%09%09%09sortInput%20%3F%0D%0A%09%09%09%09(%20indexOf(%20sortInput%2C%20a%20)%20-%20indexOf(%20sortInput%2C%20b%20)%20)%20%3A%0D%0A%09%09%09%090%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20the%20nodes%20are%20siblings%2C%20we%20can%20do%20a%20quick%20check%0D%0A%09%09%7D%20else%20if%20(%20aup%20%3D%3D%3D%20bup%20)%20%7B%0D%0A%09%09%09return%20siblingCheck(%20a%2C%20b%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Otherwise%20we%20need%20full%20lists%20of%20their%20ancestors%20for%20comparison%0D%0A%09%09cur%20%3D%20a%3B%0D%0A%09%09while%20(%20(cur%20%3D%20cur.parentNode)%20)%20%7B%0D%0A%09%09%09ap.unshift(%20cur%20)%3B%0D%0A%09%09%7D%0D%0A%09%09cur%20%3D%20b%3B%0D%0A%09%09while%20(%20(cur%20%3D%20cur.parentNode)%20)%20%7B%0D%0A%09%09%09bp.unshift(%20cur%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Walk%20down%20the%20tree%20looking%20for%20a%20discrepancy%0D%0A%09%09while%20(%20ap%5Bi%5D%20%3D%3D%3D%20bp%5Bi%5D%20)%20%7B%0D%0A%09%09%09i%2B%2B%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20i%20%3F%0D%0A%09%09%09%2F%2F%20Do%20a%20sibling%20check%20if%20the%20nodes%20have%20a%20common%20ancestor%0D%0A%09%09%09siblingCheck(%20ap%5Bi%5D%2C%20bp%5Bi%5D%20)%20%3A%0D%0A%0D%0A%09%09%09%2F%2F%20Otherwise%20nodes%20in%20our%20document%20sort%20first%0D%0A%09%09%09ap%5Bi%5D%20%3D%3D%3D%20preferredDoc%20%3F%20-1%20%3A%0D%0A%09%09%09bp%5Bi%5D%20%3D%3D%3D%20preferredDoc%20%3F%201%20%3A%0D%0A%09%09%090%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09return%20document%3B%0D%0A%7D%3B%0D%0A%0D%0ASizzle.matches%20%3D%20function(%20expr%2C%20elements%20)%20%7B%0D%0A%09return%20Sizzle(%20expr%2C%20null%2C%20null%2C%20elements%20)%3B%0D%0A%7D%3B%0D%0A%0D%0ASizzle.matchesSelector%20%3D%20function(%20elem%2C%20expr%20)%20%7B%0D%0A%09%2F%2F%20Set%20document%20vars%20if%20needed%0D%0A%09if%20(%20(%20elem.ownerDocument%20%7C%7C%20elem%20)%20!%3D%3D%20document%20)%20%7B%0D%0A%09%09setDocument(%20elem%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20support.matchesSelector%20%26%26%20documentIsHTML%20%26%26%0D%0A%09%09!nonnativeSelectorCache%5B%20expr%20%2B%20%22%20%22%20%5D%20%26%26%0D%0A%09%09(%20!rbuggyMatches%20%7C%7C%20!rbuggyMatches.test(%20expr%20)%20)%20%26%26%0D%0A%09%09(%20!rbuggyQSA%20%20%20%20%20%7C%7C%20!rbuggyQSA.test(%20expr%20)%20)%20)%20%7B%0D%0A%0D%0A%09%09try%20%7B%0D%0A%09%09%09var%20ret%20%3D%20matches.call(%20elem%2C%20expr%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20IE%209's%20matchesSelector%20returns%20false%20on%20disconnected%20nodes%0D%0A%09%09%09if%20(%20ret%20%7C%7C%20support.disconnectedMatch%20%7C%7C%0D%0A%09%09%09%09%09%2F%2F%20As%20well%2C%20disconnected%20nodes%20are%20said%20to%20be%20in%20a%20document%0D%0A%09%09%09%09%09%2F%2F%20fragment%20in%20IE%209%0D%0A%09%09%09%09%09elem.document%20%26%26%20elem.document.nodeType%20!%3D%3D%2011%20)%20%7B%0D%0A%09%09%09%09return%20ret%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20catch%20(e)%20%7B%0D%0A%09%09%09nonnativeSelectorCache(%20expr%2C%20true%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20Sizzle(%20expr%2C%20document%2C%20null%2C%20%5B%20elem%20%5D%20).length%20%3E%200%3B%0D%0A%7D%3B%0D%0A%0D%0ASizzle.contains%20%3D%20function(%20context%2C%20elem%20)%20%7B%0D%0A%09%2F%2F%20Set%20document%20vars%20if%20needed%0D%0A%09if%20(%20(%20context.ownerDocument%20%7C%7C%20context%20)%20!%3D%3D%20document%20)%20%7B%0D%0A%09%09setDocument(%20context%20)%3B%0D%0A%09%7D%0D%0A%09return%20contains(%20context%2C%20elem%20)%3B%0D%0A%7D%3B%0D%0A%0D%0ASizzle.attr%20%3D%20function(%20elem%2C%20name%20)%20%7B%0D%0A%09%2F%2F%20Set%20document%20vars%20if%20needed%0D%0A%09if%20(%20(%20elem.ownerDocument%20%7C%7C%20elem%20)%20!%3D%3D%20document%20)%20%7B%0D%0A%09%09setDocument(%20elem%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09var%20fn%20%3D%20Expr.attrHandle%5B%20name.toLowerCase()%20%5D%2C%0D%0A%09%09%2F%2F%20Don't%20get%20fooled%20by%20Object.prototype%20properties%20(jQuery%20%2313807)%0D%0A%09%09val%20%3D%20fn%20%26%26%20hasOwn.call(%20Expr.attrHandle%2C%20name.toLowerCase()%20)%20%3F%0D%0A%09%09%09fn(%20elem%2C%20name%2C%20!documentIsHTML%20)%20%3A%0D%0A%09%09%09undefined%3B%0D%0A%0D%0A%09return%20val%20!%3D%3D%20undefined%20%3F%0D%0A%09%09val%20%3A%0D%0A%09%09support.attributes%20%7C%7C%20!documentIsHTML%20%3F%0D%0A%09%09%09elem.getAttribute(%20name%20)%20%3A%0D%0A%09%09%09(val%20%3D%20elem.getAttributeNode(name))%20%26%26%20val.specified%20%3F%0D%0A%09%09%09%09val.value%20%3A%0D%0A%09%09%09%09null%3B%0D%0A%7D%3B%0D%0A%0D%0ASizzle.escape%20%3D%20function(%20sel%20)%20%7B%0D%0A%09return%20(sel%20%2B%20%22%22).replace(%20rcssescape%2C%20fcssescape%20)%3B%0D%0A%7D%3B%0D%0A%0D%0ASizzle.error%20%3D%20function(%20msg%20)%20%7B%0D%0A%09throw%20new%20Error(%20%22Syntax%20error%2C%20unrecognized%20expression%3A%20%22%20%2B%20msg%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20Document%20sorting%20and%20removing%20duplicates%0D%0A%20*%20%40param%20%7BArrayLike%7D%20results%0D%0A%20*%2F%0D%0ASizzle.uniqueSort%20%3D%20function(%20results%20)%20%7B%0D%0A%09var%20elem%2C%0D%0A%09%09duplicates%20%3D%20%5B%5D%2C%0D%0A%09%09j%20%3D%200%2C%0D%0A%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%2F%2F%20Unless%20we%20*know*%20we%20can%20detect%20duplicates%2C%20assume%20their%20presence%0D%0A%09hasDuplicate%20%3D%20!support.detectDuplicates%3B%0D%0A%09sortInput%20%3D%20!support.sortStable%20%26%26%20results.slice(%200%20)%3B%0D%0A%09results.sort(%20sortOrder%20)%3B%0D%0A%0D%0A%09if%20(%20hasDuplicate%20)%20%7B%0D%0A%09%09while%20(%20(elem%20%3D%20results%5Bi%2B%2B%5D)%20)%20%7B%0D%0A%09%09%09if%20(%20elem%20%3D%3D%3D%20results%5B%20i%20%5D%20)%20%7B%0D%0A%09%09%09%09j%20%3D%20duplicates.push(%20i%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09while%20(%20j--%20)%20%7B%0D%0A%09%09%09results.splice(%20duplicates%5B%20j%20%5D%2C%201%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Clear%20input%20after%20sorting%20to%20release%20objects%0D%0A%09%2F%2F%20See%20https%3A%2F%2Fgithub.com%2Fjquery%2Fsizzle%2Fpull%2F225%0D%0A%09sortInput%20%3D%20null%3B%0D%0A%0D%0A%09return%20results%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20Utility%20function%20for%20retrieving%20the%20text%20value%20of%20an%20array%20of%20DOM%20nodes%0D%0A%20*%20%40param%20%7BArray%7CElement%7D%20elem%0D%0A%20*%2F%0D%0AgetText%20%3D%20Sizzle.getText%20%3D%20function(%20elem%20)%20%7B%0D%0A%09var%20node%2C%0D%0A%09%09ret%20%3D%20%22%22%2C%0D%0A%09%09i%20%3D%200%2C%0D%0A%09%09nodeType%20%3D%20elem.nodeType%3B%0D%0A%0D%0A%09if%20(%20!nodeType%20)%20%7B%0D%0A%09%09%2F%2F%20If%20no%20nodeType%2C%20this%20is%20expected%20to%20be%20an%20array%0D%0A%09%09while%20(%20(node%20%3D%20elem%5Bi%2B%2B%5D)%20)%20%7B%0D%0A%09%09%09%2F%2F%20Do%20not%20traverse%20comment%20nodes%0D%0A%09%09%09ret%20%2B%3D%20getText(%20node%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%20else%20if%20(%20nodeType%20%3D%3D%3D%201%20%7C%7C%20nodeType%20%3D%3D%3D%209%20%7C%7C%20nodeType%20%3D%3D%3D%2011%20)%20%7B%0D%0A%09%09%2F%2F%20Use%20textContent%20for%20elements%0D%0A%09%09%2F%2F%20innerText%20usage%20removed%20for%20consistency%20of%20new%20lines%20(jQuery%20%2311153)%0D%0A%09%09if%20(%20typeof%20elem.textContent%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09return%20elem.textContent%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09%2F%2F%20Traverse%20its%20children%0D%0A%09%09%09for%20(%20elem%20%3D%20elem.firstChild%3B%20elem%3B%20elem%20%3D%20elem.nextSibling%20)%20%7B%0D%0A%09%09%09%09ret%20%2B%3D%20getText(%20elem%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%20else%20if%20(%20nodeType%20%3D%3D%3D%203%20%7C%7C%20nodeType%20%3D%3D%3D%204%20)%20%7B%0D%0A%09%09return%20elem.nodeValue%3B%0D%0A%09%7D%0D%0A%09%2F%2F%20Do%20not%20include%20comment%20or%20processing%20instruction%20nodes%0D%0A%0D%0A%09return%20ret%3B%0D%0A%7D%3B%0D%0A%0D%0AExpr%20%3D%20Sizzle.selectors%20%3D%20%7B%0D%0A%0D%0A%09%2F%2F%20Can%20be%20adjusted%20by%20the%20user%0D%0A%09cacheLength%3A%2050%2C%0D%0A%0D%0A%09createPseudo%3A%20markFunction%2C%0D%0A%0D%0A%09match%3A%20matchExpr%2C%0D%0A%0D%0A%09attrHandle%3A%20%7B%7D%2C%0D%0A%0D%0A%09find%3A%20%7B%7D%2C%0D%0A%0D%0A%09relative%3A%20%7B%0D%0A%09%09%22%3E%22%3A%20%7B%20dir%3A%20%22parentNode%22%2C%20first%3A%20true%20%7D%2C%0D%0A%09%09%22%20%22%3A%20%7B%20dir%3A%20%22parentNode%22%20%7D%2C%0D%0A%09%09%22%2B%22%3A%20%7B%20dir%3A%20%22previousSibling%22%2C%20first%3A%20true%20%7D%2C%0D%0A%09%09%22~%22%3A%20%7B%20dir%3A%20%22previousSibling%22%20%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09preFilter%3A%20%7B%0D%0A%09%09%22ATTR%22%3A%20function(%20match%20)%20%7B%0D%0A%09%09%09match%5B1%5D%20%3D%20match%5B1%5D.replace(%20runescape%2C%20funescape%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Move%20the%20given%20value%20to%20match%5B3%5D%20whether%20quoted%20or%20unquoted%0D%0A%09%09%09match%5B3%5D%20%3D%20(%20match%5B3%5D%20%7C%7C%20match%5B4%5D%20%7C%7C%20match%5B5%5D%20%7C%7C%20%22%22%20).replace(%20runescape%2C%20funescape%20)%3B%0D%0A%0D%0A%09%09%09if%20(%20match%5B2%5D%20%3D%3D%3D%20%22~%3D%22%20)%20%7B%0D%0A%09%09%09%09match%5B3%5D%20%3D%20%22%20%22%20%2B%20match%5B3%5D%20%2B%20%22%20%22%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20match.slice(%200%2C%204%20)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22CHILD%22%3A%20function(%20match%20)%20%7B%0D%0A%09%09%09%2F*%20matches%20from%20matchExpr%5B%22CHILD%22%5D%0D%0A%09%09%09%091%20type%20(only%7Cnth%7C...)%0D%0A%09%09%09%092%20what%20(child%7Cof-type)%0D%0A%09%09%09%093%20argument%20(even%7Codd%7C%5Cd*%7C%5Cd*n(%5B%2B-%5D%5Cd%2B)%3F%7C...)%0D%0A%09%09%09%094%20xn-component%20of%20xn%2By%20argument%20(%5B%2B-%5D%3F%5Cd*n%7C)%0D%0A%09%09%09%095%20sign%20of%20xn-component%0D%0A%09%09%09%096%20x%20of%20xn-component%0D%0A%09%09%09%097%20sign%20of%20y-component%0D%0A%09%09%09%098%20y%20of%20y-component%0D%0A%09%09%09*%2F%0D%0A%09%09%09match%5B1%5D%20%3D%20match%5B1%5D.toLowerCase()%3B%0D%0A%0D%0A%09%09%09if%20(%20match%5B1%5D.slice(%200%2C%203%20)%20%3D%3D%3D%20%22nth%22%20)%20%7B%0D%0A%09%09%09%09%2F%2F%20nth-*%20requires%20argument%0D%0A%09%09%09%09if%20(%20!match%5B3%5D%20)%20%7B%0D%0A%09%09%09%09%09Sizzle.error(%20match%5B0%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20numeric%20x%20and%20y%20parameters%20for%20Expr.filter.CHILD%0D%0A%09%09%09%09%2F%2F%20remember%20that%20false%2Ftrue%20cast%20respectively%20to%200%2F1%0D%0A%09%09%09%09match%5B4%5D%20%3D%20%2B(%20match%5B4%5D%20%3F%20match%5B5%5D%20%2B%20(match%5B6%5D%20%7C%7C%201)%20%3A%202%20*%20(%20match%5B3%5D%20%3D%3D%3D%20%22even%22%20%7C%7C%20match%5B3%5D%20%3D%3D%3D%20%22odd%22%20)%20)%3B%0D%0A%09%09%09%09match%5B5%5D%20%3D%20%2B(%20(%20match%5B7%5D%20%2B%20match%5B8%5D%20)%20%7C%7C%20match%5B3%5D%20%3D%3D%3D%20%22odd%22%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20other%20types%20prohibit%20arguments%0D%0A%09%09%09%7D%20else%20if%20(%20match%5B3%5D%20)%20%7B%0D%0A%09%09%09%09Sizzle.error(%20match%5B0%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20match%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22PSEUDO%22%3A%20function(%20match%20)%20%7B%0D%0A%09%09%09var%20excess%2C%0D%0A%09%09%09%09unquoted%20%3D%20!match%5B6%5D%20%26%26%20match%5B2%5D%3B%0D%0A%0D%0A%09%09%09if%20(%20matchExpr%5B%22CHILD%22%5D.test(%20match%5B0%5D%20)%20)%20%7B%0D%0A%09%09%09%09return%20null%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Accept%20quoted%20arguments%20as-is%0D%0A%09%09%09if%20(%20match%5B3%5D%20)%20%7B%0D%0A%09%09%09%09match%5B2%5D%20%3D%20match%5B4%5D%20%7C%7C%20match%5B5%5D%20%7C%7C%20%22%22%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Strip%20excess%20characters%20from%20unquoted%20arguments%0D%0A%09%09%09%7D%20else%20if%20(%20unquoted%20%26%26%20rpseudo.test(%20unquoted%20)%20%26%26%0D%0A%09%09%09%09%2F%2F%20Get%20excess%20from%20tokenize%20(recursively)%0D%0A%09%09%09%09(excess%20%3D%20tokenize(%20unquoted%2C%20true%20))%20%26%26%0D%0A%09%09%09%09%2F%2F%20advance%20to%20the%20next%20closing%20parenthesis%0D%0A%09%09%09%09(excess%20%3D%20unquoted.indexOf(%20%22)%22%2C%20unquoted.length%20-%20excess%20)%20-%20unquoted.length)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20excess%20is%20a%20negative%20index%0D%0A%09%09%09%09match%5B0%5D%20%3D%20match%5B0%5D.slice(%200%2C%20excess%20)%3B%0D%0A%09%09%09%09match%5B2%5D%20%3D%20unquoted.slice(%200%2C%20excess%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Return%20only%20captures%20needed%20by%20the%20pseudo%20filter%20method%20(type%20and%20argument)%0D%0A%09%09%09return%20match.slice(%200%2C%203%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09filter%3A%20%7B%0D%0A%0D%0A%09%09%22TAG%22%3A%20function(%20nodeNameSelector%20)%20%7B%0D%0A%09%09%09var%20nodeName%20%3D%20nodeNameSelector.replace(%20runescape%2C%20funescape%20).toLowerCase()%3B%0D%0A%09%09%09return%20nodeNameSelector%20%3D%3D%3D%20%22*%22%20%3F%0D%0A%09%09%09%09function()%20%7B%20return%20true%3B%20%7D%20%3A%0D%0A%09%09%09%09function(%20elem%20)%20%7B%0D%0A%09%09%09%09%09return%20elem.nodeName%20%26%26%20elem.nodeName.toLowerCase()%20%3D%3D%3D%20nodeName%3B%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22CLASS%22%3A%20function(%20className%20)%20%7B%0D%0A%09%09%09var%20pattern%20%3D%20classCache%5B%20className%20%2B%20%22%20%22%20%5D%3B%0D%0A%0D%0A%09%09%09return%20pattern%20%7C%7C%0D%0A%09%09%09%09(pattern%20%3D%20new%20RegExp(%20%22(%5E%7C%22%20%2B%20whitespace%20%2B%20%22)%22%20%2B%20className%20%2B%20%22(%22%20%2B%20whitespace%20%2B%20%22%7C%24)%22%20))%20%26%26%0D%0A%09%09%09%09classCache(%20className%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09%09return%20pattern.test(%20typeof%20elem.className%20%3D%3D%3D%20%22string%22%20%26%26%20elem.className%20%7C%7C%20typeof%20elem.getAttribute%20!%3D%3D%20%22undefined%22%20%26%26%20elem.getAttribute(%22class%22)%20%7C%7C%20%22%22%20)%3B%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22ATTR%22%3A%20function(%20name%2C%20operator%2C%20check%20)%20%7B%0D%0A%09%09%09return%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09var%20result%20%3D%20Sizzle.attr(%20elem%2C%20name%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20result%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09%09return%20operator%20%3D%3D%3D%20%22!%3D%22%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(%20!operator%20)%20%7B%0D%0A%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09result%20%2B%3D%20%22%22%3B%0D%0A%0D%0A%09%09%09%09return%20operator%20%3D%3D%3D%20%22%3D%22%20%3F%20result%20%3D%3D%3D%20check%20%3A%0D%0A%09%09%09%09%09operator%20%3D%3D%3D%20%22!%3D%22%20%3F%20result%20!%3D%3D%20check%20%3A%0D%0A%09%09%09%09%09operator%20%3D%3D%3D%20%22%5E%3D%22%20%3F%20check%20%26%26%20result.indexOf(%20check%20)%20%3D%3D%3D%200%20%3A%0D%0A%09%09%09%09%09operator%20%3D%3D%3D%20%22*%3D%22%20%3F%20check%20%26%26%20result.indexOf(%20check%20)%20%3E%20-1%20%3A%0D%0A%09%09%09%09%09operator%20%3D%3D%3D%20%22%24%3D%22%20%3F%20check%20%26%26%20result.slice(%20-check.length%20)%20%3D%3D%3D%20check%20%3A%0D%0A%09%09%09%09%09operator%20%3D%3D%3D%20%22~%3D%22%20%3F%20(%20%22%20%22%20%2B%20result.replace(%20rwhitespace%2C%20%22%20%22%20)%20%2B%20%22%20%22%20).indexOf(%20check%20)%20%3E%20-1%20%3A%0D%0A%09%09%09%09%09operator%20%3D%3D%3D%20%22%7C%3D%22%20%3F%20result%20%3D%3D%3D%20check%20%7C%7C%20result.slice(%200%2C%20check.length%20%2B%201%20)%20%3D%3D%3D%20check%20%2B%20%22-%22%20%3A%0D%0A%09%09%09%09%09false%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22CHILD%22%3A%20function(%20type%2C%20what%2C%20argument%2C%20first%2C%20last%20)%20%7B%0D%0A%09%09%09var%20simple%20%3D%20type.slice(%200%2C%203%20)%20!%3D%3D%20%22nth%22%2C%0D%0A%09%09%09%09forward%20%3D%20type.slice(%20-4%20)%20!%3D%3D%20%22last%22%2C%0D%0A%09%09%09%09ofType%20%3D%20what%20%3D%3D%3D%20%22of-type%22%3B%0D%0A%0D%0A%09%09%09return%20first%20%3D%3D%3D%201%20%26%26%20last%20%3D%3D%3D%200%20%3F%0D%0A%0D%0A%09%09%09%09%2F%2F%20Shortcut%20for%20%3Anth-*(n)%0D%0A%09%09%09%09function(%20elem%20)%20%7B%0D%0A%09%09%09%09%09return%20!!elem.parentNode%3B%0D%0A%09%09%09%09%7D%20%3A%0D%0A%0D%0A%09%09%09%09function(%20elem%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09%09%09%09var%20cache%2C%20uniqueCache%2C%20outerCache%2C%20node%2C%20nodeIndex%2C%20start%2C%0D%0A%09%09%09%09%09%09dir%20%3D%20simple%20!%3D%3D%20forward%20%3F%20%22nextSibling%22%20%3A%20%22previousSibling%22%2C%0D%0A%09%09%09%09%09%09parent%20%3D%20elem.parentNode%2C%0D%0A%09%09%09%09%09%09name%20%3D%20ofType%20%26%26%20elem.nodeName.toLowerCase()%2C%0D%0A%09%09%09%09%09%09useCache%20%3D%20!xml%20%26%26%20!ofType%2C%0D%0A%09%09%09%09%09%09diff%20%3D%20false%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20parent%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20%3A(first%7Clast%7Conly)-(child%7Cof-type)%0D%0A%09%09%09%09%09%09if%20(%20simple%20)%20%7B%0D%0A%09%09%09%09%09%09%09while%20(%20dir%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09node%20%3D%20elem%3B%0D%0A%09%09%09%09%09%09%09%09while%20(%20(node%20%3D%20node%5B%20dir%20%5D)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if%20(%20ofType%20%3F%0D%0A%09%09%09%09%09%09%09%09%09%09node.nodeName.toLowerCase()%20%3D%3D%3D%20name%20%3A%0D%0A%09%09%09%09%09%09%09%09%09%09node.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Reverse%20direction%20for%20%3Aonly-*%20(if%20we%20haven't%20yet%20done%20so)%0D%0A%09%09%09%09%09%09%09%09start%20%3D%20dir%20%3D%20type%20%3D%3D%3D%20%22only%22%20%26%26%20!start%20%26%26%20%22nextSibling%22%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09start%20%3D%20%5B%20forward%20%3F%20parent.firstChild%20%3A%20parent.lastChild%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20non-xml%20%3Anth-child(...)%20stores%20cache%20data%20on%20%60parent%60%0D%0A%09%09%09%09%09%09if%20(%20forward%20%26%26%20useCache%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Seek%20%60elem%60%20from%20a%20previously-cached%20index%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20...in%20a%20gzip-friendly%20way%0D%0A%09%09%09%09%09%09%09node%20%3D%20parent%3B%0D%0A%09%09%09%09%09%09%09outerCache%20%3D%20node%5B%20expando%20%5D%20%7C%7C%20(node%5B%20expando%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C9%20only%0D%0A%09%09%09%09%09%09%09%2F%2F%20Defend%20against%20cloned%20attroperties%20(jQuery%20gh-1709)%0D%0A%09%09%09%09%09%09%09uniqueCache%20%3D%20outerCache%5B%20node.uniqueID%20%5D%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09(outerCache%5B%20node.uniqueID%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09cache%20%3D%20uniqueCache%5B%20type%20%5D%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09nodeIndex%20%3D%20cache%5B%200%20%5D%20%3D%3D%3D%20dirruns%20%26%26%20cache%5B%201%20%5D%3B%0D%0A%09%09%09%09%09%09%09diff%20%3D%20nodeIndex%20%26%26%20cache%5B%202%20%5D%3B%0D%0A%09%09%09%09%09%09%09node%20%3D%20nodeIndex%20%26%26%20parent.childNodes%5B%20nodeIndex%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%09%09while%20(%20(node%20%3D%20%2B%2BnodeIndex%20%26%26%20node%20%26%26%20node%5B%20dir%20%5D%20%7C%7C%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Fallback%20to%20seeking%20%60elem%60%20from%20the%20start%0D%0A%09%09%09%09%09%09%09%09(diff%20%3D%20nodeIndex%20%3D%200)%20%7C%7C%20start.pop())%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20When%20found%2C%20cache%20indexes%20on%20%60parent%60%20and%20break%0D%0A%09%09%09%09%09%09%09%09if%20(%20node.nodeType%20%3D%3D%3D%201%20%26%26%20%2B%2Bdiff%20%26%26%20node%20%3D%3D%3D%20elem%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09uniqueCache%5B%20type%20%5D%20%3D%20%5B%20dirruns%2C%20nodeIndex%2C%20diff%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20Use%20previously-cached%20element%20index%20if%20available%0D%0A%09%09%09%09%09%09%09if%20(%20useCache%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20...in%20a%20gzip-friendly%20way%0D%0A%09%09%09%09%09%09%09%09node%20%3D%20elem%3B%0D%0A%09%09%09%09%09%09%09%09outerCache%20%3D%20node%5B%20expando%20%5D%20%7C%7C%20(node%5B%20expando%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C9%20only%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Defend%20against%20cloned%20attroperties%20(jQuery%20gh-1709)%0D%0A%09%09%09%09%09%09%09%09uniqueCache%20%3D%20outerCache%5B%20node.uniqueID%20%5D%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09%09(outerCache%5B%20node.uniqueID%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09cache%20%3D%20uniqueCache%5B%20type%20%5D%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09%09nodeIndex%20%3D%20cache%5B%200%20%5D%20%3D%3D%3D%20dirruns%20%26%26%20cache%5B%201%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09diff%20%3D%20nodeIndex%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20xml%20%3Anth-child(...)%0D%0A%09%09%09%09%09%09%09%2F%2F%20or%20%3Anth-last-child(...)%20or%20%3Anth(-last)%3F-of-type(...)%0D%0A%09%09%09%09%09%09%09if%20(%20diff%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Use%20the%20same%20loop%20as%20above%20to%20seek%20%60elem%60%20from%20the%20start%0D%0A%09%09%09%09%09%09%09%09while%20(%20(node%20%3D%20%2B%2BnodeIndex%20%26%26%20node%20%26%26%20node%5B%20dir%20%5D%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09%09(diff%20%3D%20nodeIndex%20%3D%200)%20%7C%7C%20start.pop())%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09if%20(%20(%20ofType%20%3F%0D%0A%09%09%09%09%09%09%09%09%09%09node.nodeName.toLowerCase()%20%3D%3D%3D%20name%20%3A%0D%0A%09%09%09%09%09%09%09%09%09%09node.nodeType%20%3D%3D%3D%201%20)%20%26%26%0D%0A%09%09%09%09%09%09%09%09%09%09%2B%2Bdiff%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Cache%20the%20index%20of%20each%20encountered%20element%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(%20useCache%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09outerCache%20%3D%20node%5B%20expando%20%5D%20%7C%7C%20(node%5B%20expando%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C9%20only%0D%0A%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20Defend%20against%20cloned%20attroperties%20(jQuery%20gh-1709)%0D%0A%09%09%09%09%09%09%09%09%09%09%09uniqueCache%20%3D%20outerCache%5B%20node.uniqueID%20%5D%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09(outerCache%5B%20node.uniqueID%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09uniqueCache%5B%20type%20%5D%20%3D%20%5B%20dirruns%2C%20diff%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(%20node%20%3D%3D%3D%20elem%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Incorporate%20the%20offset%2C%20then%20check%20against%20cycle%20size%0D%0A%09%09%09%09%09%09diff%20-%3D%20last%3B%0D%0A%09%09%09%09%09%09return%20diff%20%3D%3D%3D%20first%20%7C%7C%20(%20diff%20%25%20first%20%3D%3D%3D%200%20%26%26%20diff%20%2F%20first%20%3E%3D%200%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22PSEUDO%22%3A%20function(%20pseudo%2C%20argument%20)%20%7B%0D%0A%09%09%09%2F%2F%20pseudo-class%20names%20are%20case-insensitive%0D%0A%09%09%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2Fselectors%2F%23pseudo-classes%0D%0A%09%09%09%2F%2F%20Prioritize%20by%20case%20sensitivity%20in%20case%20custom%20pseudos%20are%20added%20with%20uppercase%20letters%0D%0A%09%09%09%2F%2F%20Remember%20that%20setFilters%20inherits%20from%20pseudos%0D%0A%09%09%09var%20args%2C%0D%0A%09%09%09%09fn%20%3D%20Expr.pseudos%5B%20pseudo%20%5D%20%7C%7C%20Expr.setFilters%5B%20pseudo.toLowerCase()%20%5D%20%7C%7C%0D%0A%09%09%09%09%09Sizzle.error(%20%22unsupported%20pseudo%3A%20%22%20%2B%20pseudo%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20The%20user%20may%20use%20createPseudo%20to%20indicate%20that%0D%0A%09%09%09%2F%2F%20arguments%20are%20needed%20to%20create%20the%20filter%20function%0D%0A%09%09%09%2F%2F%20just%20as%20Sizzle%20does%0D%0A%09%09%09if%20(%20fn%5B%20expando%20%5D%20)%20%7B%0D%0A%09%09%09%09return%20fn(%20argument%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20But%20maintain%20support%20for%20old%20signatures%0D%0A%09%09%09if%20(%20fn.length%20%3E%201%20)%20%7B%0D%0A%09%09%09%09args%20%3D%20%5B%20pseudo%2C%20pseudo%2C%20%22%22%2C%20argument%20%5D%3B%0D%0A%09%09%09%09return%20Expr.setFilters.hasOwnProperty(%20pseudo.toLowerCase()%20)%20%3F%0D%0A%09%09%09%09%09markFunction(function(%20seed%2C%20matches%20)%20%7B%0D%0A%09%09%09%09%09%09var%20idx%2C%0D%0A%09%09%09%09%09%09%09matched%20%3D%20fn(%20seed%2C%20argument%20)%2C%0D%0A%09%09%09%09%09%09%09i%20%3D%20matched.length%3B%0D%0A%09%09%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09%09%09%09idx%20%3D%20indexOf(%20seed%2C%20matched%5Bi%5D%20)%3B%0D%0A%09%09%09%09%09%09%09seed%5B%20idx%20%5D%20%3D%20!(%20matches%5B%20idx%20%5D%20%3D%20matched%5Bi%5D%20)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%20%3A%0D%0A%09%09%09%09%09function(%20elem%20)%20%7B%0D%0A%09%09%09%09%09%09return%20fn(%20elem%2C%200%2C%20args%20)%3B%0D%0A%09%09%09%09%09%7D%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20fn%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09pseudos%3A%20%7B%0D%0A%09%09%2F%2F%20Potentially%20complex%20pseudos%0D%0A%09%09%22not%22%3A%20markFunction(function(%20selector%20)%20%7B%0D%0A%09%09%09%2F%2F%20Trim%20the%20selector%20passed%20to%20compile%0D%0A%09%09%09%2F%2F%20to%20avoid%20treating%20leading%20and%20trailing%0D%0A%09%09%09%2F%2F%20spaces%20as%20combinators%0D%0A%09%09%09var%20input%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09results%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09matcher%20%3D%20compile(%20selector.replace(%20rtrim%2C%20%22%241%22%20)%20)%3B%0D%0A%0D%0A%09%09%09return%20matcher%5B%20expando%20%5D%20%3F%0D%0A%09%09%09%09markFunction(function(%20seed%2C%20matches%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09%09%09%09var%20elem%2C%0D%0A%09%09%09%09%09%09unmatched%20%3D%20matcher(%20seed%2C%20null%2C%20xml%2C%20%5B%5D%20)%2C%0D%0A%09%09%09%09%09%09i%20%3D%20seed.length%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Match%20elements%20unmatched%20by%20%60matcher%60%0D%0A%09%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20(elem%20%3D%20unmatched%5Bi%5D)%20)%20%7B%0D%0A%09%09%09%09%09%09%09seed%5Bi%5D%20%3D%20!(matches%5Bi%5D%20%3D%20elem)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%20%3A%0D%0A%09%09%09%09function(%20elem%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09%09%09%09input%5B0%5D%20%3D%20elem%3B%0D%0A%09%09%09%09%09matcher(%20input%2C%20null%2C%20xml%2C%20results%20)%3B%0D%0A%09%09%09%09%09%2F%2F%20Don't%20keep%20the%20element%20(issue%20%23299)%0D%0A%09%09%09%09%09input%5B0%5D%20%3D%20null%3B%0D%0A%09%09%09%09%09return%20!results.pop()%3B%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22has%22%3A%20markFunction(function(%20selector%20)%20%7B%0D%0A%09%09%09return%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09return%20Sizzle(%20selector%2C%20elem%20).length%20%3E%200%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22contains%22%3A%20markFunction(function(%20text%20)%20%7B%0D%0A%09%09%09text%20%3D%20text.replace(%20runescape%2C%20funescape%20)%3B%0D%0A%09%09%09return%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09return%20(%20elem.textContent%20%7C%7C%20getText(%20elem%20)%20).indexOf(%20text%20)%20%3E%20-1%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%2F%2F%20%22Whether%20an%20element%20is%20represented%20by%20a%20%3Alang()%20selector%0D%0A%09%09%2F%2F%20is%20based%20solely%20on%20the%20element's%20language%20value%0D%0A%09%09%2F%2F%20being%20equal%20to%20the%20identifier%20C%2C%0D%0A%09%09%2F%2F%20or%20beginning%20with%20the%20identifier%20C%20immediately%20followed%20by%20%22-%22.%0D%0A%09%09%2F%2F%20The%20matching%20of%20C%20against%20the%20element's%20language%20value%20is%20performed%20case-insensitively.%0D%0A%09%09%2F%2F%20The%20identifier%20C%20does%20not%20have%20to%20be%20a%20valid%20language%20name.%22%0D%0A%09%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2Fselectors%2F%23lang-pseudo%0D%0A%09%09%22lang%22%3A%20markFunction(%20function(%20lang%20)%20%7B%0D%0A%09%09%09%2F%2F%20lang%20value%20must%20be%20a%20valid%20identifier%0D%0A%09%09%09if%20(%20!ridentifier.test(lang%20%7C%7C%20%22%22)%20)%20%7B%0D%0A%09%09%09%09Sizzle.error(%20%22unsupported%20lang%3A%20%22%20%2B%20lang%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09lang%20%3D%20lang.replace(%20runescape%2C%20funescape%20).toLowerCase()%3B%0D%0A%09%09%09return%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09var%20elemLang%3B%0D%0A%09%09%09%09do%20%7B%0D%0A%09%09%09%09%09if%20(%20(elemLang%20%3D%20documentIsHTML%20%3F%0D%0A%09%09%09%09%09%09elem.lang%20%3A%0D%0A%09%09%09%09%09%09elem.getAttribute(%22xml%3Alang%22)%20%7C%7C%20elem.getAttribute(%22lang%22))%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09elemLang%20%3D%20elemLang.toLowerCase()%3B%0D%0A%09%09%09%09%09%09return%20elemLang%20%3D%3D%3D%20lang%20%7C%7C%20elemLang.indexOf(%20lang%20%2B%20%22-%22%20)%20%3D%3D%3D%200%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%20while%20(%20(elem%20%3D%20elem.parentNode)%20%26%26%20elem.nodeType%20%3D%3D%3D%201%20)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%2F%2F%20Miscellaneous%0D%0A%09%09%22target%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09var%20hash%20%3D%20window.location%20%26%26%20window.location.hash%3B%0D%0A%09%09%09return%20hash%20%26%26%20hash.slice(%201%20)%20%3D%3D%3D%20elem.id%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22root%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20elem%20%3D%3D%3D%20docElem%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22focus%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20elem%20%3D%3D%3D%20document.activeElement%20%26%26%20(!document.hasFocus%20%7C%7C%20document.hasFocus())%20%26%26%20!!(elem.type%20%7C%7C%20elem.href%20%7C%7C%20~elem.tabIndex)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20Boolean%20properties%0D%0A%09%09%22enabled%22%3A%20createDisabledPseudo(%20false%20)%2C%0D%0A%09%09%22disabled%22%3A%20createDisabledPseudo(%20true%20)%2C%0D%0A%0D%0A%09%09%22checked%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09%2F%2F%20In%20CSS3%2C%20%3Achecked%20should%20return%20both%20checked%20and%20selected%20elements%0D%0A%09%09%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FREC-css3-selectors-20110929%2F%23checked%0D%0A%09%09%09var%20nodeName%20%3D%20elem.nodeName.toLowerCase()%3B%0D%0A%09%09%09return%20(nodeName%20%3D%3D%3D%20%22input%22%20%26%26%20!!elem.checked)%20%7C%7C%20(nodeName%20%3D%3D%3D%20%22option%22%20%26%26%20!!elem.selected)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22selected%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09%2F%2F%20Accessing%20this%20property%20makes%20selected-by-default%0D%0A%09%09%09%2F%2F%20options%20in%20Safari%20work%20properly%0D%0A%09%09%09if%20(%20elem.parentNode%20)%20%7B%0D%0A%09%09%09%09elem.parentNode.selectedIndex%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20elem.selected%20%3D%3D%3D%20true%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20Contents%0D%0A%09%09%22empty%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09%2F%2F%20http%3A%2F%2Fwww.w3.org%2FTR%2Fselectors%2F%23empty-pseudo%0D%0A%09%09%09%2F%2F%20%3Aempty%20is%20negated%20by%20element%20(1)%20or%20content%20nodes%20(text%3A%203%3B%20cdata%3A%204%3B%20entity%20ref%3A%205)%2C%0D%0A%09%09%09%2F%2F%20%20%20but%20not%20by%20others%20(comment%3A%208%3B%20processing%20instruction%3A%207%3B%20etc.)%0D%0A%09%09%09%2F%2F%20nodeType%20%3C%206%20works%20because%20attributes%20(2)%20do%20not%20appear%20as%20children%0D%0A%09%09%09for%20(%20elem%20%3D%20elem.firstChild%3B%20elem%3B%20elem%20%3D%20elem.nextSibling%20)%20%7B%0D%0A%09%09%09%09if%20(%20elem.nodeType%20%3C%206%20)%20%7B%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22parent%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20!Expr.pseudos%5B%22empty%22%5D(%20elem%20)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20Element%2Finput%20types%0D%0A%09%09%22header%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20rheader.test(%20elem.nodeName%20)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22input%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20rinputs.test(%20elem.nodeName%20)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22button%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09var%20name%20%3D%20elem.nodeName.toLowerCase()%3B%0D%0A%09%09%09return%20name%20%3D%3D%3D%20%22input%22%20%26%26%20elem.type%20%3D%3D%3D%20%22button%22%20%7C%7C%20name%20%3D%3D%3D%20%22button%22%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%22text%22%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09var%20attr%3B%0D%0A%09%09%09return%20elem.nodeName.toLowerCase()%20%3D%3D%3D%20%22input%22%20%26%26%0D%0A%09%09%09%09elem.type%20%3D%3D%3D%20%22text%22%20%26%26%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20IE%3C8%0D%0A%09%09%09%09%2F%2F%20New%20HTML5%20attribute%20values%20(e.g.%2C%20%22search%22)%20appear%20with%20elem.type%20%3D%3D%3D%20%22text%22%0D%0A%09%09%09%09(%20(attr%20%3D%20elem.getAttribute(%22type%22))%20%3D%3D%20null%20%7C%7C%20attr.toLowerCase()%20%3D%3D%3D%20%22text%22%20)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20Position-in-collection%0D%0A%09%09%22first%22%3A%20createPositionalPseudo(function()%20%7B%0D%0A%09%09%09return%20%5B%200%20%5D%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22last%22%3A%20createPositionalPseudo(function(%20matchIndexes%2C%20length%20)%20%7B%0D%0A%09%09%09return%20%5B%20length%20-%201%20%5D%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22eq%22%3A%20createPositionalPseudo(function(%20matchIndexes%2C%20length%2C%20argument%20)%20%7B%0D%0A%09%09%09return%20%5B%20argument%20%3C%200%20%3F%20argument%20%2B%20length%20%3A%20argument%20%5D%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22even%22%3A%20createPositionalPseudo(function(%20matchIndexes%2C%20length%20)%20%7B%0D%0A%09%09%09var%20i%20%3D%200%3B%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20length%3B%20i%20%2B%3D%202%20)%20%7B%0D%0A%09%09%09%09matchIndexes.push(%20i%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20matchIndexes%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22odd%22%3A%20createPositionalPseudo(function(%20matchIndexes%2C%20length%20)%20%7B%0D%0A%09%09%09var%20i%20%3D%201%3B%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20length%3B%20i%20%2B%3D%202%20)%20%7B%0D%0A%09%09%09%09matchIndexes.push(%20i%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20matchIndexes%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22lt%22%3A%20createPositionalPseudo(function(%20matchIndexes%2C%20length%2C%20argument%20)%20%7B%0D%0A%09%09%09var%20i%20%3D%20argument%20%3C%200%20%3F%0D%0A%09%09%09%09argument%20%2B%20length%20%3A%0D%0A%09%09%09%09argument%20%3E%20length%20%3F%0D%0A%09%09%09%09%09length%20%3A%0D%0A%09%09%09%09%09argument%3B%0D%0A%09%09%09for%20(%20%3B%20--i%20%3E%3D%200%3B%20)%20%7B%0D%0A%09%09%09%09matchIndexes.push(%20i%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20matchIndexes%3B%0D%0A%09%09%7D)%2C%0D%0A%0D%0A%09%09%22gt%22%3A%20createPositionalPseudo(function(%20matchIndexes%2C%20length%2C%20argument%20)%20%7B%0D%0A%09%09%09var%20i%20%3D%20argument%20%3C%200%20%3F%20argument%20%2B%20length%20%3A%20argument%3B%0D%0A%09%09%09for%20(%20%3B%20%2B%2Bi%20%3C%20length%3B%20)%20%7B%0D%0A%09%09%09%09matchIndexes.push(%20i%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20matchIndexes%3B%0D%0A%09%09%7D)%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0AExpr.pseudos%5B%22nth%22%5D%20%3D%20Expr.pseudos%5B%22eq%22%5D%3B%0D%0A%0D%0A%2F%2F%20Add%20button%2Finput%20type%20pseudos%0D%0Afor%20(%20i%20in%20%7B%20radio%3A%20true%2C%20checkbox%3A%20true%2C%20file%3A%20true%2C%20password%3A%20true%2C%20image%3A%20true%20%7D%20)%20%7B%0D%0A%09Expr.pseudos%5B%20i%20%5D%20%3D%20createInputPseudo(%20i%20)%3B%0D%0A%7D%0D%0Afor%20(%20i%20in%20%7B%20submit%3A%20true%2C%20reset%3A%20true%20%7D%20)%20%7B%0D%0A%09Expr.pseudos%5B%20i%20%5D%20%3D%20createButtonPseudo(%20i%20)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Easy%20API%20for%20creating%20new%20setFilters%0D%0Afunction%20setFilters()%20%7B%7D%0D%0AsetFilters.prototype%20%3D%20Expr.filters%20%3D%20Expr.pseudos%3B%0D%0AExpr.setFilters%20%3D%20new%20setFilters()%3B%0D%0A%0D%0Atokenize%20%3D%20Sizzle.tokenize%20%3D%20function(%20selector%2C%20parseOnly%20)%20%7B%0D%0A%09var%20matched%2C%20match%2C%20tokens%2C%20type%2C%0D%0A%09%09soFar%2C%20groups%2C%20preFilters%2C%0D%0A%09%09cached%20%3D%20tokenCache%5B%20selector%20%2B%20%22%20%22%20%5D%3B%0D%0A%0D%0A%09if%20(%20cached%20)%20%7B%0D%0A%09%09return%20parseOnly%20%3F%200%20%3A%20cached.slice(%200%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09soFar%20%3D%20selector%3B%0D%0A%09groups%20%3D%20%5B%5D%3B%0D%0A%09preFilters%20%3D%20Expr.preFilter%3B%0D%0A%0D%0A%09while%20(%20soFar%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Comma%20and%20first%20run%0D%0A%09%09if%20(%20!matched%20%7C%7C%20(match%20%3D%20rcomma.exec(%20soFar%20))%20)%20%7B%0D%0A%09%09%09if%20(%20match%20)%20%7B%0D%0A%09%09%09%09%2F%2F%20Don't%20consume%20trailing%20commas%20as%20valid%0D%0A%09%09%09%09soFar%20%3D%20soFar.slice(%20match%5B0%5D.length%20)%20%7C%7C%20soFar%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09groups.push(%20(tokens%20%3D%20%5B%5D)%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09matched%20%3D%20false%3B%0D%0A%0D%0A%09%09%2F%2F%20Combinators%0D%0A%09%09if%20(%20(match%20%3D%20rcombinators.exec(%20soFar%20))%20)%20%7B%0D%0A%09%09%09matched%20%3D%20match.shift()%3B%0D%0A%09%09%09tokens.push(%7B%0D%0A%09%09%09%09value%3A%20matched%2C%0D%0A%09%09%09%09%2F%2F%20Cast%20descendant%20combinators%20to%20space%0D%0A%09%09%09%09type%3A%20match%5B0%5D.replace(%20rtrim%2C%20%22%20%22%20)%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%09soFar%20%3D%20soFar.slice(%20matched.length%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Filters%0D%0A%09%09for%20(%20type%20in%20Expr.filter%20)%20%7B%0D%0A%09%09%09if%20(%20(match%20%3D%20matchExpr%5B%20type%20%5D.exec(%20soFar%20))%20%26%26%20(!preFilters%5B%20type%20%5D%20%7C%7C%0D%0A%09%09%09%09(match%20%3D%20preFilters%5B%20type%20%5D(%20match%20)))%20)%20%7B%0D%0A%09%09%09%09matched%20%3D%20match.shift()%3B%0D%0A%09%09%09%09tokens.push(%7B%0D%0A%09%09%09%09%09value%3A%20matched%2C%0D%0A%09%09%09%09%09type%3A%20type%2C%0D%0A%09%09%09%09%09matches%3A%20match%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%09soFar%20%3D%20soFar.slice(%20matched.length%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20!matched%20)%20%7B%0D%0A%09%09%09break%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Return%20the%20length%20of%20the%20invalid%20excess%0D%0A%09%2F%2F%20if%20we're%20just%20parsing%0D%0A%09%2F%2F%20Otherwise%2C%20throw%20an%20error%20or%20return%20tokens%0D%0A%09return%20parseOnly%20%3F%0D%0A%09%09soFar.length%20%3A%0D%0A%09%09soFar%20%3F%0D%0A%09%09%09Sizzle.error(%20selector%20)%20%3A%0D%0A%09%09%09%2F%2F%20Cache%20the%20tokens%0D%0A%09%09%09tokenCache(%20selector%2C%20groups%20).slice(%200%20)%3B%0D%0A%7D%3B%0D%0A%0D%0Afunction%20toSelector(%20tokens%20)%20%7B%0D%0A%09var%20i%20%3D%200%2C%0D%0A%09%09len%20%3D%20tokens.length%2C%0D%0A%09%09selector%20%3D%20%22%22%3B%0D%0A%09for%20(%20%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09selector%20%2B%3D%20tokens%5Bi%5D.value%3B%0D%0A%09%7D%0D%0A%09return%20selector%3B%0D%0A%7D%0D%0A%0D%0Afunction%20addCombinator(%20matcher%2C%20combinator%2C%20base%20)%20%7B%0D%0A%09var%20dir%20%3D%20combinator.dir%2C%0D%0A%09%09skip%20%3D%20combinator.next%2C%0D%0A%09%09key%20%3D%20skip%20%7C%7C%20dir%2C%0D%0A%09%09checkNonElements%20%3D%20base%20%26%26%20key%20%3D%3D%3D%20%22parentNode%22%2C%0D%0A%09%09doneName%20%3D%20done%2B%2B%3B%0D%0A%0D%0A%09return%20combinator.first%20%3F%0D%0A%09%09%2F%2F%20Check%20against%20closest%20ancestor%2Fpreceding%20element%0D%0A%09%09function(%20elem%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09%09while%20(%20(elem%20%3D%20elem%5B%20dir%20%5D)%20)%20%7B%0D%0A%09%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20%7C%7C%20checkNonElements%20)%20%7B%0D%0A%09%09%09%09%09return%20matcher(%20elem%2C%20context%2C%20xml%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%20%3A%0D%0A%0D%0A%09%09%2F%2F%20Check%20against%20all%20ancestor%2Fpreceding%20elements%0D%0A%09%09function(%20elem%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09%09var%20oldCache%2C%20uniqueCache%2C%20outerCache%2C%0D%0A%09%09%09%09newCache%20%3D%20%5B%20dirruns%2C%20doneName%20%5D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20We%20can't%20set%20arbitrary%20data%20on%20XML%20nodes%2C%20so%20they%20don't%20benefit%20from%20combinator%20caching%0D%0A%09%09%09if%20(%20xml%20)%20%7B%0D%0A%09%09%09%09while%20(%20(elem%20%3D%20elem%5B%20dir%20%5D)%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20%7C%7C%20checkNonElements%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20matcher(%20elem%2C%20context%2C%20xml%20)%20)%20%7B%0D%0A%09%09%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09while%20(%20(elem%20%3D%20elem%5B%20dir%20%5D)%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20%7C%7C%20checkNonElements%20)%20%7B%0D%0A%09%09%09%09%09%09outerCache%20%3D%20elem%5B%20expando%20%5D%20%7C%7C%20(elem%5B%20expando%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C9%20only%0D%0A%09%09%09%09%09%09%2F%2F%20Defend%20against%20cloned%20attroperties%20(jQuery%20gh-1709)%0D%0A%09%09%09%09%09%09uniqueCache%20%3D%20outerCache%5B%20elem.uniqueID%20%5D%20%7C%7C%20(outerCache%5B%20elem.uniqueID%20%5D%20%3D%20%7B%7D)%3B%0D%0A%0D%0A%09%09%09%09%09%09if%20(%20skip%20%26%26%20skip%20%3D%3D%3D%20elem.nodeName.toLowerCase()%20)%20%7B%0D%0A%09%09%09%09%09%09%09elem%20%3D%20elem%5B%20dir%20%5D%20%7C%7C%20elem%3B%0D%0A%09%09%09%09%09%09%7D%20else%20if%20(%20(oldCache%20%3D%20uniqueCache%5B%20key%20%5D)%20%26%26%0D%0A%09%09%09%09%09%09%09oldCache%5B%200%20%5D%20%3D%3D%3D%20dirruns%20%26%26%20oldCache%5B%201%20%5D%20%3D%3D%3D%20doneName%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Assign%20to%20newCache%20so%20results%20back-propagate%20to%20previous%20elements%0D%0A%09%09%09%09%09%09%09return%20(newCache%5B%202%20%5D%20%3D%20oldCache%5B%202%20%5D)%3B%0D%0A%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20Reuse%20newcache%20so%20results%20back-propagate%20to%20previous%20elements%0D%0A%09%09%09%09%09%09%09uniqueCache%5B%20key%20%5D%20%3D%20newCache%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20A%20match%20means%20we're%20done%3B%20a%20fail%20means%20we%20have%20to%20keep%20checking%0D%0A%09%09%09%09%09%09%09if%20(%20(newCache%5B%202%20%5D%20%3D%20matcher(%20elem%2C%20context%2C%20xml%20))%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20elementMatcher(%20matchers%20)%20%7B%0D%0A%09return%20matchers.length%20%3E%201%20%3F%0D%0A%09%09function(%20elem%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09%09var%20i%20%3D%20matchers.length%3B%0D%0A%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09if%20(%20!matchers%5Bi%5D(%20elem%2C%20context%2C%20xml%20)%20)%20%7B%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%20%3A%0D%0A%09%09matchers%5B0%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20multipleContexts(%20selector%2C%20contexts%2C%20results%20)%20%7B%0D%0A%09var%20i%20%3D%200%2C%0D%0A%09%09len%20%3D%20contexts.length%3B%0D%0A%09for%20(%20%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09Sizzle(%20selector%2C%20contexts%5Bi%5D%2C%20results%20)%3B%0D%0A%09%7D%0D%0A%09return%20results%3B%0D%0A%7D%0D%0A%0D%0Afunction%20condense(%20unmatched%2C%20map%2C%20filter%2C%20context%2C%20xml%20)%20%7B%0D%0A%09var%20elem%2C%0D%0A%09%09newUnmatched%20%3D%20%5B%5D%2C%0D%0A%09%09i%20%3D%200%2C%0D%0A%09%09len%20%3D%20unmatched.length%2C%0D%0A%09%09mapped%20%3D%20map%20!%3D%20null%3B%0D%0A%0D%0A%09for%20(%20%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09if%20(%20(elem%20%3D%20unmatched%5Bi%5D)%20)%20%7B%0D%0A%09%09%09if%20(%20!filter%20%7C%7C%20filter(%20elem%2C%20context%2C%20xml%20)%20)%20%7B%0D%0A%09%09%09%09newUnmatched.push(%20elem%20)%3B%0D%0A%09%09%09%09if%20(%20mapped%20)%20%7B%0D%0A%09%09%09%09%09map.push(%20i%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20newUnmatched%3B%0D%0A%7D%0D%0A%0D%0Afunction%20setMatcher(%20preFilter%2C%20selector%2C%20matcher%2C%20postFilter%2C%20postFinder%2C%20postSelector%20)%20%7B%0D%0A%09if%20(%20postFilter%20%26%26%20!postFilter%5B%20expando%20%5D%20)%20%7B%0D%0A%09%09postFilter%20%3D%20setMatcher(%20postFilter%20)%3B%0D%0A%09%7D%0D%0A%09if%20(%20postFinder%20%26%26%20!postFinder%5B%20expando%20%5D%20)%20%7B%0D%0A%09%09postFinder%20%3D%20setMatcher(%20postFinder%2C%20postSelector%20)%3B%0D%0A%09%7D%0D%0A%09return%20markFunction(function(%20seed%2C%20results%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09var%20temp%2C%20i%2C%20elem%2C%0D%0A%09%09%09preMap%20%3D%20%5B%5D%2C%0D%0A%09%09%09postMap%20%3D%20%5B%5D%2C%0D%0A%09%09%09preexisting%20%3D%20results.length%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Get%20initial%20elements%20from%20seed%20or%20context%0D%0A%09%09%09elems%20%3D%20seed%20%7C%7C%20multipleContexts(%20selector%20%7C%7C%20%22*%22%2C%20context.nodeType%20%3F%20%5B%20context%20%5D%20%3A%20context%2C%20%5B%5D%20)%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Prefilter%20to%20get%20matcher%20input%2C%20preserving%20a%20map%20for%20seed-results%20synchronization%0D%0A%09%09%09matcherIn%20%3D%20preFilter%20%26%26%20(%20seed%20%7C%7C%20!selector%20)%20%3F%0D%0A%09%09%09%09condense(%20elems%2C%20preMap%2C%20preFilter%2C%20context%2C%20xml%20)%20%3A%0D%0A%09%09%09%09elems%2C%0D%0A%0D%0A%09%09%09matcherOut%20%3D%20matcher%20%3F%0D%0A%09%09%09%09%2F%2F%20If%20we%20have%20a%20postFinder%2C%20or%20filtered%20seed%2C%20or%20non-seed%20postFilter%20or%20preexisting%20results%2C%0D%0A%09%09%09%09postFinder%20%7C%7C%20(%20seed%20%3F%20preFilter%20%3A%20preexisting%20%7C%7C%20postFilter%20)%20%3F%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20...intermediate%20processing%20is%20necessary%0D%0A%09%09%09%09%09%5B%5D%20%3A%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20...otherwise%20use%20results%20directly%0D%0A%09%09%09%09%09results%20%3A%0D%0A%09%09%09%09matcherIn%3B%0D%0A%0D%0A%09%09%2F%2F%20Find%20primary%20matches%0D%0A%09%09if%20(%20matcher%20)%20%7B%0D%0A%09%09%09matcher(%20matcherIn%2C%20matcherOut%2C%20context%2C%20xml%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Apply%20postFilter%0D%0A%09%09if%20(%20postFilter%20)%20%7B%0D%0A%09%09%09temp%20%3D%20condense(%20matcherOut%2C%20postMap%20)%3B%0D%0A%09%09%09postFilter(%20temp%2C%20%5B%5D%2C%20context%2C%20xml%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Un-match%20failing%20elements%20by%20moving%20them%20back%20to%20matcherIn%0D%0A%09%09%09i%20%3D%20temp.length%3B%0D%0A%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09if%20(%20(elem%20%3D%20temp%5Bi%5D)%20)%20%7B%0D%0A%09%09%09%09%09matcherOut%5B%20postMap%5Bi%5D%20%5D%20%3D%20!(matcherIn%5B%20postMap%5Bi%5D%20%5D%20%3D%20elem)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20seed%20)%20%7B%0D%0A%09%09%09if%20(%20postFinder%20%7C%7C%20preFilter%20)%20%7B%0D%0A%09%09%09%09if%20(%20postFinder%20)%20%7B%0D%0A%09%09%09%09%09%2F%2F%20Get%20the%20final%20matcherOut%20by%20condensing%20this%20intermediate%20into%20postFinder%20contexts%0D%0A%09%09%09%09%09temp%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09i%20%3D%20matcherOut.length%3B%0D%0A%09%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20(elem%20%3D%20matcherOut%5Bi%5D)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20Restore%20matcherIn%20since%20elem%20is%20not%20yet%20a%20final%20match%0D%0A%09%09%09%09%09%09%09temp.push(%20(matcherIn%5Bi%5D%20%3D%20elem)%20)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09postFinder(%20null%2C%20(matcherOut%20%3D%20%5B%5D)%2C%20temp%2C%20xml%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Move%20matched%20elements%20from%20seed%20to%20results%20to%20keep%20them%20synchronized%0D%0A%09%09%09%09i%20%3D%20matcherOut.length%3B%0D%0A%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20(elem%20%3D%20matcherOut%5Bi%5D)%20%26%26%0D%0A%09%09%09%09%09%09(temp%20%3D%20postFinder%20%3F%20indexOf(%20seed%2C%20elem%20)%20%3A%20preMap%5Bi%5D)%20%3E%20-1%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09seed%5Btemp%5D%20%3D%20!(results%5Btemp%5D%20%3D%20elem)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Add%20elements%20to%20results%2C%20through%20postFinder%20if%20defined%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09matcherOut%20%3D%20condense(%0D%0A%09%09%09%09matcherOut%20%3D%3D%3D%20results%20%3F%0D%0A%09%09%09%09%09matcherOut.splice(%20preexisting%2C%20matcherOut.length%20)%20%3A%0D%0A%09%09%09%09%09matcherOut%0D%0A%09%09%09)%3B%0D%0A%09%09%09if%20(%20postFinder%20)%20%7B%0D%0A%09%09%09%09postFinder(%20null%2C%20results%2C%20matcherOut%2C%20xml%20)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09push.apply(%20results%2C%20matcherOut%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D)%3B%0D%0A%7D%0D%0A%0D%0Afunction%20matcherFromTokens(%20tokens%20)%20%7B%0D%0A%09var%20checkContext%2C%20matcher%2C%20j%2C%0D%0A%09%09len%20%3D%20tokens.length%2C%0D%0A%09%09leadingRelative%20%3D%20Expr.relative%5B%20tokens%5B0%5D.type%20%5D%2C%0D%0A%09%09implicitRelative%20%3D%20leadingRelative%20%7C%7C%20Expr.relative%5B%22%20%22%5D%2C%0D%0A%09%09i%20%3D%20leadingRelative%20%3F%201%20%3A%200%2C%0D%0A%0D%0A%09%09%2F%2F%20The%20foundational%20matcher%20ensures%20that%20elements%20are%20reachable%20from%20top-level%20context(s)%0D%0A%09%09matchContext%20%3D%20addCombinator(%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20elem%20%3D%3D%3D%20checkContext%3B%0D%0A%09%09%7D%2C%20implicitRelative%2C%20true%20)%2C%0D%0A%09%09matchAnyContext%20%3D%20addCombinator(%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20indexOf(%20checkContext%2C%20elem%20)%20%3E%20-1%3B%0D%0A%09%09%7D%2C%20implicitRelative%2C%20true%20)%2C%0D%0A%09%09matchers%20%3D%20%5B%20function(%20elem%2C%20context%2C%20xml%20)%20%7B%0D%0A%09%09%09var%20ret%20%3D%20(%20!leadingRelative%20%26%26%20(%20xml%20%7C%7C%20context%20!%3D%3D%20outermostContext%20)%20)%20%7C%7C%20(%0D%0A%09%09%09%09(checkContext%20%3D%20context).nodeType%20%3F%0D%0A%09%09%09%09%09matchContext(%20elem%2C%20context%2C%20xml%20)%20%3A%0D%0A%09%09%09%09%09matchAnyContext(%20elem%2C%20context%2C%20xml%20)%20)%3B%0D%0A%09%09%09%2F%2F%20Avoid%20hanging%20onto%20element%20(issue%20%23299)%0D%0A%09%09%09checkContext%20%3D%20null%3B%0D%0A%09%09%09return%20ret%3B%0D%0A%09%09%7D%20%5D%3B%0D%0A%0D%0A%09for%20(%20%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09if%20(%20(matcher%20%3D%20Expr.relative%5B%20tokens%5Bi%5D.type%20%5D)%20)%20%7B%0D%0A%09%09%09matchers%20%3D%20%5B%20addCombinator(elementMatcher(%20matchers%20)%2C%20matcher)%20%5D%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09matcher%20%3D%20Expr.filter%5B%20tokens%5Bi%5D.type%20%5D.apply(%20null%2C%20tokens%5Bi%5D.matches%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Return%20special%20upon%20seeing%20a%20positional%20matcher%0D%0A%09%09%09if%20(%20matcher%5B%20expando%20%5D%20)%20%7B%0D%0A%09%09%09%09%2F%2F%20Find%20the%20next%20relative%20operator%20(if%20any)%20for%20proper%20handling%0D%0A%09%09%09%09j%20%3D%20%2B%2Bi%3B%0D%0A%09%09%09%09for%20(%20%3B%20j%20%3C%20len%3B%20j%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20Expr.relative%5B%20tokens%5Bj%5D.type%20%5D%20)%20%7B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20setMatcher(%0D%0A%09%09%09%09%09i%20%3E%201%20%26%26%20elementMatcher(%20matchers%20)%2C%0D%0A%09%09%09%09%09i%20%3E%201%20%26%26%20toSelector(%0D%0A%09%09%09%09%09%09%2F%2F%20If%20the%20preceding%20token%20was%20a%20descendant%20combinator%2C%20insert%20an%20implicit%20any-element%20%60*%60%0D%0A%09%09%09%09%09%09tokens.slice(%200%2C%20i%20-%201%20).concat(%7B%20value%3A%20tokens%5B%20i%20-%202%20%5D.type%20%3D%3D%3D%20%22%20%22%20%3F%20%22*%22%20%3A%20%22%22%20%7D)%0D%0A%09%09%09%09%09).replace(%20rtrim%2C%20%22%241%22%20)%2C%0D%0A%09%09%09%09%09matcher%2C%0D%0A%09%09%09%09%09i%20%3C%20j%20%26%26%20matcherFromTokens(%20tokens.slice(%20i%2C%20j%20)%20)%2C%0D%0A%09%09%09%09%09j%20%3C%20len%20%26%26%20matcherFromTokens(%20(tokens%20%3D%20tokens.slice(%20j%20))%20)%2C%0D%0A%09%09%09%09%09j%20%3C%20len%20%26%26%20toSelector(%20tokens%20)%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09matchers.push(%20matcher%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20elementMatcher(%20matchers%20)%3B%0D%0A%7D%0D%0A%0D%0Afunction%20matcherFromGroupMatchers(%20elementMatchers%2C%20setMatchers%20)%20%7B%0D%0A%09var%20bySet%20%3D%20setMatchers.length%20%3E%200%2C%0D%0A%09%09byElement%20%3D%20elementMatchers.length%20%3E%200%2C%0D%0A%09%09superMatcher%20%3D%20function(%20seed%2C%20context%2C%20xml%2C%20results%2C%20outermost%20)%20%7B%0D%0A%09%09%09var%20elem%2C%20j%2C%20matcher%2C%0D%0A%09%09%09%09matchedCount%20%3D%200%2C%0D%0A%09%09%09%09i%20%3D%20%220%22%2C%0D%0A%09%09%09%09unmatched%20%3D%20seed%20%26%26%20%5B%5D%2C%0D%0A%09%09%09%09setMatched%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09contextBackup%20%3D%20outermostContext%2C%0D%0A%09%09%09%09%2F%2F%20We%20must%20always%20have%20either%20seed%20elements%20or%20outermost%20context%0D%0A%09%09%09%09elems%20%3D%20seed%20%7C%7C%20byElement%20%26%26%20Expr.find%5B%22TAG%22%5D(%20%22*%22%2C%20outermost%20)%2C%0D%0A%09%09%09%09%2F%2F%20Use%20integer%20dirruns%20iff%20this%20is%20the%20outermost%20matcher%0D%0A%09%09%09%09dirrunsUnique%20%3D%20(dirruns%20%2B%3D%20contextBackup%20%3D%3D%20null%20%3F%201%20%3A%20Math.random()%20%7C%7C%200.1)%2C%0D%0A%09%09%09%09len%20%3D%20elems.length%3B%0D%0A%0D%0A%09%09%09if%20(%20outermost%20)%20%7B%0D%0A%09%09%09%09outermostContext%20%3D%20context%20%3D%3D%3D%20document%20%7C%7C%20context%20%7C%7C%20outermost%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Add%20elements%20passing%20elementMatchers%20directly%20to%20results%0D%0A%09%09%09%2F%2F%20Support%3A%20IE%3C9%2C%20Safari%0D%0A%09%09%09%2F%2F%20Tolerate%20NodeList%20properties%20(IE%3A%20%22length%22%3B%20Safari%3A%20%3Cnumber%3E)%20matching%20elements%20by%20id%0D%0A%09%09%09for%20(%20%3B%20i%20!%3D%3D%20len%20%26%26%20(elem%20%3D%20elems%5Bi%5D)%20!%3D%20null%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09if%20(%20byElement%20%26%26%20elem%20)%20%7B%0D%0A%09%09%09%09%09j%20%3D%200%3B%0D%0A%09%09%09%09%09if%20(%20!context%20%26%26%20elem.ownerDocument%20!%3D%3D%20document%20)%20%7B%0D%0A%09%09%09%09%09%09setDocument(%20elem%20)%3B%0D%0A%09%09%09%09%09%09xml%20%3D%20!documentIsHTML%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09while%20(%20(matcher%20%3D%20elementMatchers%5Bj%2B%2B%5D)%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20matcher(%20elem%2C%20context%20%7C%7C%20document%2C%20xml)%20)%20%7B%0D%0A%09%09%09%09%09%09%09results.push(%20elem%20)%3B%0D%0A%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(%20outermost%20)%20%7B%0D%0A%09%09%09%09%09%09dirruns%20%3D%20dirrunsUnique%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Track%20unmatched%20elements%20for%20set%20filters%0D%0A%09%09%09%09if%20(%20bySet%20)%20%7B%0D%0A%09%09%09%09%09%2F%2F%20They%20will%20have%20gone%20through%20all%20possible%20matchers%0D%0A%09%09%09%09%09if%20(%20(elem%20%3D%20!matcher%20%26%26%20elem)%20)%20%7B%0D%0A%09%09%09%09%09%09matchedCount--%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Lengthen%20the%20array%20for%20every%20element%2C%20matched%20or%20not%0D%0A%09%09%09%09%09if%20(%20seed%20)%20%7B%0D%0A%09%09%09%09%09%09unmatched.push(%20elem%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20%60i%60%20is%20now%20the%20count%20of%20elements%20visited%20above%2C%20and%20adding%20it%20to%20%60matchedCount%60%0D%0A%09%09%09%2F%2F%20makes%20the%20latter%20nonnegative.%0D%0A%09%09%09matchedCount%20%2B%3D%20i%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Apply%20set%20filters%20to%20unmatched%20elements%0D%0A%09%09%09%2F%2F%20NOTE%3A%20This%20can%20be%20skipped%20if%20there%20are%20no%20unmatched%20elements%20(i.e.%2C%20%60matchedCount%60%0D%0A%09%09%09%2F%2F%20equals%20%60i%60)%2C%20unless%20we%20didn't%20visit%20_any_%20elements%20in%20the%20above%20loop%20because%20we%20have%0D%0A%09%09%09%2F%2F%20no%20element%20matchers%20and%20no%20seed.%0D%0A%09%09%09%2F%2F%20Incrementing%20an%20initially-string%20%220%22%20%60i%60%20allows%20%60i%60%20to%20remain%20a%20string%20only%20in%20that%0D%0A%09%09%09%2F%2F%20case%2C%20which%20will%20result%20in%20a%20%2200%22%20%60matchedCount%60%20that%20differs%20from%20%60i%60%20but%20is%20also%0D%0A%09%09%09%2F%2F%20numerically%20zero.%0D%0A%09%09%09if%20(%20bySet%20%26%26%20i%20!%3D%3D%20matchedCount%20)%20%7B%0D%0A%09%09%09%09j%20%3D%200%3B%0D%0A%09%09%09%09while%20(%20(matcher%20%3D%20setMatchers%5Bj%2B%2B%5D)%20)%20%7B%0D%0A%09%09%09%09%09matcher(%20unmatched%2C%20setMatched%2C%20context%2C%20xml%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09if%20(%20seed%20)%20%7B%0D%0A%09%09%09%09%09%2F%2F%20Reintegrate%20element%20matches%20to%20eliminate%20the%20need%20for%20sorting%0D%0A%09%09%09%09%09if%20(%20matchedCount%20%3E%200%20)%20%7B%0D%0A%09%09%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09%09%09%09if%20(%20!(unmatched%5Bi%5D%20%7C%7C%20setMatched%5Bi%5D)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09setMatched%5Bi%5D%20%3D%20pop.call(%20results%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Discard%20index%20placeholder%20values%20to%20get%20only%20actual%20matches%0D%0A%09%09%09%09%09setMatched%20%3D%20condense(%20setMatched%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Add%20matches%20to%20results%0D%0A%09%09%09%09push.apply(%20results%2C%20setMatched%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Seedless%20set%20matches%20succeeding%20multiple%20successful%20matchers%20stipulate%20sorting%0D%0A%09%09%09%09if%20(%20outermost%20%26%26%20!seed%20%26%26%20setMatched.length%20%3E%200%20%26%26%0D%0A%09%09%09%09%09(%20matchedCount%20%2B%20setMatchers.length%20)%20%3E%201%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09Sizzle.uniqueSort(%20results%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Override%20manipulation%20of%20globals%20by%20nested%20matchers%0D%0A%09%09%09if%20(%20outermost%20)%20%7B%0D%0A%09%09%09%09dirruns%20%3D%20dirrunsUnique%3B%0D%0A%09%09%09%09outermostContext%20%3D%20contextBackup%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20unmatched%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09return%20bySet%20%3F%0D%0A%09%09markFunction(%20superMatcher%20)%20%3A%0D%0A%09%09superMatcher%3B%0D%0A%7D%0D%0A%0D%0Acompile%20%3D%20Sizzle.compile%20%3D%20function(%20selector%2C%20match%20%2F*%20Internal%20Use%20Only%20*%2F%20)%20%7B%0D%0A%09var%20i%2C%0D%0A%09%09setMatchers%20%3D%20%5B%5D%2C%0D%0A%09%09elementMatchers%20%3D%20%5B%5D%2C%0D%0A%09%09cached%20%3D%20compilerCache%5B%20selector%20%2B%20%22%20%22%20%5D%3B%0D%0A%0D%0A%09if%20(%20!cached%20)%20%7B%0D%0A%09%09%2F%2F%20Generate%20a%20function%20of%20recursive%20functions%20that%20can%20be%20used%20to%20check%20each%20element%0D%0A%09%09if%20(%20!match%20)%20%7B%0D%0A%09%09%09match%20%3D%20tokenize(%20selector%20)%3B%0D%0A%09%09%7D%0D%0A%09%09i%20%3D%20match.length%3B%0D%0A%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09cached%20%3D%20matcherFromTokens(%20match%5Bi%5D%20)%3B%0D%0A%09%09%09if%20(%20cached%5B%20expando%20%5D%20)%20%7B%0D%0A%09%09%09%09setMatchers.push(%20cached%20)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09elementMatchers.push(%20cached%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Cache%20the%20compiled%20function%0D%0A%09%09cached%20%3D%20compilerCache(%20selector%2C%20matcherFromGroupMatchers(%20elementMatchers%2C%20setMatchers%20)%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Save%20selector%20and%20tokenization%0D%0A%09%09cached.selector%20%3D%20selector%3B%0D%0A%09%7D%0D%0A%09return%20cached%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20A%20low-level%20selection%20function%20that%20works%20with%20Sizzle's%20compiled%0D%0A%20*%20%20selector%20functions%0D%0A%20*%20%40param%20%7BString%7CFunction%7D%20selector%20A%20selector%20or%20a%20pre-compiled%0D%0A%20*%20%20selector%20function%20built%20with%20Sizzle.compile%0D%0A%20*%20%40param%20%7BElement%7D%20context%0D%0A%20*%20%40param%20%7BArray%7D%20%5Bresults%5D%0D%0A%20*%20%40param%20%7BArray%7D%20%5Bseed%5D%20A%20set%20of%20elements%20to%20match%20against%0D%0A%20*%2F%0D%0Aselect%20%3D%20Sizzle.select%20%3D%20function(%20selector%2C%20context%2C%20results%2C%20seed%20)%20%7B%0D%0A%09var%20i%2C%20tokens%2C%20token%2C%20type%2C%20find%2C%0D%0A%09%09compiled%20%3D%20typeof%20selector%20%3D%3D%3D%20%22function%22%20%26%26%20selector%2C%0D%0A%09%09match%20%3D%20!seed%20%26%26%20tokenize(%20(selector%20%3D%20compiled.selector%20%7C%7C%20selector)%20)%3B%0D%0A%0D%0A%09results%20%3D%20results%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%09%2F%2F%20Try%20to%20minimize%20operations%20if%20there%20is%20only%20one%20selector%20in%20the%20list%20and%20no%20seed%0D%0A%09%2F%2F%20(the%20latter%20of%20which%20guarantees%20us%20context)%0D%0A%09if%20(%20match.length%20%3D%3D%3D%201%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Reduce%20context%20if%20the%20leading%20compound%20selector%20is%20an%20ID%0D%0A%09%09tokens%20%3D%20match%5B0%5D%20%3D%20match%5B0%5D.slice(%200%20)%3B%0D%0A%09%09if%20(%20tokens.length%20%3E%202%20%26%26%20(token%20%3D%20tokens%5B0%5D).type%20%3D%3D%3D%20%22ID%22%20%26%26%0D%0A%09%09%09%09context.nodeType%20%3D%3D%3D%209%20%26%26%20documentIsHTML%20%26%26%20Expr.relative%5B%20tokens%5B1%5D.type%20%5D%20)%20%7B%0D%0A%0D%0A%09%09%09context%20%3D%20(%20Expr.find%5B%22ID%22%5D(%20token.matches%5B0%5D.replace(runescape%2C%20funescape)%2C%20context%20)%20%7C%7C%20%5B%5D%20)%5B0%5D%3B%0D%0A%09%09%09if%20(%20!context%20)%20%7B%0D%0A%09%09%09%09return%20results%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Precompiled%20matchers%20will%20still%20verify%20ancestry%2C%20so%20step%20up%20a%20level%0D%0A%09%09%09%7D%20else%20if%20(%20compiled%20)%20%7B%0D%0A%09%09%09%09context%20%3D%20context.parentNode%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09selector%20%3D%20selector.slice(%20tokens.shift().value.length%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Fetch%20a%20seed%20set%20for%20right-to-left%20matching%0D%0A%09%09i%20%3D%20matchExpr%5B%22needsContext%22%5D.test(%20selector%20)%20%3F%200%20%3A%20tokens.length%3B%0D%0A%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09token%20%3D%20tokens%5Bi%5D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Abort%20if%20we%20hit%20a%20combinator%0D%0A%09%09%09if%20(%20Expr.relative%5B%20(type%20%3D%20token.type)%20%5D%20)%20%7B%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%20(find%20%3D%20Expr.find%5B%20type%20%5D)%20)%20%7B%0D%0A%09%09%09%09%2F%2F%20Search%2C%20expanding%20context%20for%20leading%20sibling%20combinators%0D%0A%09%09%09%09if%20(%20(seed%20%3D%20find(%0D%0A%09%09%09%09%09token.matches%5B0%5D.replace(%20runescape%2C%20funescape%20)%2C%0D%0A%09%09%09%09%09rsibling.test(%20tokens%5B0%5D.type%20)%20%26%26%20testContext(%20context.parentNode%20)%20%7C%7C%20context%0D%0A%09%09%09%09))%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20If%20seed%20is%20empty%20or%20no%20tokens%20remain%2C%20we%20can%20return%20early%0D%0A%09%09%09%09%09tokens.splice(%20i%2C%201%20)%3B%0D%0A%09%09%09%09%09selector%20%3D%20seed.length%20%26%26%20toSelector(%20tokens%20)%3B%0D%0A%09%09%09%09%09if%20(%20!selector%20)%20%7B%0D%0A%09%09%09%09%09%09push.apply(%20results%2C%20seed%20)%3B%0D%0A%09%09%09%09%09%09return%20results%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Compile%20and%20execute%20a%20filtering%20function%20if%20one%20is%20not%20provided%0D%0A%09%2F%2F%20Provide%20%60match%60%20to%20avoid%20retokenization%20if%20we%20modified%20the%20selector%20above%0D%0A%09(%20compiled%20%7C%7C%20compile(%20selector%2C%20match%20)%20)(%0D%0A%09%09seed%2C%0D%0A%09%09context%2C%0D%0A%09%09!documentIsHTML%2C%0D%0A%09%09results%2C%0D%0A%09%09!context%20%7C%7C%20rsibling.test(%20selector%20)%20%26%26%20testContext(%20context.parentNode%20)%20%7C%7C%20context%0D%0A%09)%3B%0D%0A%09return%20results%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20One-time%20assignments%0D%0A%0D%0A%2F%2F%20Sort%20stability%0D%0Asupport.sortStable%20%3D%20expando.split(%22%22).sort(%20sortOrder%20).join(%22%22)%20%3D%3D%3D%20expando%3B%0D%0A%0D%0A%2F%2F%20Support%3A%20Chrome%2014-35%2B%0D%0A%2F%2F%20Always%20assume%20duplicates%20if%20they%20aren't%20passed%20to%20the%20comparison%20function%0D%0Asupport.detectDuplicates%20%3D%20!!hasDuplicate%3B%0D%0A%0D%0A%2F%2F%20Initialize%20against%20the%20default%20document%0D%0AsetDocument()%3B%0D%0A%0D%0A%2F%2F%20Support%3A%20Webkit%3C537.32%20-%20Safari%206.0.3%2FChrome%2025%20(fixed%20in%20Chrome%2027)%0D%0A%2F%2F%20Detached%20nodes%20confoundingly%20follow%20*each%20other*%0D%0Asupport.sortDetached%20%3D%20assert(function(%20el%20)%20%7B%0D%0A%09%2F%2F%20Should%20return%201%2C%20but%20returns%204%20(following)%0D%0A%09return%20el.compareDocumentPosition(%20document.createElement(%22fieldset%22)%20)%20%26%201%3B%0D%0A%7D)%3B%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%3C8%0D%0A%2F%2F%20Prevent%20attribute%2Fproperty%20%22interpolation%22%0D%0A%2F%2F%20https%3A%2F%2Fmsdn.microsoft.com%2Fen-us%2Flibrary%2Fms536429%2528VS.85%2529.aspx%0D%0Aif%20(%20!assert(function(%20el%20)%20%7B%0D%0A%09el.innerHTML%20%3D%20%22%3Ca%20href%3D'%23'%3E%3C%2Fa%3E%22%3B%0D%0A%09return%20el.firstChild.getAttribute(%22href%22)%20%3D%3D%3D%20%22%23%22%20%3B%0D%0A%7D)%20)%20%7B%0D%0A%09addHandle(%20%22type%7Chref%7Cheight%7Cwidth%22%2C%20function(%20elem%2C%20name%2C%20isXML%20)%20%7B%0D%0A%09%09if%20(%20!isXML%20)%20%7B%0D%0A%09%09%09return%20elem.getAttribute(%20name%2C%20name.toLowerCase()%20%3D%3D%3D%20%22type%22%20%3F%201%20%3A%202%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%3C9%0D%0A%2F%2F%20Use%20defaultValue%20in%20place%20of%20getAttribute(%22value%22)%0D%0Aif%20(%20!support.attributes%20%7C%7C%20!assert(function(%20el%20)%20%7B%0D%0A%09el.innerHTML%20%3D%20%22%3Cinput%2F%3E%22%3B%0D%0A%09el.firstChild.setAttribute(%20%22value%22%2C%20%22%22%20)%3B%0D%0A%09return%20el.firstChild.getAttribute(%20%22value%22%20)%20%3D%3D%3D%20%22%22%3B%0D%0A%7D)%20)%20%7B%0D%0A%09addHandle(%20%22value%22%2C%20function(%20elem%2C%20name%2C%20isXML%20)%20%7B%0D%0A%09%09if%20(%20!isXML%20%26%26%20elem.nodeName.toLowerCase()%20%3D%3D%3D%20%22input%22%20)%20%7B%0D%0A%09%09%09return%20elem.defaultValue%3B%0D%0A%09%09%7D%0D%0A%09%7D)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%3C9%0D%0A%2F%2F%20Use%20getAttributeNode%20to%20fetch%20booleans%20when%20getAttribute%20lies%0D%0Aif%20(%20!assert(function(%20el%20)%20%7B%0D%0A%09return%20el.getAttribute(%22disabled%22)%20%3D%3D%20null%3B%0D%0A%7D)%20)%20%7B%0D%0A%09addHandle(%20booleans%2C%20function(%20elem%2C%20name%2C%20isXML%20)%20%7B%0D%0A%09%09var%20val%3B%0D%0A%09%09if%20(%20!isXML%20)%20%7B%0D%0A%09%09%09return%20elem%5B%20name%20%5D%20%3D%3D%3D%20true%20%3F%20name.toLowerCase()%20%3A%0D%0A%09%09%09%09%09(val%20%3D%20elem.getAttributeNode(%20name%20))%20%26%26%20val.specified%20%3F%0D%0A%09%09%09%09%09val.value%20%3A%0D%0A%09%09%09%09null%3B%0D%0A%09%09%7D%0D%0A%09%7D)%3B%0D%0A%7D%0D%0A%0D%0Areturn%20Sizzle%3B%0D%0A%0D%0A%7D)(%20window%20)%3B%0D%0A%0D%0A%0D%0A%0D%0AjQuery.find%20%3D%20Sizzle%3B%0D%0AjQuery.expr%20%3D%20Sizzle.selectors%3B%0D%0A%0D%0A%2F%2F%20Deprecated%0D%0AjQuery.expr%5B%20%22%3A%22%20%5D%20%3D%20jQuery.expr.pseudos%3B%0D%0AjQuery.uniqueSort%20%3D%20jQuery.unique%20%3D%20Sizzle.uniqueSort%3B%0D%0AjQuery.text%20%3D%20Sizzle.getText%3B%0D%0AjQuery.isXMLDoc%20%3D%20Sizzle.isXML%3B%0D%0AjQuery.contains%20%3D%20Sizzle.contains%3B%0D%0AjQuery.escapeSelector%20%3D%20Sizzle.escape%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Avar%20dir%20%3D%20function(%20elem%2C%20dir%2C%20until%20)%20%7B%0D%0A%09var%20matched%20%3D%20%5B%5D%2C%0D%0A%09%09truncate%20%3D%20until%20!%3D%3D%20undefined%3B%0D%0A%0D%0A%09while%20(%20(%20elem%20%3D%20elem%5B%20dir%20%5D%20)%20%26%26%20elem.nodeType%20!%3D%3D%209%20)%20%7B%0D%0A%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09%09if%20(%20truncate%20%26%26%20jQuery(%20elem%20).is(%20until%20)%20)%20%7B%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09matched.push(%20elem%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%09return%20matched%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Avar%20siblings%20%3D%20function(%20n%2C%20elem%20)%20%7B%0D%0A%09var%20matched%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09for%20(%20%3B%20n%3B%20n%20%3D%20n.nextSibling%20)%20%7B%0D%0A%09%09if%20(%20n.nodeType%20%3D%3D%3D%201%20%26%26%20n%20!%3D%3D%20elem%20)%20%7B%0D%0A%09%09%09matched.push(%20n%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20matched%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Avar%20rneedsContext%20%3D%20jQuery.expr.match.needsContext%3B%0D%0A%0D%0A%0D%0A%0D%0Afunction%20nodeName(%20elem%2C%20name%20)%20%7B%0D%0A%0D%0A%20%20return%20elem.nodeName%20%26%26%20elem.nodeName.toLowerCase()%20%3D%3D%3D%20name.toLowerCase()%3B%0D%0A%0D%0A%7D%3B%0D%0Avar%20rsingleTag%20%3D%20(%20%2F%5E%3C(%5Ba-z%5D%5B%5E%5C%2F%5C0%3E%3A%5Cx20%5Ct%5Cr%5Cn%5Cf%5D*)%5B%5Cx20%5Ct%5Cr%5Cn%5Cf%5D*%5C%2F%3F%3E(%3F%3A%3C%5C%2F%5C1%3E%7C)%24%2Fi%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Implement%20the%20identical%20functionality%20for%20filter%20and%20not%0D%0Afunction%20winnow(%20elements%2C%20qualifier%2C%20not%20)%20%7B%0D%0A%09if%20(%20isFunction(%20qualifier%20)%20)%20%7B%0D%0A%09%09return%20jQuery.grep(%20elements%2C%20function(%20elem%2C%20i%20)%20%7B%0D%0A%09%09%09return%20!!qualifier.call(%20elem%2C%20i%2C%20elem%20)%20!%3D%3D%20not%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Single%20element%0D%0A%09if%20(%20qualifier.nodeType%20)%20%7B%0D%0A%09%09return%20jQuery.grep(%20elements%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20(%20elem%20%3D%3D%3D%20qualifier%20)%20!%3D%3D%20not%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Arraylike%20of%20elements%20(jQuery%2C%20arguments%2C%20Array)%0D%0A%09if%20(%20typeof%20qualifier%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09return%20jQuery.grep(%20elements%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20(%20indexOf.call(%20qualifier%2C%20elem%20)%20%3E%20-1%20)%20!%3D%3D%20not%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Filtered%20directly%20for%20both%20simple%20and%20complex%20selectors%0D%0A%09return%20jQuery.filter(%20qualifier%2C%20elements%2C%20not%20)%3B%0D%0A%7D%0D%0A%0D%0AjQuery.filter%20%3D%20function(%20expr%2C%20elems%2C%20not%20)%20%7B%0D%0A%09var%20elem%20%3D%20elems%5B%200%20%5D%3B%0D%0A%0D%0A%09if%20(%20not%20)%20%7B%0D%0A%09%09expr%20%3D%20%22%3Anot(%22%20%2B%20expr%20%2B%20%22)%22%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20elems.length%20%3D%3D%3D%201%20%26%26%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09return%20jQuery.find.matchesSelector(%20elem%2C%20expr%20)%20%3F%20%5B%20elem%20%5D%20%3A%20%5B%5D%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20jQuery.find.matches(%20expr%2C%20jQuery.grep(%20elems%2C%20function(%20elem%20)%20%7B%0D%0A%09%09return%20elem.nodeType%20%3D%3D%3D%201%3B%0D%0A%09%7D%20)%20)%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09find%3A%20function(%20selector%20)%20%7B%0D%0A%09%09var%20i%2C%20ret%2C%0D%0A%09%09%09len%20%3D%20this.length%2C%0D%0A%09%09%09self%20%3D%20this%3B%0D%0A%0D%0A%09%09if%20(%20typeof%20selector%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09return%20this.pushStack(%20jQuery(%20selector%20).filter(%20function()%20%7B%0D%0A%09%09%09%09for%20(%20i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20jQuery.contains(%20self%5B%20i%20%5D%2C%20this%20)%20)%20%7B%0D%0A%09%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20)%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09ret%20%3D%20this.pushStack(%20%5B%5D%20)%3B%0D%0A%0D%0A%09%09for%20(%20i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09jQuery.find(%20selector%2C%20self%5B%20i%20%5D%2C%20ret%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20len%20%3E%201%20%3F%20jQuery.uniqueSort(%20ret%20)%20%3A%20ret%3B%0D%0A%09%7D%2C%0D%0A%09filter%3A%20function(%20selector%20)%20%7B%0D%0A%09%09return%20this.pushStack(%20winnow(%20this%2C%20selector%20%7C%7C%20%5B%5D%2C%20false%20)%20)%3B%0D%0A%09%7D%2C%0D%0A%09not%3A%20function(%20selector%20)%20%7B%0D%0A%09%09return%20this.pushStack(%20winnow(%20this%2C%20selector%20%7C%7C%20%5B%5D%2C%20true%20)%20)%3B%0D%0A%09%7D%2C%0D%0A%09is%3A%20function(%20selector%20)%20%7B%0D%0A%09%09return%20!!winnow(%0D%0A%09%09%09this%2C%0D%0A%0D%0A%09%09%09%2F%2F%20If%20this%20is%20a%20positional%2Frelative%20selector%2C%20check%20membership%20in%20the%20returned%20set%0D%0A%09%09%09%2F%2F%20so%20%24(%22p%3Afirst%22).is(%22p%3Alast%22)%20won't%20return%20true%20for%20a%20doc%20with%20two%20%22p%22.%0D%0A%09%09%09typeof%20selector%20%3D%3D%3D%20%22string%22%20%26%26%20rneedsContext.test(%20selector%20)%20%3F%0D%0A%09%09%09%09jQuery(%20selector%20)%20%3A%0D%0A%09%09%09%09selector%20%7C%7C%20%5B%5D%2C%0D%0A%09%09%09false%0D%0A%09%09).length%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Initialize%20a%20jQuery%20object%0D%0A%0D%0A%0D%0A%2F%2F%20A%20central%20reference%20to%20the%20root%20jQuery(document)%0D%0Avar%20rootjQuery%2C%0D%0A%0D%0A%09%2F%2F%20A%20simple%20way%20to%20check%20for%20HTML%20strings%0D%0A%09%2F%2F%20Prioritize%20%23id%20over%20%3Ctag%3E%20to%20avoid%20XSS%20via%20location.hash%20(%239521)%0D%0A%09%2F%2F%20Strict%20HTML%20recognition%20(%2311290%3A%20must%20start%20with%20%3C)%0D%0A%09%2F%2F%20Shortcut%20simple%20%23id%20case%20for%20speed%0D%0A%09rquickExpr%20%3D%20%2F%5E(%3F%3A%5Cs*(%3C%5B%5Cw%5CW%5D%2B%3E)%5B%5E%3E%5D*%7C%23(%5B%5Cw-%5D%2B))%24%2F%2C%0D%0A%0D%0A%09init%20%3D%20jQuery.fn.init%20%3D%20function(%20selector%2C%20context%2C%20root%20)%20%7B%0D%0A%09%09var%20match%2C%20elem%3B%0D%0A%0D%0A%09%09%2F%2F%20HANDLE%3A%20%24(%22%22)%2C%20%24(null)%2C%20%24(undefined)%2C%20%24(false)%0D%0A%09%09if%20(%20!selector%20)%20%7B%0D%0A%09%09%09return%20this%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Method%20init()%20accepts%20an%20alternate%20rootjQuery%0D%0A%09%09%2F%2F%20so%20migrate%20can%20support%20jQuery.sub%20(gh-2101)%0D%0A%09%09root%20%3D%20root%20%7C%7C%20rootjQuery%3B%0D%0A%0D%0A%09%09%2F%2F%20Handle%20HTML%20strings%0D%0A%09%09if%20(%20typeof%20selector%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09if%20(%20selector%5B%200%20%5D%20%3D%3D%3D%20%22%3C%22%20%26%26%0D%0A%09%09%09%09selector%5B%20selector.length%20-%201%20%5D%20%3D%3D%3D%20%22%3E%22%20%26%26%0D%0A%09%09%09%09selector.length%20%3E%3D%203%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Assume%20that%20strings%20that%20start%20and%20end%20with%20%3C%3E%20are%20HTML%20and%20skip%20the%20regex%20check%0D%0A%09%09%09%09match%20%3D%20%5B%20null%2C%20selector%2C%20null%20%5D%3B%0D%0A%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09match%20%3D%20rquickExpr.exec(%20selector%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Match%20html%20or%20make%20sure%20no%20context%20is%20specified%20for%20%23id%0D%0A%09%09%09if%20(%20match%20%26%26%20(%20match%5B%201%20%5D%20%7C%7C%20!context%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20HANDLE%3A%20%24(html)%20-%3E%20%24(array)%0D%0A%09%09%09%09if%20(%20match%5B%201%20%5D%20)%20%7B%0D%0A%09%09%09%09%09context%20%3D%20context%20instanceof%20jQuery%20%3F%20context%5B%200%20%5D%20%3A%20context%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Option%20to%20run%20scripts%20is%20true%20for%20back-compat%0D%0A%09%09%09%09%09%2F%2F%20Intentionally%20let%20the%20error%20be%20thrown%20if%20parseHTML%20is%20not%20present%0D%0A%09%09%09%09%09jQuery.merge(%20this%2C%20jQuery.parseHTML(%0D%0A%09%09%09%09%09%09match%5B%201%20%5D%2C%0D%0A%09%09%09%09%09%09context%20%26%26%20context.nodeType%20%3F%20context.ownerDocument%20%7C%7C%20context%20%3A%20document%2C%0D%0A%09%09%09%09%09%09true%0D%0A%09%09%09%09%09)%20)%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20HANDLE%3A%20%24(html%2C%20props)%0D%0A%09%09%09%09%09if%20(%20rsingleTag.test(%20match%5B%201%20%5D%20)%20%26%26%20jQuery.isPlainObject(%20context%20)%20)%20%7B%0D%0A%09%09%09%09%09%09for%20(%20match%20in%20context%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Properties%20of%20context%20are%20called%20as%20methods%20if%20possible%0D%0A%09%09%09%09%09%09%09if%20(%20isFunction(%20this%5B%20match%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09this%5B%20match%20%5D(%20context%5B%20match%20%5D%20)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20...and%20otherwise%20set%20as%20attributes%0D%0A%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%09this.attr(%20match%2C%20context%5B%20match%20%5D%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20HANDLE%3A%20%24(%23id)%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09elem%20%3D%20document.getElementById(%20match%5B%202%20%5D%20)%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Inject%20the%20element%20directly%20into%20the%20jQuery%20object%0D%0A%09%09%09%09%09%09this%5B%200%20%5D%20%3D%20elem%3B%0D%0A%09%09%09%09%09%09this.length%20%3D%201%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20HANDLE%3A%20%24(expr%2C%20%24(...))%0D%0A%09%09%09%7D%20else%20if%20(%20!context%20%7C%7C%20context.jquery%20)%20%7B%0D%0A%09%09%09%09return%20(%20context%20%7C%7C%20root%20).find(%20selector%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20HANDLE%3A%20%24(expr%2C%20context)%0D%0A%09%09%09%2F%2F%20(which%20is%20just%20equivalent%20to%3A%20%24(context).find(expr)%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09return%20this.constructor(%20context%20).find(%20selector%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20HANDLE%3A%20%24(DOMElement)%0D%0A%09%09%7D%20else%20if%20(%20selector.nodeType%20)%20%7B%0D%0A%09%09%09this%5B%200%20%5D%20%3D%20selector%3B%0D%0A%09%09%09this.length%20%3D%201%3B%0D%0A%09%09%09return%20this%3B%0D%0A%0D%0A%09%09%2F%2F%20HANDLE%3A%20%24(function)%0D%0A%09%09%2F%2F%20Shortcut%20for%20document%20ready%0D%0A%09%09%7D%20else%20if%20(%20isFunction(%20selector%20)%20)%20%7B%0D%0A%09%09%09return%20root.ready%20!%3D%3D%20undefined%20%3F%0D%0A%09%09%09%09root.ready(%20selector%20)%20%3A%0D%0A%0D%0A%09%09%09%09%2F%2F%20Execute%20immediately%20if%20ready%20is%20not%20present%0D%0A%09%09%09%09selector(%20jQuery%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20jQuery.makeArray(%20selector%2C%20this%20)%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%2F%2F%20Give%20the%20init%20function%20the%20jQuery%20prototype%20for%20later%20instantiation%0D%0Ainit.prototype%20%3D%20jQuery.fn%3B%0D%0A%0D%0A%2F%2F%20Initialize%20central%20reference%0D%0ArootjQuery%20%3D%20jQuery(%20document%20)%3B%0D%0A%0D%0A%0D%0Avar%20rparentsprev%20%3D%20%2F%5E(%3F%3Aparents%7Cprev(%3F%3AUntil%7CAll))%2F%2C%0D%0A%0D%0A%09%2F%2F%20Methods%20guaranteed%20to%20produce%20a%20unique%20set%20when%20starting%20from%20a%20unique%20set%0D%0A%09guaranteedUnique%20%3D%20%7B%0D%0A%09%09children%3A%20true%2C%0D%0A%09%09contents%3A%20true%2C%0D%0A%09%09next%3A%20true%2C%0D%0A%09%09prev%3A%20true%0D%0A%09%7D%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09has%3A%20function(%20target%20)%20%7B%0D%0A%09%09var%20targets%20%3D%20jQuery(%20target%2C%20this%20)%2C%0D%0A%09%09%09l%20%3D%20targets.length%3B%0D%0A%0D%0A%09%09return%20this.filter(%20function()%20%7B%0D%0A%09%09%09var%20i%20%3D%200%3B%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09if%20(%20jQuery.contains(%20this%2C%20targets%5B%20i%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09closest%3A%20function(%20selectors%2C%20context%20)%20%7B%0D%0A%09%09var%20cur%2C%0D%0A%09%09%09i%20%3D%200%2C%0D%0A%09%09%09l%20%3D%20this.length%2C%0D%0A%09%09%09matched%20%3D%20%5B%5D%2C%0D%0A%09%09%09targets%20%3D%20typeof%20selectors%20!%3D%3D%20%22string%22%20%26%26%20jQuery(%20selectors%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Positional%20selectors%20never%20match%2C%20since%20there's%20no%20_selection_%20context%0D%0A%09%09if%20(%20!rneedsContext.test(%20selectors%20)%20)%20%7B%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09for%20(%20cur%20%3D%20this%5B%20i%20%5D%3B%20cur%20%26%26%20cur%20!%3D%3D%20context%3B%20cur%20%3D%20cur.parentNode%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Always%20skip%20document%20fragments%0D%0A%09%09%09%09%09if%20(%20cur.nodeType%20%3C%2011%20%26%26%20(%20targets%20%3F%0D%0A%09%09%09%09%09%09targets.index(%20cur%20)%20%3E%20-1%20%3A%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Don't%20pass%20non-elements%20to%20Sizzle%0D%0A%09%09%09%09%09%09cur.nodeType%20%3D%3D%3D%201%20%26%26%0D%0A%09%09%09%09%09%09%09jQuery.find.matchesSelector(%20cur%2C%20selectors%20)%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09matched.push(%20cur%20)%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this.pushStack(%20matched.length%20%3E%201%20%3F%20jQuery.uniqueSort(%20matched%20)%20%3A%20matched%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Determine%20the%20position%20of%20an%20element%20within%20the%20set%0D%0A%09index%3A%20function(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20No%20argument%2C%20return%20index%20in%20parent%0D%0A%09%09if%20(%20!elem%20)%20%7B%0D%0A%09%09%09return%20(%20this%5B%200%20%5D%20%26%26%20this%5B%200%20%5D.parentNode%20)%20%3F%20this.first().prevAll().length%20%3A%20-1%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Index%20in%20selector%0D%0A%09%09if%20(%20typeof%20elem%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09return%20indexOf.call(%20jQuery(%20elem%20)%2C%20this%5B%200%20%5D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Locate%20the%20position%20of%20the%20desired%20element%0D%0A%09%09return%20indexOf.call(%20this%2C%0D%0A%0D%0A%09%09%09%2F%2F%20If%20it%20receives%20a%20jQuery%20object%2C%20the%20first%20element%20is%20used%0D%0A%09%09%09elem.jquery%20%3F%20elem%5B%200%20%5D%20%3A%20elem%0D%0A%09%09)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09add%3A%20function(%20selector%2C%20context%20)%20%7B%0D%0A%09%09return%20this.pushStack(%0D%0A%09%09%09jQuery.uniqueSort(%0D%0A%09%09%09%09jQuery.merge(%20this.get()%2C%20jQuery(%20selector%2C%20context%20)%20)%0D%0A%09%09%09)%0D%0A%09%09)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09addBack%3A%20function(%20selector%20)%20%7B%0D%0A%09%09return%20this.add(%20selector%20%3D%3D%20null%20%3F%0D%0A%09%09%09this.prevObject%20%3A%20this.prevObject.filter(%20selector%20)%0D%0A%09%09)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0Afunction%20sibling(%20cur%2C%20dir%20)%20%7B%0D%0A%09while%20(%20(%20cur%20%3D%20cur%5B%20dir%20%5D%20)%20%26%26%20cur.nodeType%20!%3D%3D%201%20)%20%7B%7D%0D%0A%09return%20cur%3B%0D%0A%7D%0D%0A%0D%0AjQuery.each(%20%7B%0D%0A%09parent%3A%20function(%20elem%20)%20%7B%0D%0A%09%09var%20parent%20%3D%20elem.parentNode%3B%0D%0A%09%09return%20parent%20%26%26%20parent.nodeType%20!%3D%3D%2011%20%3F%20parent%20%3A%20null%3B%0D%0A%09%7D%2C%0D%0A%09parents%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20dir(%20elem%2C%20%22parentNode%22%20)%3B%0D%0A%09%7D%2C%0D%0A%09parentsUntil%3A%20function(%20elem%2C%20i%2C%20until%20)%20%7B%0D%0A%09%09return%20dir(%20elem%2C%20%22parentNode%22%2C%20until%20)%3B%0D%0A%09%7D%2C%0D%0A%09next%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20sibling(%20elem%2C%20%22nextSibling%22%20)%3B%0D%0A%09%7D%2C%0D%0A%09prev%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20sibling(%20elem%2C%20%22previousSibling%22%20)%3B%0D%0A%09%7D%2C%0D%0A%09nextAll%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20dir(%20elem%2C%20%22nextSibling%22%20)%3B%0D%0A%09%7D%2C%0D%0A%09prevAll%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20dir(%20elem%2C%20%22previousSibling%22%20)%3B%0D%0A%09%7D%2C%0D%0A%09nextUntil%3A%20function(%20elem%2C%20i%2C%20until%20)%20%7B%0D%0A%09%09return%20dir(%20elem%2C%20%22nextSibling%22%2C%20until%20)%3B%0D%0A%09%7D%2C%0D%0A%09prevUntil%3A%20function(%20elem%2C%20i%2C%20until%20)%20%7B%0D%0A%09%09return%20dir(%20elem%2C%20%22previousSibling%22%2C%20until%20)%3B%0D%0A%09%7D%2C%0D%0A%09siblings%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20siblings(%20(%20elem.parentNode%20%7C%7C%20%7B%7D%20).firstChild%2C%20elem%20)%3B%0D%0A%09%7D%2C%0D%0A%09children%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20siblings(%20elem.firstChild%20)%3B%0D%0A%09%7D%2C%0D%0A%09contents%3A%20function(%20elem%20)%20%7B%0D%0A%09%09if%20(%20typeof%20elem.contentDocument%20!%3D%3D%20%22undefined%22%20)%20%7B%0D%0A%09%09%09return%20elem.contentDocument%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%209%20-%2011%20only%2C%20iOS%207%20only%2C%20Android%20Browser%20%3C%3D4.3%20only%0D%0A%09%09%2F%2F%20Treat%20the%20template%20element%20as%20a%20regular%20one%20in%20browsers%20that%0D%0A%09%09%2F%2F%20don't%20support%20it.%0D%0A%09%09if%20(%20nodeName(%20elem%2C%20%22template%22%20)%20)%20%7B%0D%0A%09%09%09elem%20%3D%20elem.content%20%7C%7C%20elem%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20jQuery.merge(%20%5B%5D%2C%20elem.childNodes%20)%3B%0D%0A%09%7D%0D%0A%7D%2C%20function(%20name%2C%20fn%20)%20%7B%0D%0A%09jQuery.fn%5B%20name%20%5D%20%3D%20function(%20until%2C%20selector%20)%20%7B%0D%0A%09%09var%20matched%20%3D%20jQuery.map(%20this%2C%20fn%2C%20until%20)%3B%0D%0A%0D%0A%09%09if%20(%20name.slice(%20-5%20)%20!%3D%3D%20%22Until%22%20)%20%7B%0D%0A%09%09%09selector%20%3D%20until%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20selector%20%26%26%20typeof%20selector%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09matched%20%3D%20jQuery.filter(%20selector%2C%20matched%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20this.length%20%3E%201%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Remove%20duplicates%0D%0A%09%09%09if%20(%20!guaranteedUnique%5B%20name%20%5D%20)%20%7B%0D%0A%09%09%09%09jQuery.uniqueSort(%20matched%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Reverse%20order%20for%20parents*%20and%20prev-derivatives%0D%0A%09%09%09if%20(%20rparentsprev.test(%20name%20)%20)%20%7B%0D%0A%09%09%09%09matched.reverse()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this.pushStack(%20matched%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0Avar%20rnothtmlwhite%20%3D%20(%20%2F%5B%5E%5Cx20%5Ct%5Cr%5Cn%5Cf%5D%2B%2Fg%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Convert%20String-formatted%20options%20into%20Object-formatted%20ones%0D%0Afunction%20createOptions(%20options%20)%20%7B%0D%0A%09var%20object%20%3D%20%7B%7D%3B%0D%0A%09jQuery.each(%20options.match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%5D%2C%20function(%20_%2C%20flag%20)%20%7B%0D%0A%09%09object%5B%20flag%20%5D%20%3D%20true%3B%0D%0A%09%7D%20)%3B%0D%0A%09return%20object%3B%0D%0A%7D%0D%0A%0D%0A%2F*%0D%0A%20*%20Create%20a%20callback%20list%20using%20the%20following%20parameters%3A%0D%0A%20*%0D%0A%20*%09options%3A%20an%20optional%20list%20of%20space-separated%20options%20that%20will%20change%20how%0D%0A%20*%09%09%09the%20callback%20list%20behaves%20or%20a%20more%20traditional%20option%20object%0D%0A%20*%0D%0A%20*%20By%20default%20a%20callback%20list%20will%20act%20like%20an%20event%20callback%20list%20and%20can%20be%0D%0A%20*%20%22fired%22%20multiple%20times.%0D%0A%20*%0D%0A%20*%20Possible%20options%3A%0D%0A%20*%0D%0A%20*%09once%3A%09%09%09will%20ensure%20the%20callback%20list%20can%20only%20be%20fired%20once%20(like%20a%20Deferred)%0D%0A%20*%0D%0A%20*%09memory%3A%09%09%09will%20keep%20track%20of%20previous%20values%20and%20will%20call%20any%20callback%20added%0D%0A%20*%09%09%09%09%09after%20the%20list%20has%20been%20fired%20right%20away%20with%20the%20latest%20%22memorized%22%0D%0A%20*%09%09%09%09%09values%20(like%20a%20Deferred)%0D%0A%20*%0D%0A%20*%09unique%3A%09%09%09will%20ensure%20a%20callback%20can%20only%20be%20added%20once%20(no%20duplicate%20in%20the%20list)%0D%0A%20*%0D%0A%20*%09stopOnFalse%3A%09interrupt%20callings%20when%20a%20callback%20returns%20false%0D%0A%20*%0D%0A%20*%2F%0D%0AjQuery.Callbacks%20%3D%20function(%20options%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Convert%20options%20from%20String-formatted%20to%20Object-formatted%20if%20needed%0D%0A%09%2F%2F%20(we%20check%20in%20cache%20first)%0D%0A%09options%20%3D%20typeof%20options%20%3D%3D%3D%20%22string%22%20%3F%0D%0A%09%09createOptions(%20options%20)%20%3A%0D%0A%09%09jQuery.extend(%20%7B%7D%2C%20options%20)%3B%0D%0A%0D%0A%09var%20%2F%2F%20Flag%20to%20know%20if%20list%20is%20currently%20firing%0D%0A%09%09firing%2C%0D%0A%0D%0A%09%09%2F%2F%20Last%20fire%20value%20for%20non-forgettable%20lists%0D%0A%09%09memory%2C%0D%0A%0D%0A%09%09%2F%2F%20Flag%20to%20know%20if%20list%20was%20already%20fired%0D%0A%09%09fired%2C%0D%0A%0D%0A%09%09%2F%2F%20Flag%20to%20prevent%20firing%0D%0A%09%09locked%2C%0D%0A%0D%0A%09%09%2F%2F%20Actual%20callback%20list%0D%0A%09%09list%20%3D%20%5B%5D%2C%0D%0A%0D%0A%09%09%2F%2F%20Queue%20of%20execution%20data%20for%20repeatable%20lists%0D%0A%09%09queue%20%3D%20%5B%5D%2C%0D%0A%0D%0A%09%09%2F%2F%20Index%20of%20currently%20firing%20callback%20(modified%20by%20add%2Fremove%20as%20needed)%0D%0A%09%09firingIndex%20%3D%20-1%2C%0D%0A%0D%0A%09%09%2F%2F%20Fire%20callbacks%0D%0A%09%09fire%20%3D%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Enforce%20single-firing%0D%0A%09%09%09locked%20%3D%20locked%20%7C%7C%20options.once%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Execute%20callbacks%20for%20all%20pending%20executions%2C%0D%0A%09%09%09%2F%2F%20respecting%20firingIndex%20overrides%20and%20runtime%20changes%0D%0A%09%09%09fired%20%3D%20firing%20%3D%20true%3B%0D%0A%09%09%09for%20(%20%3B%20queue.length%3B%20firingIndex%20%3D%20-1%20)%20%7B%0D%0A%09%09%09%09memory%20%3D%20queue.shift()%3B%0D%0A%09%09%09%09while%20(%20%2B%2BfiringIndex%20%3C%20list.length%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Run%20callback%20and%20check%20for%20early%20termination%0D%0A%09%09%09%09%09if%20(%20list%5B%20firingIndex%20%5D.apply(%20memory%5B%200%20%5D%2C%20memory%5B%201%20%5D%20)%20%3D%3D%3D%20false%20%26%26%0D%0A%09%09%09%09%09%09options.stopOnFalse%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Jump%20to%20end%20and%20forget%20the%20data%20so%20.add%20doesn't%20re-fire%0D%0A%09%09%09%09%09%09firingIndex%20%3D%20list.length%3B%0D%0A%09%09%09%09%09%09memory%20%3D%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Forget%20the%20data%20if%20we're%20done%20with%20it%0D%0A%09%09%09if%20(%20!options.memory%20)%20%7B%0D%0A%09%09%09%09memory%20%3D%20false%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09firing%20%3D%20false%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Clean%20up%20if%20we're%20done%20firing%20for%20good%0D%0A%09%09%09if%20(%20locked%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Keep%20an%20empty%20list%20if%20we%20have%20data%20for%20future%20add%20calls%0D%0A%09%09%09%09if%20(%20memory%20)%20%7B%0D%0A%09%09%09%09%09list%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Otherwise%2C%20this%20object%20is%20spent%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09list%20%3D%20%22%22%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20Actual%20Callbacks%20object%0D%0A%09%09self%20%3D%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Add%20a%20callback%20or%20a%20collection%20of%20callbacks%20to%20the%20list%0D%0A%09%09%09add%3A%20function()%20%7B%0D%0A%09%09%09%09if%20(%20list%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20If%20we%20have%20memory%20from%20a%20past%20run%2C%20we%20should%20fire%20after%20adding%0D%0A%09%09%09%09%09if%20(%20memory%20%26%26%20!firing%20)%20%7B%0D%0A%09%09%09%09%09%09firingIndex%20%3D%20list.length%20-%201%3B%0D%0A%09%09%09%09%09%09queue.push(%20memory%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09(%20function%20add(%20args%20)%20%7B%0D%0A%09%09%09%09%09%09jQuery.each(%20args%2C%20function(%20_%2C%20arg%20)%20%7B%0D%0A%09%09%09%09%09%09%09if%20(%20isFunction(%20arg%20)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09if%20(%20!options.unique%20%7C%7C%20!self.has(%20arg%20)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09list.push(%20arg%20)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%20else%20if%20(%20arg%20%26%26%20arg.length%20%26%26%20toType(%20arg%20)%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Inspect%20recursively%0D%0A%09%09%09%09%09%09%09%09add(%20arg%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09%09%7D%20)(%20arguments%20)%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20memory%20%26%26%20!firing%20)%20%7B%0D%0A%09%09%09%09%09%09fire()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Remove%20a%20callback%20from%20the%20list%0D%0A%09%09%09remove%3A%20function()%20%7B%0D%0A%09%09%09%09jQuery.each(%20arguments%2C%20function(%20_%2C%20arg%20)%20%7B%0D%0A%09%09%09%09%09var%20index%3B%0D%0A%09%09%09%09%09while%20(%20(%20index%20%3D%20jQuery.inArray(%20arg%2C%20list%2C%20index%20)%20)%20%3E%20-1%20)%20%7B%0D%0A%09%09%09%09%09%09list.splice(%20index%2C%201%20)%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Handle%20firing%20indexes%0D%0A%09%09%09%09%09%09if%20(%20index%20%3C%3D%20firingIndex%20)%20%7B%0D%0A%09%09%09%09%09%09%09firingIndex--%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Check%20if%20a%20given%20callback%20is%20in%20the%20list.%0D%0A%09%09%09%2F%2F%20If%20no%20argument%20is%20given%2C%20return%20whether%20or%20not%20list%20has%20callbacks%20attached.%0D%0A%09%09%09has%3A%20function(%20fn%20)%20%7B%0D%0A%09%09%09%09return%20fn%20%3F%0D%0A%09%09%09%09%09jQuery.inArray(%20fn%2C%20list%20)%20%3E%20-1%20%3A%0D%0A%09%09%09%09%09list.length%20%3E%200%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Remove%20all%20callbacks%20from%20the%20list%0D%0A%09%09%09empty%3A%20function()%20%7B%0D%0A%09%09%09%09if%20(%20list%20)%20%7B%0D%0A%09%09%09%09%09list%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Disable%20.fire%20and%20.add%0D%0A%09%09%09%2F%2F%20Abort%20any%20current%2Fpending%20executions%0D%0A%09%09%09%2F%2F%20Clear%20all%20callbacks%20and%20values%0D%0A%09%09%09disable%3A%20function()%20%7B%0D%0A%09%09%09%09locked%20%3D%20queue%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09list%20%3D%20memory%20%3D%20%22%22%3B%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09disabled%3A%20function()%20%7B%0D%0A%09%09%09%09return%20!list%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Disable%20.fire%0D%0A%09%09%09%2F%2F%20Also%20disable%20.add%20unless%20we%20have%20memory%20(since%20it%20would%20have%20no%20effect)%0D%0A%09%09%09%2F%2F%20Abort%20any%20pending%20executions%0D%0A%09%09%09lock%3A%20function()%20%7B%0D%0A%09%09%09%09locked%20%3D%20queue%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09if%20(%20!memory%20%26%26%20!firing%20)%20%7B%0D%0A%09%09%09%09%09list%20%3D%20memory%20%3D%20%22%22%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09locked%3A%20function()%20%7B%0D%0A%09%09%09%09return%20!!locked%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Call%20all%20callbacks%20with%20the%20given%20context%20and%20arguments%0D%0A%09%09%09fireWith%3A%20function(%20context%2C%20args%20)%20%7B%0D%0A%09%09%09%09if%20(%20!locked%20)%20%7B%0D%0A%09%09%09%09%09args%20%3D%20args%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%09%09%09args%20%3D%20%5B%20context%2C%20args.slice%20%3F%20args.slice()%20%3A%20args%20%5D%3B%0D%0A%09%09%09%09%09queue.push(%20args%20)%3B%0D%0A%09%09%09%09%09if%20(%20!firing%20)%20%7B%0D%0A%09%09%09%09%09%09fire()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Call%20all%20the%20callbacks%20with%20the%20given%20arguments%0D%0A%09%09%09fire%3A%20function()%20%7B%0D%0A%09%09%09%09self.fireWith(%20this%2C%20arguments%20)%3B%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20To%20know%20if%20the%20callbacks%20have%20already%20been%20called%20at%20least%20once%0D%0A%09%09%09fired%3A%20function()%20%7B%0D%0A%09%09%09%09return%20!!fired%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09return%20self%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Afunction%20Identity(%20v%20)%20%7B%0D%0A%09return%20v%3B%0D%0A%7D%0D%0Afunction%20Thrower(%20ex%20)%20%7B%0D%0A%09throw%20ex%3B%0D%0A%7D%0D%0A%0D%0Afunction%20adoptValue(%20value%2C%20resolve%2C%20reject%2C%20noValue%20)%20%7B%0D%0A%09var%20method%3B%0D%0A%0D%0A%09try%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Check%20for%20promise%20aspect%20first%20to%20privilege%20synchronous%20behavior%0D%0A%09%09if%20(%20value%20%26%26%20isFunction(%20(%20method%20%3D%20value.promise%20)%20)%20)%20%7B%0D%0A%09%09%09method.call(%20value%20).done(%20resolve%20).fail(%20reject%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Other%20thenables%0D%0A%09%09%7D%20else%20if%20(%20value%20%26%26%20isFunction(%20(%20method%20%3D%20value.then%20)%20)%20)%20%7B%0D%0A%09%09%09method.call(%20value%2C%20resolve%2C%20reject%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Other%20non-thenables%0D%0A%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Control%20%60resolve%60%20arguments%20by%20letting%20Array%23slice%20cast%20boolean%20%60noValue%60%20to%20integer%3A%0D%0A%09%09%09%2F%2F%20*%20false%3A%20%5B%20value%20%5D.slice(%200%20)%20%3D%3E%20resolve(%20value%20)%0D%0A%09%09%09%2F%2F%20*%20true%3A%20%5B%20value%20%5D.slice(%201%20)%20%3D%3E%20resolve()%0D%0A%09%09%09resolve.apply(%20undefined%2C%20%5B%20value%20%5D.slice(%20noValue%20)%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%2F%2F%20For%20Promises%2FA%2B%2C%20convert%20exceptions%20into%20rejections%0D%0A%09%2F%2F%20Since%20jQuery.when%20doesn't%20unwrap%20thenables%2C%20we%20can%20skip%20the%20extra%20checks%20appearing%20in%0D%0A%09%2F%2F%20Deferred%23then%20to%20conditionally%20suppress%20rejection.%0D%0A%09%7D%20catch%20(%20value%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20Android%204.0%20only%0D%0A%09%09%2F%2F%20Strict%20mode%20functions%20invoked%20without%20.call%2F.apply%20get%20global-object%20context%0D%0A%09%09reject.apply(%20undefined%2C%20%5B%20value%20%5D%20)%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%0D%0A%09Deferred%3A%20function(%20func%20)%20%7B%0D%0A%09%09var%20tuples%20%3D%20%5B%0D%0A%0D%0A%09%09%09%09%2F%2F%20action%2C%20add%20listener%2C%20callbacks%2C%0D%0A%09%09%09%09%2F%2F%20...%20.then%20handlers%2C%20argument%20index%2C%20%5Bfinal%20state%5D%0D%0A%09%09%09%09%5B%20%22notify%22%2C%20%22progress%22%2C%20jQuery.Callbacks(%20%22memory%22%20)%2C%0D%0A%09%09%09%09%09jQuery.Callbacks(%20%22memory%22%20)%2C%202%20%5D%2C%0D%0A%09%09%09%09%5B%20%22resolve%22%2C%20%22done%22%2C%20jQuery.Callbacks(%20%22once%20memory%22%20)%2C%0D%0A%09%09%09%09%09jQuery.Callbacks(%20%22once%20memory%22%20)%2C%200%2C%20%22resolved%22%20%5D%2C%0D%0A%09%09%09%09%5B%20%22reject%22%2C%20%22fail%22%2C%20jQuery.Callbacks(%20%22once%20memory%22%20)%2C%0D%0A%09%09%09%09%09jQuery.Callbacks(%20%22once%20memory%22%20)%2C%201%2C%20%22rejected%22%20%5D%0D%0A%09%09%09%5D%2C%0D%0A%09%09%09state%20%3D%20%22pending%22%2C%0D%0A%09%09%09promise%20%3D%20%7B%0D%0A%09%09%09%09state%3A%20function()%20%7B%0D%0A%09%09%09%09%09return%20state%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09always%3A%20function()%20%7B%0D%0A%09%09%09%09%09deferred.done(%20arguments%20).fail(%20arguments%20)%3B%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09%22catch%22%3A%20function(%20fn%20)%20%7B%0D%0A%09%09%09%09%09return%20promise.then(%20null%2C%20fn%20)%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Keep%20pipe%20for%20back-compat%0D%0A%09%09%09%09pipe%3A%20function(%20%2F*%20fnDone%2C%20fnFail%2C%20fnProgress%20*%2F%20)%20%7B%0D%0A%09%09%09%09%09var%20fns%20%3D%20arguments%3B%0D%0A%0D%0A%09%09%09%09%09return%20jQuery.Deferred(%20function(%20newDefer%20)%20%7B%0D%0A%09%09%09%09%09%09jQuery.each(%20tuples%2C%20function(%20i%2C%20tuple%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Map%20tuples%20(progress%2C%20done%2C%20fail)%20to%20arguments%20(done%2C%20fail%2C%20progress)%0D%0A%09%09%09%09%09%09%09var%20fn%20%3D%20isFunction(%20fns%5B%20tuple%5B%204%20%5D%20%5D%20)%20%26%26%20fns%5B%20tuple%5B%204%20%5D%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20deferred.progress(function()%20%7B%20bind%20to%20newDefer%20or%20newDefer.notify%20%7D)%0D%0A%09%09%09%09%09%09%09%2F%2F%20deferred.done(function()%20%7B%20bind%20to%20newDefer%20or%20newDefer.resolve%20%7D)%0D%0A%09%09%09%09%09%09%09%2F%2F%20deferred.fail(function()%20%7B%20bind%20to%20newDefer%20or%20newDefer.reject%20%7D)%0D%0A%09%09%09%09%09%09%09deferred%5B%20tuple%5B%201%20%5D%20%5D(%20function()%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20returned%20%3D%20fn%20%26%26%20fn.apply(%20this%2C%20arguments%20)%3B%0D%0A%09%09%09%09%09%09%09%09if%20(%20returned%20%26%26%20isFunction(%20returned.promise%20)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09returned.promise()%0D%0A%09%09%09%09%09%09%09%09%09%09.progress(%20newDefer.notify%20)%0D%0A%09%09%09%09%09%09%09%09%09%09.done(%20newDefer.resolve%20)%0D%0A%09%09%09%09%09%09%09%09%09%09.fail(%20newDefer.reject%20)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09newDefer%5B%20tuple%5B%200%20%5D%20%2B%20%22With%22%20%5D(%0D%0A%09%09%09%09%09%09%09%09%09%09this%2C%0D%0A%09%09%09%09%09%09%09%09%09%09fn%20%3F%20%5B%20returned%20%5D%20%3A%20arguments%0D%0A%09%09%09%09%09%09%09%09%09)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09%09%09fns%20%3D%20null%3B%0D%0A%09%09%09%09%09%7D%20).promise()%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09then%3A%20function(%20onFulfilled%2C%20onRejected%2C%20onProgress%20)%20%7B%0D%0A%09%09%09%09%09var%20maxDepth%20%3D%200%3B%0D%0A%09%09%09%09%09function%20resolve(%20depth%2C%20deferred%2C%20handler%2C%20special%20)%20%7B%0D%0A%09%09%09%09%09%09return%20function()%20%7B%0D%0A%09%09%09%09%09%09%09var%20that%20%3D%20this%2C%0D%0A%09%09%09%09%09%09%09%09args%20%3D%20arguments%2C%0D%0A%09%09%09%09%09%09%09%09mightThrow%20%3D%20function()%20%7B%0D%0A%09%09%09%09%09%09%09%09%09var%20returned%2C%20then%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20Promises%2FA%2B%20section%202.3.3.3.3%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20https%3A%2F%2Fpromisesaplus.com%2F%23point-59%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Ignore%20double-resolution%20attempts%0D%0A%09%09%09%09%09%09%09%09%09if%20(%20depth%20%3C%20maxDepth%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09return%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09returned%20%3D%20handler.apply(%20that%2C%20args%20)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20Promises%2FA%2B%20section%202.3.1%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20https%3A%2F%2Fpromisesaplus.com%2F%23point-48%0D%0A%09%09%09%09%09%09%09%09%09if%20(%20returned%20%3D%3D%3D%20deferred.promise()%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09throw%20new%20TypeError(%20%22Thenable%20self-resolution%22%20)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20Promises%2FA%2B%20sections%202.3.3.1%2C%203.5%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20https%3A%2F%2Fpromisesaplus.com%2F%23point-54%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20https%3A%2F%2Fpromisesaplus.com%2F%23point-75%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Retrieve%20%60then%60%20only%20once%0D%0A%09%09%09%09%09%09%09%09%09then%20%3D%20returned%20%26%26%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20Promises%2FA%2B%20section%202.3.4%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20https%3A%2F%2Fpromisesaplus.com%2F%23point-64%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Only%20check%20objects%20and%20functions%20for%20thenability%0D%0A%09%09%09%09%09%09%09%09%09%09(%20typeof%20returned%20%3D%3D%3D%20%22object%22%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09%09%09%09typeof%20returned%20%3D%3D%3D%20%22function%22%20)%20%26%26%0D%0A%09%09%09%09%09%09%09%09%09%09returned.then%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Handle%20a%20returned%20thenable%0D%0A%09%09%09%09%09%09%09%09%09if%20(%20isFunction(%20then%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Special%20processors%20(notify)%20just%20wait%20for%20resolution%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(%20special%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09then.call(%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09returned%2C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09resolve(%20maxDepth%2C%20deferred%2C%20Identity%2C%20special%20)%2C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09resolve(%20maxDepth%2C%20deferred%2C%20Thrower%2C%20special%20)%0D%0A%09%09%09%09%09%09%09%09%09%09%09)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Normal%20processors%20(resolve)%20also%20hook%20into%20progress%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20...and%20disregard%20older%20resolution%20values%0D%0A%09%09%09%09%09%09%09%09%09%09%09maxDepth%2B%2B%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09then.call(%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09returned%2C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09resolve(%20maxDepth%2C%20deferred%2C%20Identity%2C%20special%20)%2C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09resolve(%20maxDepth%2C%20deferred%2C%20Thrower%2C%20special%20)%2C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09resolve(%20maxDepth%2C%20deferred%2C%20Identity%2C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09deferred.notifyWith%20)%0D%0A%09%09%09%09%09%09%09%09%09%09%09)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Handle%20all%20other%20returned%20values%0D%0A%09%09%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Only%20substitute%20handlers%20pass%20on%20context%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20and%20multiple%20values%20(non-spec%20behavior)%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(%20handler%20!%3D%3D%20Identity%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09that%20%3D%20undefined%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09args%20%3D%20%5B%20returned%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Process%20the%20value(s)%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20Default%20process%20is%20resolve%0D%0A%09%09%09%09%09%09%09%09%09%09(%20special%20%7C%7C%20deferred.resolveWith%20)(%20that%2C%20args%20)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Only%20normal%20processors%20(resolve)%20catch%20and%20reject%20exceptions%0D%0A%09%09%09%09%09%09%09%09process%20%3D%20special%20%3F%0D%0A%09%09%09%09%09%09%09%09%09mightThrow%20%3A%0D%0A%09%09%09%09%09%09%09%09%09function()%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09mightThrow()%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%20catch%20(%20e%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09if%20(%20jQuery.Deferred.exceptionHook%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09jQuery.Deferred.exceptionHook(%20e%2C%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09process.stackTrace%20)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20Promises%2FA%2B%20section%202.3.3.3.4.1%0D%0A%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20https%3A%2F%2Fpromisesaplus.com%2F%23point-61%0D%0A%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20Ignore%20post-resolution%20exceptions%0D%0A%09%09%09%09%09%09%09%09%09%09%09if%20(%20depth%20%2B%201%20%3E%3D%20maxDepth%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20Only%20substitute%20handlers%20pass%20on%20context%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%2F%2F%20and%20multiple%20values%20(non-spec%20behavior)%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09if%20(%20handler%20!%3D%3D%20Thrower%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09that%20%3D%20undefined%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09args%20%3D%20%5B%20e%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09deferred.rejectWith(%20that%2C%20args%20)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Support%3A%20Promises%2FA%2B%20section%202.3.3.3.1%0D%0A%09%09%09%09%09%09%09%2F%2F%20https%3A%2F%2Fpromisesaplus.com%2F%23point-57%0D%0A%09%09%09%09%09%09%09%2F%2F%20Re-resolve%20promises%20immediately%20to%20dodge%20false%20rejection%20from%0D%0A%09%09%09%09%09%09%09%2F%2F%20subsequent%20errors%0D%0A%09%09%09%09%09%09%09if%20(%20depth%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09process()%3B%0D%0A%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Call%20an%20optional%20hook%20to%20record%20the%20stack%2C%20in%20case%20of%20exception%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20since%20it's%20otherwise%20lost%20when%20execution%20goes%20async%0D%0A%09%09%09%09%09%09%09%09if%20(%20jQuery.Deferred.getStackHook%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09process.stackTrace%20%3D%20jQuery.Deferred.getStackHook()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09window.setTimeout(%20process%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09return%20jQuery.Deferred(%20function(%20newDefer%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20progress_handlers.add(%20...%20)%0D%0A%09%09%09%09%09%09tuples%5B%200%20%5D%5B%203%20%5D.add(%0D%0A%09%09%09%09%09%09%09resolve(%0D%0A%09%09%09%09%09%09%09%090%2C%0D%0A%09%09%09%09%09%09%09%09newDefer%2C%0D%0A%09%09%09%09%09%09%09%09isFunction(%20onProgress%20)%20%3F%0D%0A%09%09%09%09%09%09%09%09%09onProgress%20%3A%0D%0A%09%09%09%09%09%09%09%09%09Identity%2C%0D%0A%09%09%09%09%09%09%09%09newDefer.notifyWith%0D%0A%09%09%09%09%09%09%09)%0D%0A%09%09%09%09%09%09)%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20fulfilled_handlers.add(%20...%20)%0D%0A%09%09%09%09%09%09tuples%5B%201%20%5D%5B%203%20%5D.add(%0D%0A%09%09%09%09%09%09%09resolve(%0D%0A%09%09%09%09%09%09%09%090%2C%0D%0A%09%09%09%09%09%09%09%09newDefer%2C%0D%0A%09%09%09%09%09%09%09%09isFunction(%20onFulfilled%20)%20%3F%0D%0A%09%09%09%09%09%09%09%09%09onFulfilled%20%3A%0D%0A%09%09%09%09%09%09%09%09%09Identity%0D%0A%09%09%09%09%09%09%09)%0D%0A%09%09%09%09%09%09)%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20rejected_handlers.add(%20...%20)%0D%0A%09%09%09%09%09%09tuples%5B%202%20%5D%5B%203%20%5D.add(%0D%0A%09%09%09%09%09%09%09resolve(%0D%0A%09%09%09%09%09%09%09%090%2C%0D%0A%09%09%09%09%09%09%09%09newDefer%2C%0D%0A%09%09%09%09%09%09%09%09isFunction(%20onRejected%20)%20%3F%0D%0A%09%09%09%09%09%09%09%09%09onRejected%20%3A%0D%0A%09%09%09%09%09%09%09%09%09Thrower%0D%0A%09%09%09%09%09%09%09)%0D%0A%09%09%09%09%09%09)%3B%0D%0A%09%09%09%09%09%7D%20).promise()%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Get%20a%20promise%20for%20this%20deferred%0D%0A%09%09%09%09%2F%2F%20If%20obj%20is%20provided%2C%20the%20promise%20aspect%20is%20added%20to%20the%20object%0D%0A%09%09%09%09promise%3A%20function(%20obj%20)%20%7B%0D%0A%09%09%09%09%09return%20obj%20!%3D%20null%20%3F%20jQuery.extend(%20obj%2C%20promise%20)%20%3A%20promise%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09deferred%20%3D%20%7B%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Add%20list-specific%20methods%0D%0A%09%09jQuery.each(%20tuples%2C%20function(%20i%2C%20tuple%20)%20%7B%0D%0A%09%09%09var%20list%20%3D%20tuple%5B%202%20%5D%2C%0D%0A%09%09%09%09stateString%20%3D%20tuple%5B%205%20%5D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20promise.progress%20%3D%20list.add%0D%0A%09%09%09%2F%2F%20promise.done%20%3D%20list.add%0D%0A%09%09%09%2F%2F%20promise.fail%20%3D%20list.add%0D%0A%09%09%09promise%5B%20tuple%5B%201%20%5D%20%5D%20%3D%20list.add%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Handle%20state%0D%0A%09%09%09if%20(%20stateString%20)%20%7B%0D%0A%09%09%09%09list.add(%0D%0A%09%09%09%09%09function()%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20state%20%3D%20%22resolved%22%20(i.e.%2C%20fulfilled)%0D%0A%09%09%09%09%09%09%2F%2F%20state%20%3D%20%22rejected%22%0D%0A%09%09%09%09%09%09state%20%3D%20stateString%3B%0D%0A%09%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20rejected_callbacks.disable%0D%0A%09%09%09%09%09%2F%2F%20fulfilled_callbacks.disable%0D%0A%09%09%09%09%09tuples%5B%203%20-%20i%20%5D%5B%202%20%5D.disable%2C%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20rejected_handlers.disable%0D%0A%09%09%09%09%09%2F%2F%20fulfilled_handlers.disable%0D%0A%09%09%09%09%09tuples%5B%203%20-%20i%20%5D%5B%203%20%5D.disable%2C%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20progress_callbacks.lock%0D%0A%09%09%09%09%09tuples%5B%200%20%5D%5B%202%20%5D.lock%2C%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20progress_handlers.lock%0D%0A%09%09%09%09%09tuples%5B%200%20%5D%5B%203%20%5D.lock%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20progress_handlers.fire%0D%0A%09%09%09%2F%2F%20fulfilled_handlers.fire%0D%0A%09%09%09%2F%2F%20rejected_handlers.fire%0D%0A%09%09%09list.add(%20tuple%5B%203%20%5D.fire%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20deferred.notify%20%3D%20function()%20%7B%20deferred.notifyWith(...)%20%7D%0D%0A%09%09%09%2F%2F%20deferred.resolve%20%3D%20function()%20%7B%20deferred.resolveWith(...)%20%7D%0D%0A%09%09%09%2F%2F%20deferred.reject%20%3D%20function()%20%7B%20deferred.rejectWith(...)%20%7D%0D%0A%09%09%09deferred%5B%20tuple%5B%200%20%5D%20%5D%20%3D%20function()%20%7B%0D%0A%09%09%09%09deferred%5B%20tuple%5B%200%20%5D%20%2B%20%22With%22%20%5D(%20this%20%3D%3D%3D%20deferred%20%3F%20undefined%20%3A%20this%2C%20arguments%20)%3B%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20deferred.notifyWith%20%3D%20list.fireWith%0D%0A%09%09%09%2F%2F%20deferred.resolveWith%20%3D%20list.fireWith%0D%0A%09%09%09%2F%2F%20deferred.rejectWith%20%3D%20list.fireWith%0D%0A%09%09%09deferred%5B%20tuple%5B%200%20%5D%20%2B%20%22With%22%20%5D%20%3D%20list.fireWith%3B%0D%0A%09%09%7D%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Make%20the%20deferred%20a%20promise%0D%0A%09%09promise.promise(%20deferred%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Call%20given%20func%20if%20any%0D%0A%09%09if%20(%20func%20)%20%7B%0D%0A%09%09%09func.call(%20deferred%2C%20deferred%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20All%20done!%0D%0A%09%09return%20deferred%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Deferred%20helper%0D%0A%09when%3A%20function(%20singleValue%20)%20%7B%0D%0A%09%09var%0D%0A%0D%0A%09%09%09%2F%2F%20count%20of%20uncompleted%20subordinates%0D%0A%09%09%09remaining%20%3D%20arguments.length%2C%0D%0A%0D%0A%09%09%09%2F%2F%20count%20of%20unprocessed%20arguments%0D%0A%09%09%09i%20%3D%20remaining%2C%0D%0A%0D%0A%09%09%09%2F%2F%20subordinate%20fulfillment%20data%0D%0A%09%09%09resolveContexts%20%3D%20Array(%20i%20)%2C%0D%0A%09%09%09resolveValues%20%3D%20slice.call(%20arguments%20)%2C%0D%0A%0D%0A%09%09%09%2F%2F%20the%20master%20Deferred%0D%0A%09%09%09master%20%3D%20jQuery.Deferred()%2C%0D%0A%0D%0A%09%09%09%2F%2F%20subordinate%20callback%20factory%0D%0A%09%09%09updateFunc%20%3D%20function(%20i%20)%20%7B%0D%0A%09%09%09%09return%20function(%20value%20)%20%7B%0D%0A%09%09%09%09%09resolveContexts%5B%20i%20%5D%20%3D%20this%3B%0D%0A%09%09%09%09%09resolveValues%5B%20i%20%5D%20%3D%20arguments.length%20%3E%201%20%3F%20slice.call(%20arguments%20)%20%3A%20value%3B%0D%0A%09%09%09%09%09if%20(%20!(%20--remaining%20)%20)%20%7B%0D%0A%09%09%09%09%09%09master.resolveWith(%20resolveContexts%2C%20resolveValues%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Single-%20and%20empty%20arguments%20are%20adopted%20like%20Promise.resolve%0D%0A%09%09if%20(%20remaining%20%3C%3D%201%20)%20%7B%0D%0A%09%09%09adoptValue(%20singleValue%2C%20master.done(%20updateFunc(%20i%20)%20).resolve%2C%20master.reject%2C%0D%0A%09%09%09%09!remaining%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Use%20.then()%20to%20unwrap%20secondary%20thenables%20(cf.%20gh-3000)%0D%0A%09%09%09if%20(%20master.state()%20%3D%3D%3D%20%22pending%22%20%7C%7C%0D%0A%09%09%09%09isFunction(%20resolveValues%5B%20i%20%5D%20%26%26%20resolveValues%5B%20i%20%5D.then%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09return%20master.then()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Multiple%20arguments%20are%20aggregated%20like%20Promise.all%20array%20elements%0D%0A%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09adoptValue(%20resolveValues%5B%20i%20%5D%2C%20updateFunc(%20i%20)%2C%20master.reject%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20master.promise()%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%2F%2F%20These%20usually%20indicate%20a%20programmer%20mistake%20during%20development%2C%0D%0A%2F%2F%20warn%20about%20them%20ASAP%20rather%20than%20swallowing%20them%20by%20default.%0D%0Avar%20rerrorNames%20%3D%20%2F%5E(Eval%7CInternal%7CRange%7CReference%7CSyntax%7CType%7CURI)Error%24%2F%3B%0D%0A%0D%0AjQuery.Deferred.exceptionHook%20%3D%20function(%20error%2C%20stack%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%208%20-%209%20only%0D%0A%09%2F%2F%20Console%20exists%20when%20dev%20tools%20are%20open%2C%20which%20can%20happen%20at%20any%20time%0D%0A%09if%20(%20window.console%20%26%26%20window.console.warn%20%26%26%20error%20%26%26%20rerrorNames.test(%20error.name%20)%20)%20%7B%0D%0A%09%09window.console.warn(%20%22jQuery.Deferred%20exception%3A%20%22%20%2B%20error.message%2C%20error.stack%2C%20stack%20)%3B%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0AjQuery.readyException%20%3D%20function(%20error%20)%20%7B%0D%0A%09window.setTimeout(%20function()%20%7B%0D%0A%09%09throw%20error%3B%0D%0A%09%7D%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20The%20deferred%20used%20on%20DOM%20ready%0D%0Avar%20readyList%20%3D%20jQuery.Deferred()%3B%0D%0A%0D%0AjQuery.fn.ready%20%3D%20function(%20fn%20)%20%7B%0D%0A%0D%0A%09readyList%0D%0A%09%09.then(%20fn%20)%0D%0A%0D%0A%09%09%2F%2F%20Wrap%20jQuery.readyException%20in%20a%20function%20so%20that%20the%20lookup%0D%0A%09%09%2F%2F%20happens%20at%20the%20time%20of%20error%20handling%20instead%20of%20callback%0D%0A%09%09%2F%2F%20registration.%0D%0A%09%09.catch(%20function(%20error%20)%20%7B%0D%0A%09%09%09jQuery.readyException(%20error%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%0D%0A%09return%20this%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%0D%0A%09%2F%2F%20Is%20the%20DOM%20ready%20to%20be%20used%3F%20Set%20to%20true%20once%20it%20occurs.%0D%0A%09isReady%3A%20false%2C%0D%0A%0D%0A%09%2F%2F%20A%20counter%20to%20track%20how%20many%20items%20to%20wait%20for%20before%0D%0A%09%2F%2F%20the%20ready%20event%20fires.%20See%20%236781%0D%0A%09readyWait%3A%201%2C%0D%0A%0D%0A%09%2F%2F%20Handle%20when%20the%20DOM%20is%20ready%0D%0A%09ready%3A%20function(%20wait%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Abort%20if%20there%20are%20pending%20holds%20or%20we're%20already%20ready%0D%0A%09%09if%20(%20wait%20%3D%3D%3D%20true%20%3F%20--jQuery.readyWait%20%3A%20jQuery.isReady%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Remember%20that%20the%20DOM%20is%20ready%0D%0A%09%09jQuery.isReady%20%3D%20true%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20a%20normal%20DOM%20Ready%20event%20fired%2C%20decrement%2C%20and%20wait%20if%20need%20be%0D%0A%09%09if%20(%20wait%20!%3D%3D%20true%20%26%26%20--jQuery.readyWait%20%3E%200%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20If%20there%20are%20functions%20bound%2C%20to%20execute%0D%0A%09%09readyList.resolveWith(%20document%2C%20%5B%20jQuery%20%5D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.ready.then%20%3D%20readyList.then%3B%0D%0A%0D%0A%2F%2F%20The%20ready%20event%20handler%20and%20self%20cleanup%20method%0D%0Afunction%20completed()%20%7B%0D%0A%09document.removeEventListener(%20%22DOMContentLoaded%22%2C%20completed%20)%3B%0D%0A%09window.removeEventListener(%20%22load%22%2C%20completed%20)%3B%0D%0A%09jQuery.ready()%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Catch%20cases%20where%20%24(document).ready()%20is%20called%0D%0A%2F%2F%20after%20the%20browser%20event%20has%20already%20occurred.%0D%0A%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2010%20only%0D%0A%2F%2F%20Older%20IE%20sometimes%20signals%20%22interactive%22%20too%20soon%0D%0Aif%20(%20document.readyState%20%3D%3D%3D%20%22complete%22%20%7C%7C%0D%0A%09(%20document.readyState%20!%3D%3D%20%22loading%22%20%26%26%20!document.documentElement.doScroll%20)%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Handle%20it%20asynchronously%20to%20allow%20scripts%20the%20opportunity%20to%20delay%20ready%0D%0A%09window.setTimeout(%20jQuery.ready%20)%3B%0D%0A%0D%0A%7D%20else%20%7B%0D%0A%0D%0A%09%2F%2F%20Use%20the%20handy%20event%20callback%0D%0A%09document.addEventListener(%20%22DOMContentLoaded%22%2C%20completed%20)%3B%0D%0A%0D%0A%09%2F%2F%20A%20fallback%20to%20window.onload%2C%20that%20will%20always%20work%0D%0A%09window.addEventListener(%20%22load%22%2C%20completed%20)%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Multifunctional%20method%20to%20get%20and%20set%20values%20of%20a%20collection%0D%0A%2F%2F%20The%20value%2Fs%20can%20optionally%20be%20executed%20if%20it's%20a%20function%0D%0Avar%20access%20%3D%20function(%20elems%2C%20fn%2C%20key%2C%20value%2C%20chainable%2C%20emptyGet%2C%20raw%20)%20%7B%0D%0A%09var%20i%20%3D%200%2C%0D%0A%09%09len%20%3D%20elems.length%2C%0D%0A%09%09bulk%20%3D%20key%20%3D%3D%20null%3B%0D%0A%0D%0A%09%2F%2F%20Sets%20many%20values%0D%0A%09if%20(%20toType(%20key%20)%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%09%09chainable%20%3D%20true%3B%0D%0A%09%09for%20(%20i%20in%20key%20)%20%7B%0D%0A%09%09%09access(%20elems%2C%20fn%2C%20i%2C%20key%5B%20i%20%5D%2C%20true%2C%20emptyGet%2C%20raw%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%2F%2F%20Sets%20one%20value%0D%0A%09%7D%20else%20if%20(%20value%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09chainable%20%3D%20true%3B%0D%0A%0D%0A%09%09if%20(%20!isFunction(%20value%20)%20)%20%7B%0D%0A%09%09%09raw%20%3D%20true%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20bulk%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Bulk%20operations%20run%20against%20the%20entire%20set%0D%0A%09%09%09if%20(%20raw%20)%20%7B%0D%0A%09%09%09%09fn.call(%20elems%2C%20value%20)%3B%0D%0A%09%09%09%09fn%20%3D%20null%3B%0D%0A%0D%0A%09%09%09%2F%2F%20...except%20when%20executing%20function%20values%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09bulk%20%3D%20fn%3B%0D%0A%09%09%09%09fn%20%3D%20function(%20elem%2C%20key%2C%20value%20)%20%7B%0D%0A%09%09%09%09%09return%20bulk.call(%20jQuery(%20elem%20)%2C%20value%20)%3B%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20fn%20)%20%7B%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09fn(%0D%0A%09%09%09%09%09elems%5B%20i%20%5D%2C%20key%2C%20raw%20%3F%0D%0A%09%09%09%09%09value%20%3A%0D%0A%09%09%09%09%09value.call(%20elems%5B%20i%20%5D%2C%20i%2C%20fn(%20elems%5B%20i%20%5D%2C%20key%20)%20)%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20chainable%20)%20%7B%0D%0A%09%09return%20elems%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Gets%0D%0A%09if%20(%20bulk%20)%20%7B%0D%0A%09%09return%20fn.call(%20elems%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20len%20%3F%20fn(%20elems%5B%200%20%5D%2C%20key%20)%20%3A%20emptyGet%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Matches%20dashed%20string%20for%20camelizing%0D%0Avar%20rmsPrefix%20%3D%20%2F%5E-ms-%2F%2C%0D%0A%09rdashAlpha%20%3D%20%2F-(%5Ba-z%5D)%2Fg%3B%0D%0A%0D%0A%2F%2F%20Used%20by%20camelCase%20as%20callback%20to%20replace()%0D%0Afunction%20fcamelCase(%20all%2C%20letter%20)%20%7B%0D%0A%09return%20letter.toUpperCase()%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Convert%20dashed%20to%20camelCase%3B%20used%20by%20the%20css%20and%20data%20modules%0D%0A%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%2C%20Edge%2012%20-%2015%0D%0A%2F%2F%20Microsoft%20forgot%20to%20hump%20their%20vendor%20prefix%20(%239572)%0D%0Afunction%20camelCase(%20string%20)%20%7B%0D%0A%09return%20string.replace(%20rmsPrefix%2C%20%22ms-%22%20).replace(%20rdashAlpha%2C%20fcamelCase%20)%3B%0D%0A%7D%0D%0Avar%20acceptData%20%3D%20function(%20owner%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Accepts%20only%3A%0D%0A%09%2F%2F%20%20-%20Node%0D%0A%09%2F%2F%20%20%20%20-%20Node.ELEMENT_NODE%0D%0A%09%2F%2F%20%20%20%20-%20Node.DOCUMENT_NODE%0D%0A%09%2F%2F%20%20-%20Object%0D%0A%09%2F%2F%20%20%20%20-%20Any%0D%0A%09return%20owner.nodeType%20%3D%3D%3D%201%20%7C%7C%20owner.nodeType%20%3D%3D%3D%209%20%7C%7C%20!(%20%2Bowner.nodeType%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Afunction%20Data()%20%7B%0D%0A%09this.expando%20%3D%20jQuery.expando%20%2B%20Data.uid%2B%2B%3B%0D%0A%7D%0D%0A%0D%0AData.uid%20%3D%201%3B%0D%0A%0D%0AData.prototype%20%3D%20%7B%0D%0A%0D%0A%09cache%3A%20function(%20owner%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Check%20if%20the%20owner%20object%20already%20has%20a%20cache%0D%0A%09%09var%20value%20%3D%20owner%5B%20this.expando%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20not%2C%20create%20one%0D%0A%09%09if%20(%20!value%20)%20%7B%0D%0A%09%09%09value%20%3D%20%7B%7D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20We%20can%20accept%20data%20for%20non-element%20nodes%20in%20modern%20browsers%2C%0D%0A%09%09%09%2F%2F%20but%20we%20should%20not%2C%20see%20%238335.%0D%0A%09%09%09%2F%2F%20Always%20return%20an%20empty%20object.%0D%0A%09%09%09if%20(%20acceptData(%20owner%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20it%20is%20a%20node%20unlikely%20to%20be%20stringify-ed%20or%20looped%20over%0D%0A%09%09%09%09%2F%2F%20use%20plain%20assignment%0D%0A%09%09%09%09if%20(%20owner.nodeType%20)%20%7B%0D%0A%09%09%09%09%09owner%5B%20this.expando%20%5D%20%3D%20value%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Otherwise%20secure%20it%20in%20a%20non-enumerable%20property%0D%0A%09%09%09%09%2F%2F%20configurable%20must%20be%20true%20to%20allow%20the%20property%20to%20be%0D%0A%09%09%09%09%2F%2F%20deleted%20when%20data%20is%20removed%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09Object.defineProperty(%20owner%2C%20this.expando%2C%20%7B%0D%0A%09%09%09%09%09%09value%3A%20value%2C%0D%0A%09%09%09%09%09%09configurable%3A%20true%0D%0A%09%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20value%3B%0D%0A%09%7D%2C%0D%0A%09set%3A%20function(%20owner%2C%20data%2C%20value%20)%20%7B%0D%0A%09%09var%20prop%2C%0D%0A%09%09%09cache%20%3D%20this.cache(%20owner%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Handle%3A%20%5B%20owner%2C%20key%2C%20value%20%5D%20args%0D%0A%09%09%2F%2F%20Always%20use%20camelCase%20key%20(gh-2257)%0D%0A%09%09if%20(%20typeof%20data%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09cache%5B%20camelCase(%20data%20)%20%5D%20%3D%20value%3B%0D%0A%0D%0A%09%09%2F%2F%20Handle%3A%20%5B%20owner%2C%20%7B%20properties%20%7D%20%5D%20args%0D%0A%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Copy%20the%20properties%20one-by-one%20to%20the%20cache%20object%0D%0A%09%09%09for%20(%20prop%20in%20data%20)%20%7B%0D%0A%09%09%09%09cache%5B%20camelCase(%20prop%20)%20%5D%20%3D%20data%5B%20prop%20%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09return%20cache%3B%0D%0A%09%7D%2C%0D%0A%09get%3A%20function(%20owner%2C%20key%20)%20%7B%0D%0A%09%09return%20key%20%3D%3D%3D%20undefined%20%3F%0D%0A%09%09%09this.cache(%20owner%20)%20%3A%0D%0A%0D%0A%09%09%09%2F%2F%20Always%20use%20camelCase%20key%20(gh-2257)%0D%0A%09%09%09owner%5B%20this.expando%20%5D%20%26%26%20owner%5B%20this.expando%20%5D%5B%20camelCase(%20key%20)%20%5D%3B%0D%0A%09%7D%2C%0D%0A%09access%3A%20function(%20owner%2C%20key%2C%20value%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20In%20cases%20where%20either%3A%0D%0A%09%09%2F%2F%0D%0A%09%09%2F%2F%20%20%201.%20No%20key%20was%20specified%0D%0A%09%09%2F%2F%20%20%202.%20A%20string%20key%20was%20specified%2C%20but%20no%20value%20provided%0D%0A%09%09%2F%2F%0D%0A%09%09%2F%2F%20Take%20the%20%22read%22%20path%20and%20allow%20the%20get%20method%20to%20determine%0D%0A%09%09%2F%2F%20which%20value%20to%20return%2C%20respectively%20either%3A%0D%0A%09%09%2F%2F%0D%0A%09%09%2F%2F%20%20%201.%20The%20entire%20cache%20object%0D%0A%09%09%2F%2F%20%20%202.%20The%20data%20stored%20at%20the%20key%0D%0A%09%09%2F%2F%0D%0A%09%09if%20(%20key%20%3D%3D%3D%20undefined%20%7C%7C%0D%0A%09%09%09%09(%20(%20key%20%26%26%20typeof%20key%20%3D%3D%3D%20%22string%22%20)%20%26%26%20value%20%3D%3D%3D%20undefined%20)%20)%20%7B%0D%0A%0D%0A%09%09%09return%20this.get(%20owner%2C%20key%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20When%20the%20key%20is%20not%20a%20string%2C%20or%20both%20a%20key%20and%20value%0D%0A%09%09%2F%2F%20are%20specified%2C%20set%20or%20extend%20(existing%20objects)%20with%20either%3A%0D%0A%09%09%2F%2F%0D%0A%09%09%2F%2F%20%20%201.%20An%20object%20of%20properties%0D%0A%09%09%2F%2F%20%20%202.%20A%20key%20and%20value%0D%0A%09%09%2F%2F%0D%0A%09%09this.set(%20owner%2C%20key%2C%20value%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Since%20the%20%22set%22%20path%20can%20have%20two%20possible%20entry%20points%0D%0A%09%09%2F%2F%20return%20the%20expected%20data%20based%20on%20which%20path%20was%20taken%5B*%5D%0D%0A%09%09return%20value%20!%3D%3D%20undefined%20%3F%20value%20%3A%20key%3B%0D%0A%09%7D%2C%0D%0A%09remove%3A%20function(%20owner%2C%20key%20)%20%7B%0D%0A%09%09var%20i%2C%0D%0A%09%09%09cache%20%3D%20owner%5B%20this.expando%20%5D%3B%0D%0A%0D%0A%09%09if%20(%20cache%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20key%20!%3D%3D%20undefined%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Support%20array%20or%20space%20separated%20string%20of%20keys%0D%0A%09%09%09if%20(%20Array.isArray(%20key%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20key%20is%20an%20array%20of%20keys...%0D%0A%09%09%09%09%2F%2F%20We%20always%20set%20camelCase%20keys%2C%20so%20remove%20that.%0D%0A%09%09%09%09key%20%3D%20key.map(%20camelCase%20)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09key%20%3D%20camelCase(%20key%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20a%20key%20with%20the%20spaces%20exists%2C%20use%20it.%0D%0A%09%09%09%09%2F%2F%20Otherwise%2C%20create%20an%20array%20by%20matching%20non-whitespace%0D%0A%09%09%09%09key%20%3D%20key%20in%20cache%20%3F%0D%0A%09%09%09%09%09%5B%20key%20%5D%20%3A%0D%0A%09%09%09%09%09(%20key.match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09i%20%3D%20key.length%3B%0D%0A%0D%0A%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09delete%20cache%5B%20key%5B%20i%20%5D%20%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Remove%20the%20expando%20if%20there's%20no%20more%20data%0D%0A%09%09if%20(%20key%20%3D%3D%3D%20undefined%20%7C%7C%20jQuery.isEmptyObject(%20cache%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20Chrome%20%3C%3D35%20-%2045%0D%0A%09%09%09%2F%2F%20Webkit%20%26%20Blink%20performance%20suffers%20when%20deleting%20properties%0D%0A%09%09%09%2F%2F%20from%20DOM%20nodes%2C%20so%20set%20to%20undefined%20instead%0D%0A%09%09%09%2F%2F%20https%3A%2F%2Fbugs.chromium.org%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D378607%20(bug%20restricted)%0D%0A%09%09%09if%20(%20owner.nodeType%20)%20%7B%0D%0A%09%09%09%09owner%5B%20this.expando%20%5D%20%3D%20undefined%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09delete%20owner%5B%20this.expando%20%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%09hasData%3A%20function(%20owner%20)%20%7B%0D%0A%09%09var%20cache%20%3D%20owner%5B%20this.expando%20%5D%3B%0D%0A%09%09return%20cache%20!%3D%3D%20undefined%20%26%26%20!jQuery.isEmptyObject(%20cache%20)%3B%0D%0A%09%7D%0D%0A%7D%3B%0D%0Avar%20dataPriv%20%3D%20new%20Data()%3B%0D%0A%0D%0Avar%20dataUser%20%3D%20new%20Data()%3B%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%09Implementation%20Summary%0D%0A%2F%2F%0D%0A%2F%2F%091.%20Enforce%20API%20surface%20and%20semantic%20compatibility%20with%201.9.x%20branch%0D%0A%2F%2F%092.%20Improve%20the%20module's%20maintainability%20by%20reducing%20the%20storage%0D%0A%2F%2F%09%09paths%20to%20a%20single%20mechanism.%0D%0A%2F%2F%093.%20Use%20the%20same%20single%20mechanism%20to%20support%20%22private%22%20and%20%22user%22%20data.%0D%0A%2F%2F%094.%20_Never_%20expose%20%22private%22%20data%20to%20user%20code%20(TODO%3A%20Drop%20_data%2C%20_removeData)%0D%0A%2F%2F%095.%20Avoid%20exposing%20implementation%20details%20on%20user%20objects%20(eg.%20expando%20properties)%0D%0A%2F%2F%096.%20Provide%20a%20clear%20path%20for%20implementation%20upgrade%20to%20WeakMap%20in%202014%0D%0A%0D%0Avar%20rbrace%20%3D%20%2F%5E(%3F%3A%5C%7B%5B%5Cw%5CW%5D*%5C%7D%7C%5C%5B%5B%5Cw%5CW%5D*%5C%5D)%24%2F%2C%0D%0A%09rmultiDash%20%3D%20%2F%5BA-Z%5D%2Fg%3B%0D%0A%0D%0Afunction%20getData(%20data%20)%20%7B%0D%0A%09if%20(%20data%20%3D%3D%3D%20%22true%22%20)%20%7B%0D%0A%09%09return%20true%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20data%20%3D%3D%3D%20%22false%22%20)%20%7B%0D%0A%09%09return%20false%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20data%20%3D%3D%3D%20%22null%22%20)%20%7B%0D%0A%09%09return%20null%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Only%20convert%20to%20a%20number%20if%20it%20doesn't%20change%20the%20string%0D%0A%09if%20(%20data%20%3D%3D%3D%20%2Bdata%20%2B%20%22%22%20)%20%7B%0D%0A%09%09return%20%2Bdata%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20rbrace.test(%20data%20)%20)%20%7B%0D%0A%09%09return%20JSON.parse(%20data%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20data%3B%0D%0A%7D%0D%0A%0D%0Afunction%20dataAttr(%20elem%2C%20key%2C%20data%20)%20%7B%0D%0A%09var%20name%3B%0D%0A%0D%0A%09%2F%2F%20If%20nothing%20was%20found%20internally%2C%20try%20to%20fetch%20any%0D%0A%09%2F%2F%20data%20from%20the%20HTML5%20data-*%20attribute%0D%0A%09if%20(%20data%20%3D%3D%3D%20undefined%20%26%26%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09name%20%3D%20%22data-%22%20%2B%20key.replace(%20rmultiDash%2C%20%22-%24%26%22%20).toLowerCase()%3B%0D%0A%09%09data%20%3D%20elem.getAttribute(%20name%20)%3B%0D%0A%0D%0A%09%09if%20(%20typeof%20data%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09try%20%7B%0D%0A%09%09%09%09data%20%3D%20getData(%20data%20)%3B%0D%0A%09%09%09%7D%20catch%20(%20e%20)%20%7B%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Make%20sure%20we%20set%20the%20data%20so%20it%20isn't%20changed%20later%0D%0A%09%09%09dataUser.set(%20elem%2C%20key%2C%20data%20)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09data%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%09return%20data%3B%0D%0A%7D%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%09hasData%3A%20function(%20elem%20)%20%7B%0D%0A%09%09return%20dataUser.hasData(%20elem%20)%20%7C%7C%20dataPriv.hasData(%20elem%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09data%3A%20function(%20elem%2C%20name%2C%20data%20)%20%7B%0D%0A%09%09return%20dataUser.access(%20elem%2C%20name%2C%20data%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09removeData%3A%20function(%20elem%2C%20name%20)%20%7B%0D%0A%09%09dataUser.remove(%20elem%2C%20name%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20TODO%3A%20Now%20that%20all%20calls%20to%20_data%20and%20_removeData%20have%20been%20replaced%0D%0A%09%2F%2F%20with%20direct%20calls%20to%20dataPriv%20methods%2C%20these%20can%20be%20deprecated.%0D%0A%09_data%3A%20function(%20elem%2C%20name%2C%20data%20)%20%7B%0D%0A%09%09return%20dataPriv.access(%20elem%2C%20name%2C%20data%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09_removeData%3A%20function(%20elem%2C%20name%20)%20%7B%0D%0A%09%09dataPriv.remove(%20elem%2C%20name%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09data%3A%20function(%20key%2C%20value%20)%20%7B%0D%0A%09%09var%20i%2C%20name%2C%20data%2C%0D%0A%09%09%09elem%20%3D%20this%5B%200%20%5D%2C%0D%0A%09%09%09attrs%20%3D%20elem%20%26%26%20elem.attributes%3B%0D%0A%0D%0A%09%09%2F%2F%20Gets%20all%20values%0D%0A%09%09if%20(%20key%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09if%20(%20this.length%20)%20%7B%0D%0A%09%09%09%09data%20%3D%20dataUser.get(%20elem%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20%26%26%20!dataPriv.get(%20elem%2C%20%22hasDataAttrs%22%20)%20)%20%7B%0D%0A%09%09%09%09%09i%20%3D%20attrs.length%3B%0D%0A%09%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%2011%20only%0D%0A%09%09%09%09%09%09%2F%2F%20The%20attrs%20elements%20can%20be%20null%20(%2314894)%0D%0A%09%09%09%09%09%09if%20(%20attrs%5B%20i%20%5D%20)%20%7B%0D%0A%09%09%09%09%09%09%09name%20%3D%20attrs%5B%20i%20%5D.name%3B%0D%0A%09%09%09%09%09%09%09if%20(%20name.indexOf(%20%22data-%22%20)%20%3D%3D%3D%200%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09name%20%3D%20camelCase(%20name.slice(%205%20)%20)%3B%0D%0A%09%09%09%09%09%09%09%09dataAttr(%20elem%2C%20name%2C%20data%5B%20name%20%5D%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09dataPriv.set(%20elem%2C%20%22hasDataAttrs%22%2C%20true%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20data%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Sets%20multiple%20values%0D%0A%09%09if%20(%20typeof%20key%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%09%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09%09dataUser.set(%20this%2C%20key%20)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20access(%20this%2C%20function(%20value%20)%20%7B%0D%0A%09%09%09var%20data%3B%0D%0A%0D%0A%09%09%09%2F%2F%20The%20calling%20jQuery%20object%20(element%20matches)%20is%20not%20empty%0D%0A%09%09%09%2F%2F%20(and%20therefore%20has%20an%20element%20appears%20at%20this%5B%200%20%5D)%20and%20the%0D%0A%09%09%09%2F%2F%20%60value%60%20parameter%20was%20not%20undefined.%20An%20empty%20jQuery%20object%0D%0A%09%09%09%2F%2F%20will%20result%20in%20%60undefined%60%20for%20elem%20%3D%20this%5B%200%20%5D%20which%20will%0D%0A%09%09%09%2F%2F%20throw%20an%20exception%20if%20an%20attempt%20to%20read%20a%20data%20cache%20is%20made.%0D%0A%09%09%09if%20(%20elem%20%26%26%20value%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Attempt%20to%20get%20data%20from%20the%20cache%0D%0A%09%09%09%09%2F%2F%20The%20key%20will%20always%20be%20camelCased%20in%20Data%0D%0A%09%09%09%09data%20%3D%20dataUser.get(%20elem%2C%20key%20)%3B%0D%0A%09%09%09%09if%20(%20data%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09%09return%20data%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Attempt%20to%20%22discover%22%20the%20data%20in%0D%0A%09%09%09%09%2F%2F%20HTML5%20custom%20data-*%20attrs%0D%0A%09%09%09%09data%20%3D%20dataAttr(%20elem%2C%20key%20)%3B%0D%0A%09%09%09%09if%20(%20data%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09%09return%20data%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20We%20tried%20really%20hard%2C%20but%20the%20data%20doesn't%20exist.%0D%0A%09%09%09%09return%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Set%20the%20data...%0D%0A%09%09%09this.each(%20function()%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20We%20always%20store%20the%20camelCased%20key%0D%0A%09%09%09%09dataUser.set(%20this%2C%20key%2C%20value%20)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%2C%20null%2C%20value%2C%20arguments.length%20%3E%201%2C%20null%2C%20true%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09removeData%3A%20function(%20key%20)%20%7B%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09dataUser.remove(%20this%2C%20key%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%09queue%3A%20function(%20elem%2C%20type%2C%20data%20)%20%7B%0D%0A%09%09var%20queue%3B%0D%0A%0D%0A%09%09if%20(%20elem%20)%20%7B%0D%0A%09%09%09type%20%3D%20(%20type%20%7C%7C%20%22fx%22%20)%20%2B%20%22queue%22%3B%0D%0A%09%09%09queue%20%3D%20dataPriv.get(%20elem%2C%20type%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Speed%20up%20dequeue%20by%20getting%20out%20quickly%20if%20this%20is%20just%20a%20lookup%0D%0A%09%09%09if%20(%20data%20)%20%7B%0D%0A%09%09%09%09if%20(%20!queue%20%7C%7C%20Array.isArray(%20data%20)%20)%20%7B%0D%0A%09%09%09%09%09queue%20%3D%20dataPriv.access(%20elem%2C%20type%2C%20jQuery.makeArray(%20data%20)%20)%3B%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09queue.push(%20data%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20queue%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09dequeue%3A%20function(%20elem%2C%20type%20)%20%7B%0D%0A%09%09type%20%3D%20type%20%7C%7C%20%22fx%22%3B%0D%0A%0D%0A%09%09var%20queue%20%3D%20jQuery.queue(%20elem%2C%20type%20)%2C%0D%0A%09%09%09startLength%20%3D%20queue.length%2C%0D%0A%09%09%09fn%20%3D%20queue.shift()%2C%0D%0A%09%09%09hooks%20%3D%20jQuery._queueHooks(%20elem%2C%20type%20)%2C%0D%0A%09%09%09next%20%3D%20function()%20%7B%0D%0A%09%09%09%09jQuery.dequeue(%20elem%2C%20type%20)%3B%0D%0A%09%09%09%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20the%20fx%20queue%20is%20dequeued%2C%20always%20remove%20the%20progress%20sentinel%0D%0A%09%09if%20(%20fn%20%3D%3D%3D%20%22inprogress%22%20)%20%7B%0D%0A%09%09%09fn%20%3D%20queue.shift()%3B%0D%0A%09%09%09startLength--%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20fn%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Add%20a%20progress%20sentinel%20to%20prevent%20the%20fx%20queue%20from%20being%0D%0A%09%09%09%2F%2F%20automatically%20dequeued%0D%0A%09%09%09if%20(%20type%20%3D%3D%3D%20%22fx%22%20)%20%7B%0D%0A%09%09%09%09queue.unshift(%20%22inprogress%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Clear%20up%20the%20last%20queue%20stop%20function%0D%0A%09%09%09delete%20hooks.stop%3B%0D%0A%09%09%09fn.call(%20elem%2C%20next%2C%20hooks%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20!startLength%20%26%26%20hooks%20)%20%7B%0D%0A%09%09%09hooks.empty.fire()%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Not%20public%20-%20generate%20a%20queueHooks%20object%2C%20or%20return%20the%20current%20one%0D%0A%09_queueHooks%3A%20function(%20elem%2C%20type%20)%20%7B%0D%0A%09%09var%20key%20%3D%20type%20%2B%20%22queueHooks%22%3B%0D%0A%09%09return%20dataPriv.get(%20elem%2C%20key%20)%20%7C%7C%20dataPriv.access(%20elem%2C%20key%2C%20%7B%0D%0A%09%09%09empty%3A%20jQuery.Callbacks(%20%22once%20memory%22%20).add(%20function()%20%7B%0D%0A%09%09%09%09dataPriv.remove(%20elem%2C%20%5B%20type%20%2B%20%22queue%22%2C%20key%20%5D%20)%3B%0D%0A%09%09%09%7D%20)%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09queue%3A%20function(%20type%2C%20data%20)%20%7B%0D%0A%09%09var%20setter%20%3D%202%3B%0D%0A%0D%0A%09%09if%20(%20typeof%20type%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09data%20%3D%20type%3B%0D%0A%09%09%09type%20%3D%20%22fx%22%3B%0D%0A%09%09%09setter--%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20arguments.length%20%3C%20setter%20)%20%7B%0D%0A%09%09%09return%20jQuery.queue(%20this%5B%200%20%5D%2C%20type%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20data%20%3D%3D%3D%20undefined%20%3F%0D%0A%09%09%09this%20%3A%0D%0A%09%09%09this.each(%20function()%20%7B%0D%0A%09%09%09%09var%20queue%20%3D%20jQuery.queue(%20this%2C%20type%2C%20data%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Ensure%20a%20hooks%20for%20this%20queue%0D%0A%09%09%09%09jQuery._queueHooks(%20this%2C%20type%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20type%20%3D%3D%3D%20%22fx%22%20%26%26%20queue%5B%200%20%5D%20!%3D%3D%20%22inprogress%22%20)%20%7B%0D%0A%09%09%09%09%09jQuery.dequeue(%20this%2C%20type%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%09dequeue%3A%20function(%20type%20)%20%7B%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09jQuery.dequeue(%20this%2C%20type%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%09clearQueue%3A%20function(%20type%20)%20%7B%0D%0A%09%09return%20this.queue(%20type%20%7C%7C%20%22fx%22%2C%20%5B%5D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Get%20a%20promise%20resolved%20when%20queues%20of%20a%20certain%20type%0D%0A%09%2F%2F%20are%20emptied%20(fx%20is%20the%20type%20by%20default)%0D%0A%09promise%3A%20function(%20type%2C%20obj%20)%20%7B%0D%0A%09%09var%20tmp%2C%0D%0A%09%09%09count%20%3D%201%2C%0D%0A%09%09%09defer%20%3D%20jQuery.Deferred()%2C%0D%0A%09%09%09elements%20%3D%20this%2C%0D%0A%09%09%09i%20%3D%20this.length%2C%0D%0A%09%09%09resolve%20%3D%20function()%20%7B%0D%0A%09%09%09%09if%20(%20!(%20--count%20)%20)%20%7B%0D%0A%09%09%09%09%09defer.resolveWith(%20elements%2C%20%5B%20elements%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%3B%0D%0A%0D%0A%09%09if%20(%20typeof%20type%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09obj%20%3D%20type%3B%0D%0A%09%09%09type%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%09%09type%20%3D%20type%20%7C%7C%20%22fx%22%3B%0D%0A%0D%0A%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09tmp%20%3D%20dataPriv.get(%20elements%5B%20i%20%5D%2C%20type%20%2B%20%22queueHooks%22%20)%3B%0D%0A%09%09%09if%20(%20tmp%20%26%26%20tmp.empty%20)%20%7B%0D%0A%09%09%09%09count%2B%2B%3B%0D%0A%09%09%09%09tmp.empty.add(%20resolve%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09resolve()%3B%0D%0A%09%09return%20defer.promise(%20obj%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0Avar%20pnum%20%3D%20(%20%2F%5B%2B-%5D%3F(%3F%3A%5Cd*%5C.%7C)%5Cd%2B(%3F%3A%5BeE%5D%5B%2B-%5D%3F%5Cd%2B%7C)%2F%20).source%3B%0D%0A%0D%0Avar%20rcssNum%20%3D%20new%20RegExp(%20%22%5E(%3F%3A(%5B%2B-%5D)%3D%7C)(%22%20%2B%20pnum%20%2B%20%22)(%5Ba-z%25%5D*)%24%22%2C%20%22i%22%20)%3B%0D%0A%0D%0A%0D%0Avar%20cssExpand%20%3D%20%5B%20%22Top%22%2C%20%22Right%22%2C%20%22Bottom%22%2C%20%22Left%22%20%5D%3B%0D%0A%0D%0Avar%20documentElement%20%3D%20document.documentElement%3B%0D%0A%0D%0A%0D%0A%0D%0A%09var%20isAttached%20%3D%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20jQuery.contains(%20elem.ownerDocument%2C%20elem%20)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09composed%20%3D%20%7B%20composed%3A%20true%20%7D%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%209%20-%2011%2B%2C%20Edge%2012%20-%2018%2B%2C%20iOS%2010.0%20-%2010.2%20only%0D%0A%09%2F%2F%20Check%20attachment%20across%20shadow%20DOM%20boundaries%20when%20possible%20(gh-3504)%0D%0A%09%2F%2F%20Support%3A%20iOS%2010.0-10.2%20only%0D%0A%09%2F%2F%20Early%20iOS%2010%20versions%20support%20%60attachShadow%60%20but%20not%20%60getRootNode%60%2C%0D%0A%09%2F%2F%20leading%20to%20errors.%20We%20need%20to%20check%20for%20%60getRootNode%60.%0D%0A%09if%20(%20documentElement.getRootNode%20)%20%7B%0D%0A%09%09isAttached%20%3D%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20jQuery.contains(%20elem.ownerDocument%2C%20elem%20)%20%7C%7C%0D%0A%09%09%09%09elem.getRootNode(%20composed%20)%20%3D%3D%3D%20elem.ownerDocument%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%0D%0Avar%20isHiddenWithinTree%20%3D%20function(%20elem%2C%20el%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20isHiddenWithinTree%20might%20be%20called%20from%20jQuery%23filter%20function%3B%0D%0A%09%09%2F%2F%20in%20that%20case%2C%20element%20will%20be%20second%20argument%0D%0A%09%09elem%20%3D%20el%20%7C%7C%20elem%3B%0D%0A%0D%0A%09%09%2F%2F%20Inline%20style%20trumps%20all%0D%0A%09%09return%20elem.style.display%20%3D%3D%3D%20%22none%22%20%7C%7C%0D%0A%09%09%09elem.style.display%20%3D%3D%3D%20%22%22%20%26%26%0D%0A%0D%0A%09%09%09%2F%2F%20Otherwise%2C%20check%20computed%20style%0D%0A%09%09%09%2F%2F%20Support%3A%20Firefox%20%3C%3D43%20-%2045%0D%0A%09%09%09%2F%2F%20Disconnected%20elements%20can%20have%20computed%20display%3A%20none%2C%20so%20first%20confirm%20that%20elem%20is%0D%0A%09%09%09%2F%2F%20in%20the%20document.%0D%0A%09%09%09isAttached(%20elem%20)%20%26%26%0D%0A%0D%0A%09%09%09jQuery.css(%20elem%2C%20%22display%22%20)%20%3D%3D%3D%20%22none%22%3B%0D%0A%09%7D%3B%0D%0A%0D%0Avar%20swap%20%3D%20function(%20elem%2C%20options%2C%20callback%2C%20args%20)%20%7B%0D%0A%09var%20ret%2C%20name%2C%0D%0A%09%09old%20%3D%20%7B%7D%3B%0D%0A%0D%0A%09%2F%2F%20Remember%20the%20old%20values%2C%20and%20insert%20the%20new%20ones%0D%0A%09for%20(%20name%20in%20options%20)%20%7B%0D%0A%09%09old%5B%20name%20%5D%20%3D%20elem.style%5B%20name%20%5D%3B%0D%0A%09%09elem.style%5B%20name%20%5D%20%3D%20options%5B%20name%20%5D%3B%0D%0A%09%7D%0D%0A%0D%0A%09ret%20%3D%20callback.apply(%20elem%2C%20args%20%7C%7C%20%5B%5D%20)%3B%0D%0A%0D%0A%09%2F%2F%20Revert%20the%20old%20values%0D%0A%09for%20(%20name%20in%20options%20)%20%7B%0D%0A%09%09elem.style%5B%20name%20%5D%20%3D%20old%5B%20name%20%5D%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20ret%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Afunction%20adjustCSS(%20elem%2C%20prop%2C%20valueParts%2C%20tween%20)%20%7B%0D%0A%09var%20adjusted%2C%20scale%2C%0D%0A%09%09maxIterations%20%3D%2020%2C%0D%0A%09%09currentValue%20%3D%20tween%20%3F%0D%0A%09%09%09function()%20%7B%0D%0A%09%09%09%09return%20tween.cur()%3B%0D%0A%09%09%09%7D%20%3A%0D%0A%09%09%09function()%20%7B%0D%0A%09%09%09%09return%20jQuery.css(%20elem%2C%20prop%2C%20%22%22%20)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09initial%20%3D%20currentValue()%2C%0D%0A%09%09unit%20%3D%20valueParts%20%26%26%20valueParts%5B%203%20%5D%20%7C%7C%20(%20jQuery.cssNumber%5B%20prop%20%5D%20%3F%20%22%22%20%3A%20%22px%22%20)%2C%0D%0A%0D%0A%09%09%2F%2F%20Starting%20value%20computation%20is%20required%20for%20potential%20unit%20mismatches%0D%0A%09%09initialInUnit%20%3D%20elem.nodeType%20%26%26%0D%0A%09%09%09(%20jQuery.cssNumber%5B%20prop%20%5D%20%7C%7C%20unit%20!%3D%3D%20%22px%22%20%26%26%20%2Binitial%20)%20%26%26%0D%0A%09%09%09rcssNum.exec(%20jQuery.css(%20elem%2C%20prop%20)%20)%3B%0D%0A%0D%0A%09if%20(%20initialInUnit%20%26%26%20initialInUnit%5B%203%20%5D%20!%3D%3D%20unit%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20Firefox%20%3C%3D54%0D%0A%09%09%2F%2F%20Halve%20the%20iteration%20target%20value%20to%20prevent%20interference%20from%20CSS%20upper%20bounds%20(gh-2144)%0D%0A%09%09initial%20%3D%20initial%20%2F%202%3B%0D%0A%0D%0A%09%09%2F%2F%20Trust%20units%20reported%20by%20jQuery.css%0D%0A%09%09unit%20%3D%20unit%20%7C%7C%20initialInUnit%5B%203%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20Iteratively%20approximate%20from%20a%20nonzero%20starting%20point%0D%0A%09%09initialInUnit%20%3D%20%2Binitial%20%7C%7C%201%3B%0D%0A%0D%0A%09%09while%20(%20maxIterations--%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Evaluate%20and%20update%20our%20best%20guess%20(doubling%20guesses%20that%20zero%20out).%0D%0A%09%09%09%2F%2F%20Finish%20if%20the%20scale%20equals%20or%20crosses%201%20(making%20the%20old*new%20product%20non-positive).%0D%0A%09%09%09jQuery.style(%20elem%2C%20prop%2C%20initialInUnit%20%2B%20unit%20)%3B%0D%0A%09%09%09if%20(%20(%201%20-%20scale%20)%20*%20(%201%20-%20(%20scale%20%3D%20currentValue()%20%2F%20initial%20%7C%7C%200.5%20)%20)%20%3C%3D%200%20)%20%7B%0D%0A%09%09%09%09maxIterations%20%3D%200%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09initialInUnit%20%3D%20initialInUnit%20%2F%20scale%3B%0D%0A%0D%0A%09%09%7D%0D%0A%0D%0A%09%09initialInUnit%20%3D%20initialInUnit%20*%202%3B%0D%0A%09%09jQuery.style(%20elem%2C%20prop%2C%20initialInUnit%20%2B%20unit%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Make%20sure%20we%20update%20the%20tween%20properties%20later%20on%0D%0A%09%09valueParts%20%3D%20valueParts%20%7C%7C%20%5B%5D%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20valueParts%20)%20%7B%0D%0A%09%09initialInUnit%20%3D%20%2BinitialInUnit%20%7C%7C%20%2Binitial%20%7C%7C%200%3B%0D%0A%0D%0A%09%09%2F%2F%20Apply%20relative%20offset%20(%2B%3D%2F-%3D)%20if%20specified%0D%0A%09%09adjusted%20%3D%20valueParts%5B%201%20%5D%20%3F%0D%0A%09%09%09initialInUnit%20%2B%20(%20valueParts%5B%201%20%5D%20%2B%201%20)%20*%20valueParts%5B%202%20%5D%20%3A%0D%0A%09%09%09%2BvalueParts%5B%202%20%5D%3B%0D%0A%09%09if%20(%20tween%20)%20%7B%0D%0A%09%09%09tween.unit%20%3D%20unit%3B%0D%0A%09%09%09tween.start%20%3D%20initialInUnit%3B%0D%0A%09%09%09tween.end%20%3D%20adjusted%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%09return%20adjusted%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%20defaultDisplayMap%20%3D%20%7B%7D%3B%0D%0A%0D%0Afunction%20getDefaultDisplay(%20elem%20)%20%7B%0D%0A%09var%20temp%2C%0D%0A%09%09doc%20%3D%20elem.ownerDocument%2C%0D%0A%09%09nodeName%20%3D%20elem.nodeName%2C%0D%0A%09%09display%20%3D%20defaultDisplayMap%5B%20nodeName%20%5D%3B%0D%0A%0D%0A%09if%20(%20display%20)%20%7B%0D%0A%09%09return%20display%3B%0D%0A%09%7D%0D%0A%0D%0A%09temp%20%3D%20doc.body.appendChild(%20doc.createElement(%20nodeName%20)%20)%3B%0D%0A%09display%20%3D%20jQuery.css(%20temp%2C%20%22display%22%20)%3B%0D%0A%0D%0A%09temp.parentNode.removeChild(%20temp%20)%3B%0D%0A%0D%0A%09if%20(%20display%20%3D%3D%3D%20%22none%22%20)%20%7B%0D%0A%09%09display%20%3D%20%22block%22%3B%0D%0A%09%7D%0D%0A%09defaultDisplayMap%5B%20nodeName%20%5D%20%3D%20display%3B%0D%0A%0D%0A%09return%20display%3B%0D%0A%7D%0D%0A%0D%0Afunction%20showHide(%20elements%2C%20show%20)%20%7B%0D%0A%09var%20display%2C%20elem%2C%0D%0A%09%09values%20%3D%20%5B%5D%2C%0D%0A%09%09index%20%3D%200%2C%0D%0A%09%09length%20%3D%20elements.length%3B%0D%0A%0D%0A%09%2F%2F%20Determine%20new%20display%20value%20for%20elements%20that%20need%20to%20change%0D%0A%09for%20(%20%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09elem%20%3D%20elements%5B%20index%20%5D%3B%0D%0A%09%09if%20(%20!elem.style%20)%20%7B%0D%0A%09%09%09continue%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09display%20%3D%20elem.style.display%3B%0D%0A%09%09if%20(%20show%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Since%20we%20force%20visibility%20upon%20cascade-hidden%20elements%2C%20an%20immediate%20(and%20slow)%0D%0A%09%09%09%2F%2F%20check%20is%20required%20in%20this%20first%20loop%20unless%20we%20have%20a%20nonempty%20display%20value%20(either%0D%0A%09%09%09%2F%2F%20inline%20or%20about-to-be-restored)%0D%0A%09%09%09if%20(%20display%20%3D%3D%3D%20%22none%22%20)%20%7B%0D%0A%09%09%09%09values%5B%20index%20%5D%20%3D%20dataPriv.get(%20elem%2C%20%22display%22%20)%20%7C%7C%20null%3B%0D%0A%09%09%09%09if%20(%20!values%5B%20index%20%5D%20)%20%7B%0D%0A%09%09%09%09%09elem.style.display%20%3D%20%22%22%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%20elem.style.display%20%3D%3D%3D%20%22%22%20%26%26%20isHiddenWithinTree(%20elem%20)%20)%20%7B%0D%0A%09%09%09%09values%5B%20index%20%5D%20%3D%20getDefaultDisplay(%20elem%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09if%20(%20display%20!%3D%3D%20%22none%22%20)%20%7B%0D%0A%09%09%09%09values%5B%20index%20%5D%20%3D%20%22none%22%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Remember%20what%20we're%20overwriting%0D%0A%09%09%09%09dataPriv.set(%20elem%2C%20%22display%22%2C%20display%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Set%20the%20display%20of%20the%20elements%20in%20a%20second%20loop%20to%20avoid%20constant%20reflow%0D%0A%09for%20(%20index%20%3D%200%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09if%20(%20values%5B%20index%20%5D%20!%3D%20null%20)%20%7B%0D%0A%09%09%09elements%5B%20index%20%5D.style.display%20%3D%20values%5B%20index%20%5D%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20elements%3B%0D%0A%7D%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09show%3A%20function()%20%7B%0D%0A%09%09return%20showHide(%20this%2C%20true%20)%3B%0D%0A%09%7D%2C%0D%0A%09hide%3A%20function()%20%7B%0D%0A%09%09return%20showHide(%20this%20)%3B%0D%0A%09%7D%2C%0D%0A%09toggle%3A%20function(%20state%20)%20%7B%0D%0A%09%09if%20(%20typeof%20state%20%3D%3D%3D%20%22boolean%22%20)%20%7B%0D%0A%09%09%09return%20state%20%3F%20this.show()%20%3A%20this.hide()%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09if%20(%20isHiddenWithinTree(%20this%20)%20)%20%7B%0D%0A%09%09%09%09jQuery(%20this%20).show()%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09jQuery(%20this%20).hide()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0Avar%20rcheckableType%20%3D%20(%20%2F%5E(%3F%3Acheckbox%7Cradio)%24%2Fi%20)%3B%0D%0A%0D%0Avar%20rtagName%20%3D%20(%20%2F%3C(%5Ba-z%5D%5B%5E%5C%2F%5C0%3E%5Cx20%5Ct%5Cr%5Cn%5Cf%5D*)%2Fi%20)%3B%0D%0A%0D%0Avar%20rscriptType%20%3D%20(%20%2F%5E%24%7C%5Emodule%24%7C%5C%2F(%3F%3Ajava%7Cecma)script%2Fi%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20We%20have%20to%20close%20these%20tags%20to%20support%20XHTML%20(%2313200)%0D%0Avar%20wrapMap%20%3D%20%7B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0A%09option%3A%20%5B%201%2C%20%22%3Cselect%20multiple%3D'multiple'%3E%22%2C%20%22%3C%2Fselect%3E%22%20%5D%2C%0D%0A%0D%0A%09%2F%2F%20XHTML%20parsers%20do%20not%20magically%20insert%20elements%20in%20the%0D%0A%09%2F%2F%20same%20way%20that%20tag%20soup%20parsers%20do.%20So%20we%20cannot%20shorten%0D%0A%09%2F%2F%20this%20by%20omitting%20%3Ctbody%3E%20or%20other%20required%20elements.%0D%0A%09thead%3A%20%5B%201%2C%20%22%3Ctable%3E%22%2C%20%22%3C%2Ftable%3E%22%20%5D%2C%0D%0A%09col%3A%20%5B%202%2C%20%22%3Ctable%3E%3Ccolgroup%3E%22%2C%20%22%3C%2Fcolgroup%3E%3C%2Ftable%3E%22%20%5D%2C%0D%0A%09tr%3A%20%5B%202%2C%20%22%3Ctable%3E%3Ctbody%3E%22%2C%20%22%3C%2Ftbody%3E%3C%2Ftable%3E%22%20%5D%2C%0D%0A%09td%3A%20%5B%203%2C%20%22%3Ctable%3E%3Ctbody%3E%3Ctr%3E%22%2C%20%22%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%20%5D%2C%0D%0A%0D%0A%09_default%3A%20%5B%200%2C%20%22%22%2C%20%22%22%20%5D%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0AwrapMap.optgroup%20%3D%20wrapMap.option%3B%0D%0A%0D%0AwrapMap.tbody%20%3D%20wrapMap.tfoot%20%3D%20wrapMap.colgroup%20%3D%20wrapMap.caption%20%3D%20wrapMap.thead%3B%0D%0AwrapMap.th%20%3D%20wrapMap.td%3B%0D%0A%0D%0A%0D%0Afunction%20getAll(%20context%2C%20tag%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%20only%0D%0A%09%2F%2F%20Use%20typeof%20to%20avoid%20zero-argument%20method%20invocation%20on%20host%20objects%20(%2315151)%0D%0A%09var%20ret%3B%0D%0A%0D%0A%09if%20(%20typeof%20context.getElementsByTagName%20!%3D%3D%20%22undefined%22%20)%20%7B%0D%0A%09%09ret%20%3D%20context.getElementsByTagName(%20tag%20%7C%7C%20%22*%22%20)%3B%0D%0A%0D%0A%09%7D%20else%20if%20(%20typeof%20context.querySelectorAll%20!%3D%3D%20%22undefined%22%20)%20%7B%0D%0A%09%09ret%20%3D%20context.querySelectorAll(%20tag%20%7C%7C%20%22*%22%20)%3B%0D%0A%0D%0A%09%7D%20else%20%7B%0D%0A%09%09ret%20%3D%20%5B%5D%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20tag%20%3D%3D%3D%20undefined%20%7C%7C%20tag%20%26%26%20nodeName(%20context%2C%20tag%20)%20)%20%7B%0D%0A%09%09return%20jQuery.merge(%20%5B%20context%20%5D%2C%20ret%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20ret%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%2F%2F%20Mark%20scripts%20as%20having%20already%20been%20evaluated%0D%0Afunction%20setGlobalEval(%20elems%2C%20refElements%20)%20%7B%0D%0A%09var%20i%20%3D%200%2C%0D%0A%09%09l%20%3D%20elems.length%3B%0D%0A%0D%0A%09for%20(%20%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09dataPriv.set(%0D%0A%09%09%09elems%5B%20i%20%5D%2C%0D%0A%09%09%09%22globalEval%22%2C%0D%0A%09%09%09!refElements%20%7C%7C%20dataPriv.get(%20refElements%5B%20i%20%5D%2C%20%22globalEval%22%20)%0D%0A%09%09)%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%20rhtml%20%3D%20%2F%3C%7C%26%23%3F%5Cw%2B%3B%2F%3B%0D%0A%0D%0Afunction%20buildFragment(%20elems%2C%20context%2C%20scripts%2C%20selection%2C%20ignored%20)%20%7B%0D%0A%09var%20elem%2C%20tmp%2C%20tag%2C%20wrap%2C%20attached%2C%20j%2C%0D%0A%09%09fragment%20%3D%20context.createDocumentFragment()%2C%0D%0A%09%09nodes%20%3D%20%5B%5D%2C%0D%0A%09%09i%20%3D%200%2C%0D%0A%09%09l%20%3D%20elems.length%3B%0D%0A%0D%0A%09for%20(%20%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09elem%20%3D%20elems%5B%20i%20%5D%3B%0D%0A%0D%0A%09%09if%20(%20elem%20%7C%7C%20elem%20%3D%3D%3D%200%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Add%20nodes%20directly%0D%0A%09%09%09if%20(%20toType(%20elem%20)%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20Android%20%3C%3D4.0%20only%2C%20PhantomJS%201%20only%0D%0A%09%09%09%09%2F%2F%20push.apply(_%2C%20arraylike)%20throws%20on%20ancient%20WebKit%0D%0A%09%09%09%09jQuery.merge(%20nodes%2C%20elem.nodeType%20%3F%20%5B%20elem%20%5D%20%3A%20elem%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Convert%20non-html%20into%20a%20text%20node%0D%0A%09%09%09%7D%20else%20if%20(%20!rhtml.test(%20elem%20)%20)%20%7B%0D%0A%09%09%09%09nodes.push(%20context.createTextNode(%20elem%20)%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Convert%20html%20into%20DOM%20nodes%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09tmp%20%3D%20tmp%20%7C%7C%20fragment.appendChild(%20context.createElement(%20%22div%22%20)%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Deserialize%20a%20standard%20representation%0D%0A%09%09%09%09tag%20%3D%20(%20rtagName.exec(%20elem%20)%20%7C%7C%20%5B%20%22%22%2C%20%22%22%20%5D%20)%5B%201%20%5D.toLowerCase()%3B%0D%0A%09%09%09%09wrap%20%3D%20wrapMap%5B%20tag%20%5D%20%7C%7C%20wrapMap._default%3B%0D%0A%09%09%09%09tmp.innerHTML%20%3D%20wrap%5B%201%20%5D%20%2B%20jQuery.htmlPrefilter(%20elem%20)%20%2B%20wrap%5B%202%20%5D%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Descend%20through%20wrappers%20to%20the%20right%20content%0D%0A%09%09%09%09j%20%3D%20wrap%5B%200%20%5D%3B%0D%0A%09%09%09%09while%20(%20j--%20)%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20tmp.lastChild%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20Android%20%3C%3D4.0%20only%2C%20PhantomJS%201%20only%0D%0A%09%09%09%09%2F%2F%20push.apply(_%2C%20arraylike)%20throws%20on%20ancient%20WebKit%0D%0A%09%09%09%09jQuery.merge(%20nodes%2C%20tmp.childNodes%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Remember%20the%20top-level%20container%0D%0A%09%09%09%09tmp%20%3D%20fragment.firstChild%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Ensure%20the%20created%20nodes%20are%20orphaned%20(%2312392)%0D%0A%09%09%09%09tmp.textContent%20%3D%20%22%22%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Remove%20wrapper%20from%20fragment%0D%0A%09fragment.textContent%20%3D%20%22%22%3B%0D%0A%0D%0A%09i%20%3D%200%3B%0D%0A%09while%20(%20(%20elem%20%3D%20nodes%5B%20i%2B%2B%20%5D%20)%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Skip%20elements%20already%20in%20the%20context%20collection%20(trac-4087)%0D%0A%09%09if%20(%20selection%20%26%26%20jQuery.inArray(%20elem%2C%20selection%20)%20%3E%20-1%20)%20%7B%0D%0A%09%09%09if%20(%20ignored%20)%20%7B%0D%0A%09%09%09%09ignored.push(%20elem%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09continue%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09attached%20%3D%20isAttached(%20elem%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Append%20to%20fragment%0D%0A%09%09tmp%20%3D%20getAll(%20fragment.appendChild(%20elem%20)%2C%20%22script%22%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Preserve%20script%20evaluation%20history%0D%0A%09%09if%20(%20attached%20)%20%7B%0D%0A%09%09%09setGlobalEval(%20tmp%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Capture%20executables%0D%0A%09%09if%20(%20scripts%20)%20%7B%0D%0A%09%09%09j%20%3D%200%3B%0D%0A%09%09%09while%20(%20(%20elem%20%3D%20tmp%5B%20j%2B%2B%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09if%20(%20rscriptType.test(%20elem.type%20%7C%7C%20%22%22%20)%20)%20%7B%0D%0A%09%09%09%09%09scripts.push(%20elem%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20fragment%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A(%20function()%20%7B%0D%0A%09var%20fragment%20%3D%20document.createDocumentFragment()%2C%0D%0A%09%09div%20%3D%20fragment.appendChild(%20document.createElement(%20%22div%22%20)%20)%2C%0D%0A%09%09input%20%3D%20document.createElement(%20%22input%22%20)%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Android%204.0%20-%204.3%20only%0D%0A%09%2F%2F%20Check%20state%20lost%20if%20the%20name%20is%20set%20(%2311217)%0D%0A%09%2F%2F%20Support%3A%20Windows%20Web%20Apps%20(WWA)%0D%0A%09%2F%2F%20%60name%60%20and%20%60type%60%20must%20use%20.setAttribute%20for%20WWA%20(%2314901)%0D%0A%09input.setAttribute(%20%22type%22%2C%20%22radio%22%20)%3B%0D%0A%09input.setAttribute(%20%22checked%22%2C%20%22checked%22%20)%3B%0D%0A%09input.setAttribute(%20%22name%22%2C%20%22t%22%20)%3B%0D%0A%0D%0A%09div.appendChild(%20input%20)%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Android%20%3C%3D4.1%20only%0D%0A%09%2F%2F%20Older%20WebKit%20doesn't%20clone%20checked%20state%20correctly%20in%20fragments%0D%0A%09support.checkClone%20%3D%20div.cloneNode(%20true%20).cloneNode(%20true%20).lastChild.checked%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D11%20only%0D%0A%09%2F%2F%20Make%20sure%20textarea%20(and%20checkbox)%20defaultValue%20is%20properly%20cloned%0D%0A%09div.innerHTML%20%3D%20%22%3Ctextarea%3Ex%3C%2Ftextarea%3E%22%3B%0D%0A%09support.noCloneChecked%20%3D%20!!div.cloneNode(%20true%20).lastChild.defaultValue%3B%0D%0A%7D%20)()%3B%0D%0A%0D%0A%0D%0Avar%0D%0A%09rkeyEvent%20%3D%20%2F%5Ekey%2F%2C%0D%0A%09rmouseEvent%20%3D%20%2F%5E(%3F%3Amouse%7Cpointer%7Ccontextmenu%7Cdrag%7Cdrop)%7Cclick%2F%2C%0D%0A%09rtypenamespace%20%3D%20%2F%5E(%5B%5E.%5D*)(%3F%3A%5C.(.%2B)%7C)%2F%3B%0D%0A%0D%0Afunction%20returnTrue()%20%7B%0D%0A%09return%20true%3B%0D%0A%7D%0D%0A%0D%0Afunction%20returnFalse()%20%7B%0D%0A%09return%20false%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%2B%0D%0A%2F%2F%20focus()%20and%20blur()%20are%20asynchronous%2C%20except%20when%20they%20are%20no-op.%0D%0A%2F%2F%20So%20expect%20focus%20to%20be%20synchronous%20when%20the%20element%20is%20already%20active%2C%0D%0A%2F%2F%20and%20blur%20to%20be%20synchronous%20when%20the%20element%20is%20not%20already%20active.%0D%0A%2F%2F%20(focus%20and%20blur%20are%20always%20synchronous%20in%20other%20supported%20browsers%2C%0D%0A%2F%2F%20this%20just%20defines%20when%20we%20can%20count%20on%20it).%0D%0Afunction%20expectSync(%20elem%2C%20type%20)%20%7B%0D%0A%09return%20(%20elem%20%3D%3D%3D%20safeActiveElement()%20)%20%3D%3D%3D%20(%20type%20%3D%3D%3D%20%22focus%22%20)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0A%2F%2F%20Accessing%20document.activeElement%20can%20throw%20unexpectedly%0D%0A%2F%2F%20https%3A%2F%2Fbugs.jquery.com%2Fticket%2F13393%0D%0Afunction%20safeActiveElement()%20%7B%0D%0A%09try%20%7B%0D%0A%09%09return%20document.activeElement%3B%0D%0A%09%7D%20catch%20(%20err%20)%20%7B%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20on(%20elem%2C%20types%2C%20selector%2C%20data%2C%20fn%2C%20one%20)%20%7B%0D%0A%09var%20origFn%2C%20type%3B%0D%0A%0D%0A%09%2F%2F%20Types%20can%20be%20a%20map%20of%20types%2Fhandlers%0D%0A%09if%20(%20typeof%20types%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20(%20types-Object%2C%20selector%2C%20data%20)%0D%0A%09%09if%20(%20typeof%20selector%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20(%20types-Object%2C%20data%20)%0D%0A%09%09%09data%20%3D%20data%20%7C%7C%20selector%3B%0D%0A%09%09%09selector%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%09%09for%20(%20type%20in%20types%20)%20%7B%0D%0A%09%09%09on(%20elem%2C%20type%2C%20selector%2C%20data%2C%20types%5B%20type%20%5D%2C%20one%20)%3B%0D%0A%09%09%7D%0D%0A%09%09return%20elem%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20data%20%3D%3D%20null%20%26%26%20fn%20%3D%3D%20null%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20(%20types%2C%20fn%20)%0D%0A%09%09fn%20%3D%20selector%3B%0D%0A%09%09data%20%3D%20selector%20%3D%20undefined%3B%0D%0A%09%7D%20else%20if%20(%20fn%20%3D%3D%20null%20)%20%7B%0D%0A%09%09if%20(%20typeof%20selector%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20(%20types%2C%20selector%2C%20fn%20)%0D%0A%09%09%09fn%20%3D%20data%3B%0D%0A%09%09%09data%20%3D%20undefined%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20(%20types%2C%20data%2C%20fn%20)%0D%0A%09%09%09fn%20%3D%20data%3B%0D%0A%09%09%09data%20%3D%20selector%3B%0D%0A%09%09%09selector%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%09if%20(%20fn%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09fn%20%3D%20returnFalse%3B%0D%0A%09%7D%20else%20if%20(%20!fn%20)%20%7B%0D%0A%09%09return%20elem%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20one%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09origFn%20%3D%20fn%3B%0D%0A%09%09fn%20%3D%20function(%20event%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Can%20use%20an%20empty%20set%2C%20since%20event%20contains%20the%20info%0D%0A%09%09%09jQuery().off(%20event%20)%3B%0D%0A%09%09%09return%20origFn.apply(%20this%2C%20arguments%20)%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Use%20same%20guid%20so%20caller%20can%20remove%20using%20origFn%0D%0A%09%09fn.guid%20%3D%20origFn.guid%20%7C%7C%20(%20origFn.guid%20%3D%20jQuery.guid%2B%2B%20)%3B%0D%0A%09%7D%0D%0A%09return%20elem.each(%20function()%20%7B%0D%0A%09%09jQuery.event.add(%20this%2C%20types%2C%20fn%2C%20data%2C%20selector%20)%3B%0D%0A%09%7D%20)%3B%0D%0A%7D%0D%0A%0D%0A%2F*%0D%0A%20*%20Helper%20functions%20for%20managing%20events%20--%20not%20part%20of%20the%20public%20interface.%0D%0A%20*%20Props%20to%20Dean%20Edwards'%20addEvent%20library%20for%20many%20of%20the%20ideas.%0D%0A%20*%2F%0D%0AjQuery.event%20%3D%20%7B%0D%0A%0D%0A%09global%3A%20%7B%7D%2C%0D%0A%0D%0A%09add%3A%20function(%20elem%2C%20types%2C%20handler%2C%20data%2C%20selector%20)%20%7B%0D%0A%0D%0A%09%09var%20handleObjIn%2C%20eventHandle%2C%20tmp%2C%0D%0A%09%09%09events%2C%20t%2C%20handleObj%2C%0D%0A%09%09%09special%2C%20handlers%2C%20type%2C%20namespaces%2C%20origType%2C%0D%0A%09%09%09elemData%20%3D%20dataPriv.get(%20elem%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Don't%20attach%20events%20to%20noData%20or%20text%2Fcomment%20nodes%20(but%20allow%20plain%20objects)%0D%0A%09%09if%20(%20!elemData%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Caller%20can%20pass%20in%20an%20object%20of%20custom%20data%20in%20lieu%20of%20the%20handler%0D%0A%09%09if%20(%20handler.handler%20)%20%7B%0D%0A%09%09%09handleObjIn%20%3D%20handler%3B%0D%0A%09%09%09handler%20%3D%20handleObjIn.handler%3B%0D%0A%09%09%09selector%20%3D%20handleObjIn.selector%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Ensure%20that%20invalid%20selectors%20throw%20exceptions%20at%20attach%20time%0D%0A%09%09%2F%2F%20Evaluate%20against%20documentElement%20in%20case%20elem%20is%20a%20non-element%20node%20(e.g.%2C%20document)%0D%0A%09%09if%20(%20selector%20)%20%7B%0D%0A%09%09%09jQuery.find.matchesSelector(%20documentElement%2C%20selector%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Make%20sure%20that%20the%20handler%20has%20a%20unique%20ID%2C%20used%20to%20find%2Fremove%20it%20later%0D%0A%09%09if%20(%20!handler.guid%20)%20%7B%0D%0A%09%09%09handler.guid%20%3D%20jQuery.guid%2B%2B%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Init%20the%20element's%20event%20structure%20and%20main%20handler%2C%20if%20this%20is%20the%20first%0D%0A%09%09if%20(%20!(%20events%20%3D%20elemData.events%20)%20)%20%7B%0D%0A%09%09%09events%20%3D%20elemData.events%20%3D%20%7B%7D%3B%0D%0A%09%09%7D%0D%0A%09%09if%20(%20!(%20eventHandle%20%3D%20elemData.handle%20)%20)%20%7B%0D%0A%09%09%09eventHandle%20%3D%20elemData.handle%20%3D%20function(%20e%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Discard%20the%20second%20event%20of%20a%20jQuery.event.trigger()%20and%0D%0A%09%09%09%09%2F%2F%20when%20an%20event%20is%20called%20after%20a%20page%20has%20unloaded%0D%0A%09%09%09%09return%20typeof%20jQuery%20!%3D%3D%20%22undefined%22%20%26%26%20jQuery.event.triggered%20!%3D%3D%20e.type%20%3F%0D%0A%09%09%09%09%09jQuery.event.dispatch.apply(%20elem%2C%20arguments%20)%20%3A%20undefined%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Handle%20multiple%20events%20separated%20by%20a%20space%0D%0A%09%09types%20%3D%20(%20types%20%7C%7C%20%22%22%20).match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%20%22%22%20%5D%3B%0D%0A%09%09t%20%3D%20types.length%3B%0D%0A%09%09while%20(%20t--%20)%20%7B%0D%0A%09%09%09tmp%20%3D%20rtypenamespace.exec(%20types%5B%20t%20%5D%20)%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%09type%20%3D%20origType%20%3D%20tmp%5B%201%20%5D%3B%0D%0A%09%09%09namespaces%20%3D%20(%20tmp%5B%202%20%5D%20%7C%7C%20%22%22%20).split(%20%22.%22%20).sort()%3B%0D%0A%0D%0A%09%09%09%2F%2F%20There%20*must*%20be%20a%20type%2C%20no%20attaching%20namespace-only%20handlers%0D%0A%09%09%09if%20(%20!type%20)%20%7B%0D%0A%09%09%09%09continue%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20If%20event%20changes%20its%20type%2C%20use%20the%20special%20event%20handlers%20for%20the%20changed%20type%0D%0A%09%09%09special%20%3D%20jQuery.event.special%5B%20type%20%5D%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20selector%20defined%2C%20determine%20special%20event%20api%20type%2C%20otherwise%20given%20type%0D%0A%09%09%09type%20%3D%20(%20selector%20%3F%20special.delegateType%20%3A%20special.bindType%20)%20%7C%7C%20type%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Update%20special%20based%20on%20newly%20reset%20type%0D%0A%09%09%09special%20%3D%20jQuery.event.special%5B%20type%20%5D%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20handleObj%20is%20passed%20to%20all%20event%20handlers%0D%0A%09%09%09handleObj%20%3D%20jQuery.extend(%20%7B%0D%0A%09%09%09%09type%3A%20type%2C%0D%0A%09%09%09%09origType%3A%20origType%2C%0D%0A%09%09%09%09data%3A%20data%2C%0D%0A%09%09%09%09handler%3A%20handler%2C%0D%0A%09%09%09%09guid%3A%20handler.guid%2C%0D%0A%09%09%09%09selector%3A%20selector%2C%0D%0A%09%09%09%09needsContext%3A%20selector%20%26%26%20jQuery.expr.match.needsContext.test(%20selector%20)%2C%0D%0A%09%09%09%09namespace%3A%20namespaces.join(%20%22.%22%20)%0D%0A%09%09%09%7D%2C%20handleObjIn%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Init%20the%20event%20handler%20queue%20if%20we're%20the%20first%0D%0A%09%09%09if%20(%20!(%20handlers%20%3D%20events%5B%20type%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09handlers%20%3D%20events%5B%20type%20%5D%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09handlers.delegateCount%20%3D%200%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Only%20use%20addEventListener%20if%20the%20special%20events%20handler%20returns%20false%0D%0A%09%09%09%09if%20(%20!special.setup%20%7C%7C%0D%0A%09%09%09%09%09special.setup.call(%20elem%2C%20data%2C%20namespaces%2C%20eventHandle%20)%20%3D%3D%3D%20false%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09if%20(%20elem.addEventListener%20)%20%7B%0D%0A%09%09%09%09%09%09elem.addEventListener(%20type%2C%20eventHandle%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20special.add%20)%20%7B%0D%0A%09%09%09%09special.add.call(%20elem%2C%20handleObj%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20!handleObj.handler.guid%20)%20%7B%0D%0A%09%09%09%09%09handleObj.handler.guid%20%3D%20handler.guid%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Add%20to%20the%20element's%20handler%20list%2C%20delegates%20in%20front%0D%0A%09%09%09if%20(%20selector%20)%20%7B%0D%0A%09%09%09%09handlers.splice(%20handlers.delegateCount%2B%2B%2C%200%2C%20handleObj%20)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09handlers.push(%20handleObj%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Keep%20track%20of%20which%20events%20have%20ever%20been%20used%2C%20for%20event%20optimization%0D%0A%09%09%09jQuery.event.global%5B%20type%20%5D%20%3D%20true%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Detach%20an%20event%20or%20set%20of%20events%20from%20an%20element%0D%0A%09remove%3A%20function(%20elem%2C%20types%2C%20handler%2C%20selector%2C%20mappedTypes%20)%20%7B%0D%0A%0D%0A%09%09var%20j%2C%20origCount%2C%20tmp%2C%0D%0A%09%09%09events%2C%20t%2C%20handleObj%2C%0D%0A%09%09%09special%2C%20handlers%2C%20type%2C%20namespaces%2C%20origType%2C%0D%0A%09%09%09elemData%20%3D%20dataPriv.hasData(%20elem%20)%20%26%26%20dataPriv.get(%20elem%20)%3B%0D%0A%0D%0A%09%09if%20(%20!elemData%20%7C%7C%20!(%20events%20%3D%20elemData.events%20)%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Once%20for%20each%20type.namespace%20in%20types%3B%20type%20may%20be%20omitted%0D%0A%09%09types%20%3D%20(%20types%20%7C%7C%20%22%22%20).match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%20%22%22%20%5D%3B%0D%0A%09%09t%20%3D%20types.length%3B%0D%0A%09%09while%20(%20t--%20)%20%7B%0D%0A%09%09%09tmp%20%3D%20rtypenamespace.exec(%20types%5B%20t%20%5D%20)%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%09type%20%3D%20origType%20%3D%20tmp%5B%201%20%5D%3B%0D%0A%09%09%09namespaces%20%3D%20(%20tmp%5B%202%20%5D%20%7C%7C%20%22%22%20).split(%20%22.%22%20).sort()%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Unbind%20all%20events%20(on%20this%20namespace%2C%20if%20provided)%20for%20the%20element%0D%0A%09%09%09if%20(%20!type%20)%20%7B%0D%0A%09%09%09%09for%20(%20type%20in%20events%20)%20%7B%0D%0A%09%09%09%09%09jQuery.event.remove(%20elem%2C%20type%20%2B%20types%5B%20t%20%5D%2C%20handler%2C%20selector%2C%20true%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09continue%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09special%20%3D%20jQuery.event.special%5B%20type%20%5D%20%7C%7C%20%7B%7D%3B%0D%0A%09%09%09type%20%3D%20(%20selector%20%3F%20special.delegateType%20%3A%20special.bindType%20)%20%7C%7C%20type%3B%0D%0A%09%09%09handlers%20%3D%20events%5B%20type%20%5D%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%09tmp%20%3D%20tmp%5B%202%20%5D%20%26%26%0D%0A%09%09%09%09new%20RegExp(%20%22(%5E%7C%5C%5C.)%22%20%2B%20namespaces.join(%20%22%5C%5C.(%3F%3A.*%5C%5C.%7C)%22%20)%20%2B%20%22(%5C%5C.%7C%24)%22%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Remove%20matching%20events%0D%0A%09%09%09origCount%20%3D%20j%20%3D%20handlers.length%3B%0D%0A%09%09%09while%20(%20j--%20)%20%7B%0D%0A%09%09%09%09handleObj%20%3D%20handlers%5B%20j%20%5D%3B%0D%0A%0D%0A%09%09%09%09if%20(%20(%20mappedTypes%20%7C%7C%20origType%20%3D%3D%3D%20handleObj.origType%20)%20%26%26%0D%0A%09%09%09%09%09(%20!handler%20%7C%7C%20handler.guid%20%3D%3D%3D%20handleObj.guid%20)%20%26%26%0D%0A%09%09%09%09%09(%20!tmp%20%7C%7C%20tmp.test(%20handleObj.namespace%20)%20)%20%26%26%0D%0A%09%09%09%09%09(%20!selector%20%7C%7C%20selector%20%3D%3D%3D%20handleObj.selector%20%7C%7C%0D%0A%09%09%09%09%09%09selector%20%3D%3D%3D%20%22**%22%20%26%26%20handleObj.selector%20)%20)%20%7B%0D%0A%09%09%09%09%09handlers.splice(%20j%2C%201%20)%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20handleObj.selector%20)%20%7B%0D%0A%09%09%09%09%09%09handlers.delegateCount--%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(%20special.remove%20)%20%7B%0D%0A%09%09%09%09%09%09special.remove.call(%20elem%2C%20handleObj%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Remove%20generic%20event%20handler%20if%20we%20removed%20something%20and%20no%20more%20handlers%20exist%0D%0A%09%09%09%2F%2F%20(avoids%20potential%20for%20endless%20recursion%20during%20removal%20of%20special%20event%20handlers)%0D%0A%09%09%09if%20(%20origCount%20%26%26%20!handlers.length%20)%20%7B%0D%0A%09%09%09%09if%20(%20!special.teardown%20%7C%7C%0D%0A%09%09%09%09%09special.teardown.call(%20elem%2C%20namespaces%2C%20elemData.handle%20)%20%3D%3D%3D%20false%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09jQuery.removeEvent(%20elem%2C%20type%2C%20elemData.handle%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09delete%20events%5B%20type%20%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Remove%20data%20and%20the%20expando%20if%20it's%20no%20longer%20used%0D%0A%09%09if%20(%20jQuery.isEmptyObject(%20events%20)%20)%20%7B%0D%0A%09%09%09dataPriv.remove(%20elem%2C%20%22handle%20events%22%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09dispatch%3A%20function(%20nativeEvent%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Make%20a%20writable%20jQuery.Event%20from%20the%20native%20event%20object%0D%0A%09%09var%20event%20%3D%20jQuery.event.fix(%20nativeEvent%20)%3B%0D%0A%0D%0A%09%09var%20i%2C%20j%2C%20ret%2C%20matched%2C%20handleObj%2C%20handlerQueue%2C%0D%0A%09%09%09args%20%3D%20new%20Array(%20arguments.length%20)%2C%0D%0A%09%09%09handlers%20%3D%20(%20dataPriv.get(%20this%2C%20%22events%22%20)%20%7C%7C%20%7B%7D%20)%5B%20event.type%20%5D%20%7C%7C%20%5B%5D%2C%0D%0A%09%09%09special%20%3D%20jQuery.event.special%5B%20event.type%20%5D%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Use%20the%20fix-ed%20jQuery.Event%20rather%20than%20the%20(read-only)%20native%20event%0D%0A%09%09args%5B%200%20%5D%20%3D%20event%3B%0D%0A%0D%0A%09%09for%20(%20i%20%3D%201%3B%20i%20%3C%20arguments.length%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09args%5B%20i%20%5D%20%3D%20arguments%5B%20i%20%5D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09event.delegateTarget%20%3D%20this%3B%0D%0A%0D%0A%09%09%2F%2F%20Call%20the%20preDispatch%20hook%20for%20the%20mapped%20type%2C%20and%20let%20it%20bail%20if%20desired%0D%0A%09%09if%20(%20special.preDispatch%20%26%26%20special.preDispatch.call(%20this%2C%20event%20)%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Determine%20handlers%0D%0A%09%09handlerQueue%20%3D%20jQuery.event.handlers.call(%20this%2C%20event%2C%20handlers%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Run%20delegates%20first%3B%20they%20may%20want%20to%20stop%20propagation%20beneath%20us%0D%0A%09%09i%20%3D%200%3B%0D%0A%09%09while%20(%20(%20matched%20%3D%20handlerQueue%5B%20i%2B%2B%20%5D%20)%20%26%26%20!event.isPropagationStopped()%20)%20%7B%0D%0A%09%09%09event.currentTarget%20%3D%20matched.elem%3B%0D%0A%0D%0A%09%09%09j%20%3D%200%3B%0D%0A%09%09%09while%20(%20(%20handleObj%20%3D%20matched.handlers%5B%20j%2B%2B%20%5D%20)%20%26%26%0D%0A%09%09%09%09!event.isImmediatePropagationStopped()%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20the%20event%20is%20namespaced%2C%20then%20each%20handler%20is%20only%20invoked%20if%20it%20is%0D%0A%09%09%09%09%2F%2F%20specially%20universal%20or%20its%20namespaces%20are%20a%20superset%20of%20the%20event's.%0D%0A%09%09%09%09if%20(%20!event.rnamespace%20%7C%7C%20handleObj.namespace%20%3D%3D%3D%20false%20%7C%7C%0D%0A%09%09%09%09%09event.rnamespace.test(%20handleObj.namespace%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09event.handleObj%20%3D%20handleObj%3B%0D%0A%09%09%09%09%09event.data%20%3D%20handleObj.data%3B%0D%0A%0D%0A%09%09%09%09%09ret%20%3D%20(%20(%20jQuery.event.special%5B%20handleObj.origType%20%5D%20%7C%7C%20%7B%7D%20).handle%20%7C%7C%0D%0A%09%09%09%09%09%09handleObj.handler%20).apply(%20matched.elem%2C%20args%20)%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20ret%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20(%20event.result%20%3D%20ret%20)%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09%09%09%09%09event.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09event.stopPropagation()%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Call%20the%20postDispatch%20hook%20for%20the%20mapped%20type%0D%0A%09%09if%20(%20special.postDispatch%20)%20%7B%0D%0A%09%09%09special.postDispatch.call(%20this%2C%20event%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20event.result%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09handlers%3A%20function(%20event%2C%20handlers%20)%20%7B%0D%0A%09%09var%20i%2C%20handleObj%2C%20sel%2C%20matchedHandlers%2C%20matchedSelectors%2C%0D%0A%09%09%09handlerQueue%20%3D%20%5B%5D%2C%0D%0A%09%09%09delegateCount%20%3D%20handlers.delegateCount%2C%0D%0A%09%09%09cur%20%3D%20event.target%3B%0D%0A%0D%0A%09%09%2F%2F%20Find%20delegate%20handlers%0D%0A%09%09if%20(%20delegateCount%20%26%26%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%0D%0A%09%09%09%2F%2F%20Black-hole%20SVG%20%3Cuse%3E%20instance%20trees%20(trac-13180)%0D%0A%09%09%09cur.nodeType%20%26%26%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20Firefox%20%3C%3D42%0D%0A%09%09%09%2F%2F%20Suppress%20spec-violating%20clicks%20indicating%20a%20non-primary%20pointer%20button%20(trac-3861)%0D%0A%09%09%09%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2FDOM-Level-3-Events%2F%23event-type-click%0D%0A%09%09%09%2F%2F%20Support%3A%20IE%2011%20only%0D%0A%09%09%09%2F%2F%20...but%20not%20arrow%20key%20%22clicks%22%20of%20radio%20inputs%2C%20which%20can%20have%20%60button%60%20-1%20(gh-2343)%0D%0A%09%09%09!(%20event.type%20%3D%3D%3D%20%22click%22%20%26%26%20event.button%20%3E%3D%201%20)%20)%20%7B%0D%0A%0D%0A%09%09%09for%20(%20%3B%20cur%20!%3D%3D%20this%3B%20cur%20%3D%20cur.parentNode%20%7C%7C%20this%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Don't%20check%20non-elements%20(%2313208)%0D%0A%09%09%09%09%2F%2F%20Don't%20process%20clicks%20on%20disabled%20elements%20(%236911%2C%20%238165%2C%20%2311382%2C%20%2311764)%0D%0A%09%09%09%09if%20(%20cur.nodeType%20%3D%3D%3D%201%20%26%26%20!(%20event.type%20%3D%3D%3D%20%22click%22%20%26%26%20cur.disabled%20%3D%3D%3D%20true%20)%20)%20%7B%0D%0A%09%09%09%09%09matchedHandlers%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09matchedSelectors%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09%09for%20(%20i%20%3D%200%3B%20i%20%3C%20delegateCount%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09%09handleObj%20%3D%20handlers%5B%20i%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Don't%20conflict%20with%20Object.prototype%20properties%20(%2313203)%0D%0A%09%09%09%09%09%09sel%20%3D%20handleObj.selector%20%2B%20%22%20%22%3B%0D%0A%0D%0A%09%09%09%09%09%09if%20(%20matchedSelectors%5B%20sel%20%5D%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09%09%09%09matchedSelectors%5B%20sel%20%5D%20%3D%20handleObj.needsContext%20%3F%0D%0A%09%09%09%09%09%09%09%09jQuery(%20sel%2C%20this%20).index(%20cur%20)%20%3E%20-1%20%3A%0D%0A%09%09%09%09%09%09%09%09jQuery.find(%20sel%2C%20this%2C%20null%2C%20%5B%20cur%20%5D%20).length%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if%20(%20matchedSelectors%5B%20sel%20%5D%20)%20%7B%0D%0A%09%09%09%09%09%09%09matchedHandlers.push(%20handleObj%20)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(%20matchedHandlers.length%20)%20%7B%0D%0A%09%09%09%09%09%09handlerQueue.push(%20%7B%20elem%3A%20cur%2C%20handlers%3A%20matchedHandlers%20%7D%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Add%20the%20remaining%20(directly-bound)%20handlers%0D%0A%09%09cur%20%3D%20this%3B%0D%0A%09%09if%20(%20delegateCount%20%3C%20handlers.length%20)%20%7B%0D%0A%09%09%09handlerQueue.push(%20%7B%20elem%3A%20cur%2C%20handlers%3A%20handlers.slice(%20delegateCount%20)%20%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20handlerQueue%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09addProp%3A%20function(%20name%2C%20hook%20)%20%7B%0D%0A%09%09Object.defineProperty(%20jQuery.Event.prototype%2C%20name%2C%20%7B%0D%0A%09%09%09enumerable%3A%20true%2C%0D%0A%09%09%09configurable%3A%20true%2C%0D%0A%0D%0A%09%09%09get%3A%20isFunction(%20hook%20)%20%3F%0D%0A%09%09%09%09function()%20%7B%0D%0A%09%09%09%09%09if%20(%20this.originalEvent%20)%20%7B%0D%0A%09%09%09%09%09%09%09return%20hook(%20this.originalEvent%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%20%3A%0D%0A%09%09%09%09function()%20%7B%0D%0A%09%09%09%09%09if%20(%20this.originalEvent%20)%20%7B%0D%0A%09%09%09%09%09%09%09return%20this.originalEvent%5B%20name%20%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09set%3A%20function(%20value%20)%20%7B%0D%0A%09%09%09%09Object.defineProperty(%20this%2C%20name%2C%20%7B%0D%0A%09%09%09%09%09enumerable%3A%20true%2C%0D%0A%09%09%09%09%09configurable%3A%20true%2C%0D%0A%09%09%09%09%09writable%3A%20true%2C%0D%0A%09%09%09%09%09value%3A%20value%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09fix%3A%20function(%20originalEvent%20)%20%7B%0D%0A%09%09return%20originalEvent%5B%20jQuery.expando%20%5D%20%3F%0D%0A%09%09%09originalEvent%20%3A%0D%0A%09%09%09new%20jQuery.Event(%20originalEvent%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09special%3A%20%7B%0D%0A%09%09load%3A%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Prevent%20triggered%20image.load%20events%20from%20bubbling%20to%20window.load%0D%0A%09%09%09noBubble%3A%20true%0D%0A%09%09%7D%2C%0D%0A%09%09click%3A%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Utilize%20native%20event%20to%20ensure%20correct%20state%20for%20checkable%20inputs%0D%0A%09%09%09setup%3A%20function(%20data%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20For%20mutual%20compressibility%20with%20_default%2C%20replace%20%60this%60%20access%20with%20a%20local%20var.%0D%0A%09%09%09%09%2F%2F%20%60%7C%7C%20data%60%20is%20dead%20code%20meant%20only%20to%20preserve%20the%20variable%20through%20minification.%0D%0A%09%09%09%09var%20el%20%3D%20this%20%7C%7C%20data%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Claim%20the%20first%20handler%0D%0A%09%09%09%09if%20(%20rcheckableType.test(%20el.type%20)%20%26%26%0D%0A%09%09%09%09%09el.click%20%26%26%20nodeName(%20el%2C%20%22input%22%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20dataPriv.set(%20el%2C%20%22click%22%2C%20...%20)%0D%0A%09%09%09%09%09leverageNative(%20el%2C%20%22click%22%2C%20returnTrue%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Return%20false%20to%20allow%20normal%20processing%20in%20the%20caller%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09trigger%3A%20function(%20data%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20For%20mutual%20compressibility%20with%20_default%2C%20replace%20%60this%60%20access%20with%20a%20local%20var.%0D%0A%09%09%09%09%2F%2F%20%60%7C%7C%20data%60%20is%20dead%20code%20meant%20only%20to%20preserve%20the%20variable%20through%20minification.%0D%0A%09%09%09%09var%20el%20%3D%20this%20%7C%7C%20data%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Force%20setup%20before%20triggering%20a%20click%0D%0A%09%09%09%09if%20(%20rcheckableType.test(%20el.type%20)%20%26%26%0D%0A%09%09%09%09%09el.click%20%26%26%20nodeName(%20el%2C%20%22input%22%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09leverageNative(%20el%2C%20%22click%22%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Return%20non-false%20to%20allow%20normal%20event-path%20propagation%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20For%20cross-browser%20consistency%2C%20suppress%20native%20.click()%20on%20links%0D%0A%09%09%09%2F%2F%20Also%20prevent%20it%20if%20we're%20currently%20inside%20a%20leveraged%20native-event%20stack%0D%0A%09%09%09_default%3A%20function(%20event%20)%20%7B%0D%0A%09%09%09%09var%20target%20%3D%20event.target%3B%0D%0A%09%09%09%09return%20rcheckableType.test(%20target.type%20)%20%26%26%0D%0A%09%09%09%09%09target.click%20%26%26%20nodeName(%20target%2C%20%22input%22%20)%20%26%26%0D%0A%09%09%09%09%09dataPriv.get(%20target%2C%20%22click%22%20)%20%7C%7C%0D%0A%09%09%09%09%09nodeName(%20target%2C%20%22a%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09beforeunload%3A%20%7B%0D%0A%09%09%09postDispatch%3A%20function(%20event%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20Firefox%2020%2B%0D%0A%09%09%09%09%2F%2F%20Firefox%20doesn't%20alert%20if%20the%20returnValue%20field%20is%20not%20set.%0D%0A%09%09%09%09if%20(%20event.result%20!%3D%3D%20undefined%20%26%26%20event.originalEvent%20)%20%7B%0D%0A%09%09%09%09%09event.originalEvent.returnValue%20%3D%20event.result%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Ensure%20the%20presence%20of%20an%20event%20listener%20that%20handles%20manually-triggered%0D%0A%2F%2F%20synthetic%20events%20by%20interrupting%20progress%20until%20reinvoked%20in%20response%20to%0D%0A%2F%2F%20*native*%20events%20that%20it%20fires%20directly%2C%20ensuring%20that%20state%20changes%20have%0D%0A%2F%2F%20already%20occurred%20before%20other%20listeners%20are%20invoked.%0D%0Afunction%20leverageNative(%20el%2C%20type%2C%20expectSync%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Missing%20expectSync%20indicates%20a%20trigger%20call%2C%20which%20must%20force%20setup%20through%20jQuery.event.add%0D%0A%09if%20(%20!expectSync%20)%20%7B%0D%0A%09%09if%20(%20dataPriv.get(%20el%2C%20type%20)%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09jQuery.event.add(%20el%2C%20type%2C%20returnTrue%20)%3B%0D%0A%09%09%7D%0D%0A%09%09return%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Register%20the%20controller%20as%20a%20special%20universal%20handler%20for%20all%20event%20namespaces%0D%0A%09dataPriv.set(%20el%2C%20type%2C%20false%20)%3B%0D%0A%09jQuery.event.add(%20el%2C%20type%2C%20%7B%0D%0A%09%09namespace%3A%20false%2C%0D%0A%09%09handler%3A%20function(%20event%20)%20%7B%0D%0A%09%09%09var%20notAsync%2C%20result%2C%0D%0A%09%09%09%09saved%20%3D%20dataPriv.get(%20this%2C%20type%20)%3B%0D%0A%0D%0A%09%09%09if%20(%20(%20event.isTrigger%20%26%201%20)%20%26%26%20this%5B%20type%20%5D%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Interrupt%20processing%20of%20the%20outer%20synthetic%20.trigger()ed%20event%0D%0A%09%09%09%09%2F%2F%20Saved%20data%20should%20be%20false%20in%20such%20cases%2C%20but%20might%20be%20a%20leftover%20capture%20object%0D%0A%09%09%09%09%2F%2F%20from%20an%20async%20native%20handler%20(gh-4350)%0D%0A%09%09%09%09if%20(%20!saved.length%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Store%20arguments%20for%20use%20when%20handling%20the%20inner%20native%20event%0D%0A%09%09%09%09%09%2F%2F%20There%20will%20always%20be%20at%20least%20one%20argument%20(an%20event%20object)%2C%20so%20this%20array%0D%0A%09%09%09%09%09%2F%2F%20will%20not%20be%20confused%20with%20a%20leftover%20capture%20object.%0D%0A%09%09%09%09%09saved%20%3D%20slice.call(%20arguments%20)%3B%0D%0A%09%09%09%09%09dataPriv.set(%20this%2C%20type%2C%20saved%20)%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Trigger%20the%20native%20event%20and%20capture%20its%20result%0D%0A%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%2B%0D%0A%09%09%09%09%09%2F%2F%20focus()%20and%20blur()%20are%20asynchronous%0D%0A%09%09%09%09%09notAsync%20%3D%20expectSync(%20this%2C%20type%20)%3B%0D%0A%09%09%09%09%09this%5B%20type%20%5D()%3B%0D%0A%09%09%09%09%09result%20%3D%20dataPriv.get(%20this%2C%20type%20)%3B%0D%0A%09%09%09%09%09if%20(%20saved%20!%3D%3D%20result%20%7C%7C%20notAsync%20)%20%7B%0D%0A%09%09%09%09%09%09dataPriv.set(%20this%2C%20type%2C%20false%20)%3B%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09result%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(%20saved%20!%3D%3D%20result%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Cancel%20the%20outer%20synthetic%20event%0D%0A%09%09%09%09%09%09event.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09event.preventDefault()%3B%0D%0A%09%09%09%09%09%09return%20result.value%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20this%20is%20an%20inner%20synthetic%20event%20for%20an%20event%20with%20a%20bubbling%20surrogate%0D%0A%09%09%09%09%2F%2F%20(focus%20or%20blur)%2C%20assume%20that%20the%20surrogate%20already%20propagated%20from%20triggering%20the%0D%0A%09%09%09%09%2F%2F%20native%20event%20and%20prevent%20that%20from%20happening%20again%20here.%0D%0A%09%09%09%09%2F%2F%20This%20technically%20gets%20the%20ordering%20wrong%20w.r.t.%20to%20%60.trigger()%60%20(in%20which%20the%0D%0A%09%09%09%09%2F%2F%20bubbling%20surrogate%20propagates%20*after*%20the%20non-bubbling%20base)%2C%20but%20that%20seems%0D%0A%09%09%09%09%2F%2F%20less%20bad%20than%20duplication.%0D%0A%09%09%09%09%7D%20else%20if%20(%20(%20jQuery.event.special%5B%20type%20%5D%20%7C%7C%20%7B%7D%20).delegateType%20)%20%7B%0D%0A%09%09%09%09%09event.stopPropagation()%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20If%20this%20is%20a%20native%20event%20triggered%20above%2C%20everything%20is%20now%20in%20order%0D%0A%09%09%09%2F%2F%20Fire%20an%20inner%20synthetic%20event%20with%20the%20original%20arguments%0D%0A%09%09%09%7D%20else%20if%20(%20saved.length%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20...and%20capture%20the%20result%0D%0A%09%09%09%09dataPriv.set(%20this%2C%20type%2C%20%7B%0D%0A%09%09%09%09%09value%3A%20jQuery.event.trigger(%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%2B%0D%0A%09%09%09%09%09%09%2F%2F%20Extend%20with%20the%20prototype%20to%20reset%20the%20above%20stopImmediatePropagation()%0D%0A%09%09%09%09%09%09jQuery.extend(%20saved%5B%200%20%5D%2C%20jQuery.Event.prototype%20)%2C%0D%0A%09%09%09%09%09%09saved.slice(%201%20)%2C%0D%0A%09%09%09%09%09%09this%0D%0A%09%09%09%09%09)%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Abort%20handling%20of%20the%20native%20event%0D%0A%09%09%09%09event.stopImmediatePropagation()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%20)%3B%0D%0A%7D%0D%0A%0D%0AjQuery.removeEvent%20%3D%20function(%20elem%2C%20type%2C%20handle%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20This%20%22if%22%20is%20needed%20for%20plain%20objects%0D%0A%09if%20(%20elem.removeEventListener%20)%20%7B%0D%0A%09%09elem.removeEventListener(%20type%2C%20handle%20)%3B%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0AjQuery.Event%20%3D%20function(%20src%2C%20props%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Allow%20instantiation%20without%20the%20'new'%20keyword%0D%0A%09if%20(%20!(%20this%20instanceof%20jQuery.Event%20)%20)%20%7B%0D%0A%09%09return%20new%20jQuery.Event(%20src%2C%20props%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Event%20object%0D%0A%09if%20(%20src%20%26%26%20src.type%20)%20%7B%0D%0A%09%09this.originalEvent%20%3D%20src%3B%0D%0A%09%09this.type%20%3D%20src.type%3B%0D%0A%0D%0A%09%09%2F%2F%20Events%20bubbling%20up%20the%20document%20may%20have%20been%20marked%20as%20prevented%0D%0A%09%09%2F%2F%20by%20a%20handler%20lower%20down%20the%20tree%3B%20reflect%20the%20correct%20value.%0D%0A%09%09this.isDefaultPrevented%20%3D%20src.defaultPrevented%20%7C%7C%0D%0A%09%09%09%09src.defaultPrevented%20%3D%3D%3D%20undefined%20%26%26%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20Android%20%3C%3D2.3%20only%0D%0A%09%09%09%09src.returnValue%20%3D%3D%3D%20false%20%3F%0D%0A%09%09%09returnTrue%20%3A%0D%0A%09%09%09returnFalse%3B%0D%0A%0D%0A%09%09%2F%2F%20Create%20target%20properties%0D%0A%09%09%2F%2F%20Support%3A%20Safari%20%3C%3D6%20-%207%20only%0D%0A%09%09%2F%2F%20Target%20should%20not%20be%20a%20text%20node%20(%23504%2C%20%2313143)%0D%0A%09%09this.target%20%3D%20(%20src.target%20%26%26%20src.target.nodeType%20%3D%3D%3D%203%20)%20%3F%0D%0A%09%09%09src.target.parentNode%20%3A%0D%0A%09%09%09src.target%3B%0D%0A%0D%0A%09%09this.currentTarget%20%3D%20src.currentTarget%3B%0D%0A%09%09this.relatedTarget%20%3D%20src.relatedTarget%3B%0D%0A%0D%0A%09%2F%2F%20Event%20type%0D%0A%09%7D%20else%20%7B%0D%0A%09%09this.type%20%3D%20src%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Put%20explicitly%20provided%20properties%20onto%20the%20event%20object%0D%0A%09if%20(%20props%20)%20%7B%0D%0A%09%09jQuery.extend(%20this%2C%20props%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Create%20a%20timestamp%20if%20incoming%20event%20doesn't%20have%20one%0D%0A%09this.timeStamp%20%3D%20src%20%26%26%20src.timeStamp%20%7C%7C%20Date.now()%3B%0D%0A%0D%0A%09%2F%2F%20Mark%20it%20as%20fixed%0D%0A%09this%5B%20jQuery.expando%20%5D%20%3D%20true%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20jQuery.Event%20is%20based%20on%20DOM3%20Events%20as%20specified%20by%20the%20ECMAScript%20Language%20Binding%0D%0A%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2F2003%2FWD-DOM-Level-3-Events-20030331%2Fecma-script-binding.html%0D%0AjQuery.Event.prototype%20%3D%20%7B%0D%0A%09constructor%3A%20jQuery.Event%2C%0D%0A%09isDefaultPrevented%3A%20returnFalse%2C%0D%0A%09isPropagationStopped%3A%20returnFalse%2C%0D%0A%09isImmediatePropagationStopped%3A%20returnFalse%2C%0D%0A%09isSimulated%3A%20false%2C%0D%0A%0D%0A%09preventDefault%3A%20function()%20%7B%0D%0A%09%09var%20e%20%3D%20this.originalEvent%3B%0D%0A%0D%0A%09%09this.isDefaultPrevented%20%3D%20returnTrue%3B%0D%0A%0D%0A%09%09if%20(%20e%20%26%26%20!this.isSimulated%20)%20%7B%0D%0A%09%09%09e.preventDefault()%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%09stopPropagation%3A%20function()%20%7B%0D%0A%09%09var%20e%20%3D%20this.originalEvent%3B%0D%0A%0D%0A%09%09this.isPropagationStopped%20%3D%20returnTrue%3B%0D%0A%0D%0A%09%09if%20(%20e%20%26%26%20!this.isSimulated%20)%20%7B%0D%0A%09%09%09e.stopPropagation()%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%09stopImmediatePropagation%3A%20function()%20%7B%0D%0A%09%09var%20e%20%3D%20this.originalEvent%3B%0D%0A%0D%0A%09%09this.isImmediatePropagationStopped%20%3D%20returnTrue%3B%0D%0A%0D%0A%09%09if%20(%20e%20%26%26%20!this.isSimulated%20)%20%7B%0D%0A%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09this.stopPropagation()%3B%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Includes%20all%20common%20event%20props%20including%20KeyEvent%20and%20MouseEvent%20specific%20props%0D%0AjQuery.each(%20%7B%0D%0A%09altKey%3A%20true%2C%0D%0A%09bubbles%3A%20true%2C%0D%0A%09cancelable%3A%20true%2C%0D%0A%09changedTouches%3A%20true%2C%0D%0A%09ctrlKey%3A%20true%2C%0D%0A%09detail%3A%20true%2C%0D%0A%09eventPhase%3A%20true%2C%0D%0A%09metaKey%3A%20true%2C%0D%0A%09pageX%3A%20true%2C%0D%0A%09pageY%3A%20true%2C%0D%0A%09shiftKey%3A%20true%2C%0D%0A%09view%3A%20true%2C%0D%0A%09%22char%22%3A%20true%2C%0D%0A%09code%3A%20true%2C%0D%0A%09charCode%3A%20true%2C%0D%0A%09key%3A%20true%2C%0D%0A%09keyCode%3A%20true%2C%0D%0A%09button%3A%20true%2C%0D%0A%09buttons%3A%20true%2C%0D%0A%09clientX%3A%20true%2C%0D%0A%09clientY%3A%20true%2C%0D%0A%09offsetX%3A%20true%2C%0D%0A%09offsetY%3A%20true%2C%0D%0A%09pointerId%3A%20true%2C%0D%0A%09pointerType%3A%20true%2C%0D%0A%09screenX%3A%20true%2C%0D%0A%09screenY%3A%20true%2C%0D%0A%09targetTouches%3A%20true%2C%0D%0A%09toElement%3A%20true%2C%0D%0A%09touches%3A%20true%2C%0D%0A%0D%0A%09which%3A%20function(%20event%20)%20%7B%0D%0A%09%09var%20button%20%3D%20event.button%3B%0D%0A%0D%0A%09%09%2F%2F%20Add%20which%20for%20key%20events%0D%0A%09%09if%20(%20event.which%20%3D%3D%20null%20%26%26%20rkeyEvent.test(%20event.type%20)%20)%20%7B%0D%0A%09%09%09return%20event.charCode%20!%3D%20null%20%3F%20event.charCode%20%3A%20event.keyCode%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Add%20which%20for%20click%3A%201%20%3D%3D%3D%20left%3B%202%20%3D%3D%3D%20middle%3B%203%20%3D%3D%3D%20right%0D%0A%09%09if%20(%20!event.which%20%26%26%20button%20!%3D%3D%20undefined%20%26%26%20rmouseEvent.test(%20event.type%20)%20)%20%7B%0D%0A%09%09%09if%20(%20button%20%26%201%20)%20%7B%0D%0A%09%09%09%09return%201%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20button%20%26%202%20)%20%7B%0D%0A%09%09%09%09return%203%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20button%20%26%204%20)%20%7B%0D%0A%09%09%09%09return%202%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%200%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20event.which%3B%0D%0A%09%7D%0D%0A%7D%2C%20jQuery.event.addProp%20)%3B%0D%0A%0D%0AjQuery.each(%20%7B%20focus%3A%20%22focusin%22%2C%20blur%3A%20%22focusout%22%20%7D%2C%20function(%20type%2C%20delegateType%20)%20%7B%0D%0A%09jQuery.event.special%5B%20type%20%5D%20%3D%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Utilize%20native%20event%20if%20possible%20so%20blur%2Ffocus%20sequence%20is%20correct%0D%0A%09%09setup%3A%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Claim%20the%20first%20handler%0D%0A%09%09%09%2F%2F%20dataPriv.set(%20this%2C%20%22focus%22%2C%20...%20)%0D%0A%09%09%09%2F%2F%20dataPriv.set(%20this%2C%20%22blur%22%2C%20...%20)%0D%0A%09%09%09leverageNative(%20this%2C%20type%2C%20expectSync%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Return%20false%20to%20allow%20normal%20processing%20in%20the%20caller%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%2C%0D%0A%09%09trigger%3A%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Force%20setup%20before%20trigger%0D%0A%09%09%09leverageNative(%20this%2C%20type%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Return%20non-false%20to%20allow%20normal%20event-path%20propagation%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09delegateType%3A%20delegateType%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Create%20mouseenter%2Fleave%20events%20using%20mouseover%2Fout%20and%20event-time%20checks%0D%0A%2F%2F%20so%20that%20event%20delegation%20works%20in%20jQuery.%0D%0A%2F%2F%20Do%20the%20same%20for%20pointerenter%2Fpointerleave%20and%20pointerover%2Fpointerout%0D%0A%2F%2F%0D%0A%2F%2F%20Support%3A%20Safari%207%20only%0D%0A%2F%2F%20Safari%20sends%20mouseenter%20too%20often%3B%20see%3A%0D%0A%2F%2F%20https%3A%2F%2Fbugs.chromium.org%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D470258%0D%0A%2F%2F%20for%20the%20description%20of%20the%20bug%20(it%20existed%20in%20older%20Chrome%20versions%20as%20well).%0D%0AjQuery.each(%20%7B%0D%0A%09mouseenter%3A%20%22mouseover%22%2C%0D%0A%09mouseleave%3A%20%22mouseout%22%2C%0D%0A%09pointerenter%3A%20%22pointerover%22%2C%0D%0A%09pointerleave%3A%20%22pointerout%22%0D%0A%7D%2C%20function(%20orig%2C%20fix%20)%20%7B%0D%0A%09jQuery.event.special%5B%20orig%20%5D%20%3D%20%7B%0D%0A%09%09delegateType%3A%20fix%2C%0D%0A%09%09bindType%3A%20fix%2C%0D%0A%0D%0A%09%09handle%3A%20function(%20event%20)%20%7B%0D%0A%09%09%09var%20ret%2C%0D%0A%09%09%09%09target%20%3D%20this%2C%0D%0A%09%09%09%09related%20%3D%20event.relatedTarget%2C%0D%0A%09%09%09%09handleObj%20%3D%20event.handleObj%3B%0D%0A%0D%0A%09%09%09%2F%2F%20For%20mouseenter%2Fleave%20call%20the%20handler%20if%20related%20is%20outside%20the%20target.%0D%0A%09%09%09%2F%2F%20NB%3A%20No%20relatedTarget%20if%20the%20mouse%20left%2Fentered%20the%20browser%20window%0D%0A%09%09%09if%20(%20!related%20%7C%7C%20(%20related%20!%3D%3D%20target%20%26%26%20!jQuery.contains(%20target%2C%20related%20)%20)%20)%20%7B%0D%0A%09%09%09%09event.type%20%3D%20handleObj.origType%3B%0D%0A%09%09%09%09ret%20%3D%20handleObj.handler.apply(%20this%2C%20arguments%20)%3B%0D%0A%09%09%09%09event.type%20%3D%20fix%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20ret%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%0D%0A%09on%3A%20function(%20types%2C%20selector%2C%20data%2C%20fn%20)%20%7B%0D%0A%09%09return%20on(%20this%2C%20types%2C%20selector%2C%20data%2C%20fn%20)%3B%0D%0A%09%7D%2C%0D%0A%09one%3A%20function(%20types%2C%20selector%2C%20data%2C%20fn%20)%20%7B%0D%0A%09%09return%20on(%20this%2C%20types%2C%20selector%2C%20data%2C%20fn%2C%201%20)%3B%0D%0A%09%7D%2C%0D%0A%09off%3A%20function(%20types%2C%20selector%2C%20fn%20)%20%7B%0D%0A%09%09var%20handleObj%2C%20type%3B%0D%0A%09%09if%20(%20types%20%26%26%20types.preventDefault%20%26%26%20types.handleObj%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20(%20event%20)%20%20dispatched%20jQuery.Event%0D%0A%09%09%09handleObj%20%3D%20types.handleObj%3B%0D%0A%09%09%09jQuery(%20types.delegateTarget%20).off(%0D%0A%09%09%09%09handleObj.namespace%20%3F%0D%0A%09%09%09%09%09handleObj.origType%20%2B%20%22.%22%20%2B%20handleObj.namespace%20%3A%0D%0A%09%09%09%09%09handleObj.origType%2C%0D%0A%09%09%09%09handleObj.selector%2C%0D%0A%09%09%09%09handleObj.handler%0D%0A%09%09%09)%3B%0D%0A%09%09%09return%20this%3B%0D%0A%09%09%7D%0D%0A%09%09if%20(%20typeof%20types%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20(%20types-object%20%5B%2C%20selector%5D%20)%0D%0A%09%09%09for%20(%20type%20in%20types%20)%20%7B%0D%0A%09%09%09%09this.off(%20type%2C%20selector%2C%20types%5B%20type%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20this%3B%0D%0A%09%09%7D%0D%0A%09%09if%20(%20selector%20%3D%3D%3D%20false%20%7C%7C%20typeof%20selector%20%3D%3D%3D%20%22function%22%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20(%20types%20%5B%2C%20fn%5D%20)%0D%0A%09%09%09fn%20%3D%20selector%3B%0D%0A%09%09%09selector%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%09%09if%20(%20fn%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09fn%20%3D%20returnFalse%3B%0D%0A%09%09%7D%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09jQuery.event.remove(%20this%2C%20types%2C%20fn%2C%20selector%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0Avar%0D%0A%0D%0A%09%2F*%20eslint-disable%20max-len%20*%2F%0D%0A%0D%0A%09%2F%2F%20See%20https%3A%2F%2Fgithub.com%2Feslint%2Feslint%2Fissues%2F3229%0D%0A%09rxhtmlTag%20%3D%20%2F%3C(%3F!area%7Cbr%7Ccol%7Cembed%7Chr%7Cimg%7Cinput%7Clink%7Cmeta%7Cparam)((%5Ba-z%5D%5B%5E%5C%2F%5C0%3E%5Cx20%5Ct%5Cr%5Cn%5Cf%5D*)%5B%5E%3E%5D*)%5C%2F%3E%2Fgi%2C%0D%0A%0D%0A%09%2F*%20eslint-enable%20*%2F%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D10%20-%2011%2C%20Edge%2012%20-%2013%20only%0D%0A%09%2F%2F%20In%20IE%2FEdge%20using%20regex%20groups%20here%20causes%20severe%20slowdowns.%0D%0A%09%2F%2F%20See%20https%3A%2F%2Fconnect.microsoft.com%2FIE%2Ffeedback%2Fdetails%2F1736512%2F%0D%0A%09rnoInnerhtml%20%3D%20%2F%3Cscript%7C%3Cstyle%7C%3Clink%2Fi%2C%0D%0A%0D%0A%09%2F%2F%20checked%3D%22checked%22%20or%20checked%0D%0A%09rchecked%20%3D%20%2Fchecked%5Cs*(%3F%3A%5B%5E%3D%5D%7C%3D%5Cs*.checked.)%2Fi%2C%0D%0A%09rcleanScript%20%3D%20%2F%5E%5Cs*%3C!(%3F%3A%5C%5BCDATA%5C%5B%7C--)%7C(%3F%3A%5C%5D%5C%5D%7C--)%3E%5Cs*%24%2Fg%3B%0D%0A%0D%0A%2F%2F%20Prefer%20a%20tbody%20over%20its%20parent%20table%20for%20containing%20new%20rows%0D%0Afunction%20manipulationTarget(%20elem%2C%20content%20)%20%7B%0D%0A%09if%20(%20nodeName(%20elem%2C%20%22table%22%20)%20%26%26%0D%0A%09%09nodeName(%20content.nodeType%20!%3D%3D%2011%20%3F%20content%20%3A%20content.firstChild%2C%20%22tr%22%20)%20)%20%7B%0D%0A%0D%0A%09%09return%20jQuery(%20elem%20).children(%20%22tbody%22%20)%5B%200%20%5D%20%7C%7C%20elem%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20elem%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Replace%2Frestore%20the%20type%20attribute%20of%20script%20elements%20for%20safe%20DOM%20manipulation%0D%0Afunction%20disableScript(%20elem%20)%20%7B%0D%0A%09elem.type%20%3D%20(%20elem.getAttribute(%20%22type%22%20)%20!%3D%3D%20null%20)%20%2B%20%22%2F%22%20%2B%20elem.type%3B%0D%0A%09return%20elem%3B%0D%0A%7D%0D%0Afunction%20restoreScript(%20elem%20)%20%7B%0D%0A%09if%20(%20(%20elem.type%20%7C%7C%20%22%22%20).slice(%200%2C%205%20)%20%3D%3D%3D%20%22true%2F%22%20)%20%7B%0D%0A%09%09elem.type%20%3D%20elem.type.slice(%205%20)%3B%0D%0A%09%7D%20else%20%7B%0D%0A%09%09elem.removeAttribute(%20%22type%22%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20elem%3B%0D%0A%7D%0D%0A%0D%0Afunction%20cloneCopyEvent(%20src%2C%20dest%20)%20%7B%0D%0A%09var%20i%2C%20l%2C%20type%2C%20pdataOld%2C%20pdataCur%2C%20udataOld%2C%20udataCur%2C%20events%3B%0D%0A%0D%0A%09if%20(%20dest.nodeType%20!%3D%3D%201%20)%20%7B%0D%0A%09%09return%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%201.%20Copy%20private%20data%3A%20events%2C%20handlers%2C%20etc.%0D%0A%09if%20(%20dataPriv.hasData(%20src%20)%20)%20%7B%0D%0A%09%09pdataOld%20%3D%20dataPriv.access(%20src%20)%3B%0D%0A%09%09pdataCur%20%3D%20dataPriv.set(%20dest%2C%20pdataOld%20)%3B%0D%0A%09%09events%20%3D%20pdataOld.events%3B%0D%0A%0D%0A%09%09if%20(%20events%20)%20%7B%0D%0A%09%09%09delete%20pdataCur.handle%3B%0D%0A%09%09%09pdataCur.events%20%3D%20%7B%7D%3B%0D%0A%0D%0A%09%09%09for%20(%20type%20in%20events%20)%20%7B%0D%0A%09%09%09%09for%20(%20i%20%3D%200%2C%20l%20%3D%20events%5B%20type%20%5D.length%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09jQuery.event.add(%20dest%2C%20type%2C%20events%5B%20type%20%5D%5B%20i%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%202.%20Copy%20user%20data%0D%0A%09if%20(%20dataUser.hasData(%20src%20)%20)%20%7B%0D%0A%09%09udataOld%20%3D%20dataUser.access(%20src%20)%3B%0D%0A%09%09udataCur%20%3D%20jQuery.extend(%20%7B%7D%2C%20udataOld%20)%3B%0D%0A%0D%0A%09%09dataUser.set(%20dest%2C%20udataCur%20)%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Fix%20IE%20bugs%2C%20see%20support%20tests%0D%0Afunction%20fixInput(%20src%2C%20dest%20)%20%7B%0D%0A%09var%20nodeName%20%3D%20dest.nodeName.toLowerCase()%3B%0D%0A%0D%0A%09%2F%2F%20Fails%20to%20persist%20the%20checked%20state%20of%20a%20cloned%20checkbox%20or%20radio%20button.%0D%0A%09if%20(%20nodeName%20%3D%3D%3D%20%22input%22%20%26%26%20rcheckableType.test(%20src.type%20)%20)%20%7B%0D%0A%09%09dest.checked%20%3D%20src.checked%3B%0D%0A%0D%0A%09%2F%2F%20Fails%20to%20return%20the%20selected%20option%20to%20the%20default%20selected%20state%20when%20cloning%20options%0D%0A%09%7D%20else%20if%20(%20nodeName%20%3D%3D%3D%20%22input%22%20%7C%7C%20nodeName%20%3D%3D%3D%20%22textarea%22%20)%20%7B%0D%0A%09%09dest.defaultValue%20%3D%20src.defaultValue%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20domManip(%20collection%2C%20args%2C%20callback%2C%20ignored%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Flatten%20any%20nested%20arrays%0D%0A%09args%20%3D%20concat.apply(%20%5B%5D%2C%20args%20)%3B%0D%0A%0D%0A%09var%20fragment%2C%20first%2C%20scripts%2C%20hasScripts%2C%20node%2C%20doc%2C%0D%0A%09%09i%20%3D%200%2C%0D%0A%09%09l%20%3D%20collection.length%2C%0D%0A%09%09iNoClone%20%3D%20l%20-%201%2C%0D%0A%09%09value%20%3D%20args%5B%200%20%5D%2C%0D%0A%09%09valueIsFunction%20%3D%20isFunction(%20value%20)%3B%0D%0A%0D%0A%09%2F%2F%20We%20can't%20cloneNode%20fragments%20that%20contain%20checked%2C%20in%20WebKit%0D%0A%09if%20(%20valueIsFunction%20%7C%7C%0D%0A%09%09%09(%20l%20%3E%201%20%26%26%20typeof%20value%20%3D%3D%3D%20%22string%22%20%26%26%0D%0A%09%09%09%09!support.checkClone%20%26%26%20rchecked.test(%20value%20)%20)%20)%20%7B%0D%0A%09%09return%20collection.each(%20function(%20index%20)%20%7B%0D%0A%09%09%09var%20self%20%3D%20collection.eq(%20index%20)%3B%0D%0A%09%09%09if%20(%20valueIsFunction%20)%20%7B%0D%0A%09%09%09%09args%5B%200%20%5D%20%3D%20value.call(%20this%2C%20index%2C%20self.html()%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09domManip(%20self%2C%20args%2C%20callback%2C%20ignored%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20l%20)%20%7B%0D%0A%09%09fragment%20%3D%20buildFragment(%20args%2C%20collection%5B%200%20%5D.ownerDocument%2C%20false%2C%20collection%2C%20ignored%20)%3B%0D%0A%09%09first%20%3D%20fragment.firstChild%3B%0D%0A%0D%0A%09%09if%20(%20fragment.childNodes.length%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09%09fragment%20%3D%20first%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Require%20either%20new%20content%20or%20an%20interest%20in%20ignored%20elements%20to%20invoke%20the%20callback%0D%0A%09%09if%20(%20first%20%7C%7C%20ignored%20)%20%7B%0D%0A%09%09%09scripts%20%3D%20jQuery.map(%20getAll(%20fragment%2C%20%22script%22%20)%2C%20disableScript%20)%3B%0D%0A%09%09%09hasScripts%20%3D%20scripts.length%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Use%20the%20original%20fragment%20for%20the%20last%20item%0D%0A%09%09%09%2F%2F%20instead%20of%20the%20first%20because%20it%20can%20end%20up%0D%0A%09%09%09%2F%2F%20being%20emptied%20incorrectly%20in%20certain%20situations%20(%238070).%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09node%20%3D%20fragment%3B%0D%0A%0D%0A%09%09%09%09if%20(%20i%20!%3D%3D%20iNoClone%20)%20%7B%0D%0A%09%09%09%09%09node%20%3D%20jQuery.clone(%20node%2C%20true%2C%20true%20)%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Keep%20references%20to%20cloned%20scripts%20for%20later%20restoration%0D%0A%09%09%09%09%09if%20(%20hasScripts%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Support%3A%20Android%20%3C%3D4.0%20only%2C%20PhantomJS%201%20only%0D%0A%09%09%09%09%09%09%2F%2F%20push.apply(_%2C%20arraylike)%20throws%20on%20ancient%20WebKit%0D%0A%09%09%09%09%09%09jQuery.merge(%20scripts%2C%20getAll(%20node%2C%20%22script%22%20)%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09callback.call(%20collection%5B%20i%20%5D%2C%20node%2C%20i%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20hasScripts%20)%20%7B%0D%0A%09%09%09%09doc%20%3D%20scripts%5B%20scripts.length%20-%201%20%5D.ownerDocument%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Reenable%20scripts%0D%0A%09%09%09%09jQuery.map(%20scripts%2C%20restoreScript%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Evaluate%20executable%20scripts%20on%20first%20document%20insertion%0D%0A%09%09%09%09for%20(%20i%20%3D%200%3B%20i%20%3C%20hasScripts%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09node%20%3D%20scripts%5B%20i%20%5D%3B%0D%0A%09%09%09%09%09if%20(%20rscriptType.test(%20node.type%20%7C%7C%20%22%22%20)%20%26%26%0D%0A%09%09%09%09%09%09!dataPriv.access(%20node%2C%20%22globalEval%22%20)%20%26%26%0D%0A%09%09%09%09%09%09jQuery.contains(%20doc%2C%20node%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09if%20(%20node.src%20%26%26%20(%20node.type%20%7C%7C%20%22%22%20).toLowerCase()%20%20!%3D%3D%20%22module%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Optional%20AJAX%20dependency%2C%20but%20won't%20run%20scripts%20if%20not%20present%0D%0A%09%09%09%09%09%09%09if%20(%20jQuery._evalUrl%20%26%26%20!node.noModule%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09jQuery._evalUrl(%20node.src%2C%20%7B%0D%0A%09%09%09%09%09%09%09%09%09nonce%3A%20node.nonce%20%7C%7C%20node.getAttribute(%20%22nonce%22%20)%0D%0A%09%09%09%09%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09DOMEval(%20node.textContent.replace(%20rcleanScript%2C%20%22%22%20)%2C%20node%2C%20doc%20)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20collection%3B%0D%0A%7D%0D%0A%0D%0Afunction%20remove(%20elem%2C%20selector%2C%20keepData%20)%20%7B%0D%0A%09var%20node%2C%0D%0A%09%09nodes%20%3D%20selector%20%3F%20jQuery.filter(%20selector%2C%20elem%20)%20%3A%20elem%2C%0D%0A%09%09i%20%3D%200%3B%0D%0A%0D%0A%09for%20(%20%3B%20(%20node%20%3D%20nodes%5B%20i%20%5D%20)%20!%3D%20null%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09if%20(%20!keepData%20%26%26%20node.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09%09jQuery.cleanData(%20getAll(%20node%20)%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20node.parentNode%20)%20%7B%0D%0A%09%09%09if%20(%20keepData%20%26%26%20isAttached(%20node%20)%20)%20%7B%0D%0A%09%09%09%09setGlobalEval(%20getAll(%20node%2C%20%22script%22%20)%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09node.parentNode.removeChild(%20node%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20elem%3B%0D%0A%7D%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%09htmlPrefilter%3A%20function(%20html%20)%20%7B%0D%0A%09%09return%20html.replace(%20rxhtmlTag%2C%20%22%3C%241%3E%3C%2F%242%3E%22%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09clone%3A%20function(%20elem%2C%20dataAndEvents%2C%20deepDataAndEvents%20)%20%7B%0D%0A%09%09var%20i%2C%20l%2C%20srcElements%2C%20destElements%2C%0D%0A%09%09%09clone%20%3D%20elem.cloneNode(%20true%20)%2C%0D%0A%09%09%09inPage%20%3D%20isAttached(%20elem%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Fix%20IE%20cloning%20issues%0D%0A%09%09if%20(%20!support.noCloneChecked%20%26%26%20(%20elem.nodeType%20%3D%3D%3D%201%20%7C%7C%20elem.nodeType%20%3D%3D%3D%2011%20)%20%26%26%0D%0A%09%09%09%09!jQuery.isXMLDoc(%20elem%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20We%20eschew%20Sizzle%20here%20for%20performance%20reasons%3A%20https%3A%2F%2Fjsperf.com%2Fgetall-vs-sizzle%2F2%0D%0A%09%09%09destElements%20%3D%20getAll(%20clone%20)%3B%0D%0A%09%09%09srcElements%20%3D%20getAll(%20elem%20)%3B%0D%0A%0D%0A%09%09%09for%20(%20i%20%3D%200%2C%20l%20%3D%20srcElements.length%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09fixInput(%20srcElements%5B%20i%20%5D%2C%20destElements%5B%20i%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Copy%20the%20events%20from%20the%20original%20to%20the%20clone%0D%0A%09%09if%20(%20dataAndEvents%20)%20%7B%0D%0A%09%09%09if%20(%20deepDataAndEvents%20)%20%7B%0D%0A%09%09%09%09srcElements%20%3D%20srcElements%20%7C%7C%20getAll(%20elem%20)%3B%0D%0A%09%09%09%09destElements%20%3D%20destElements%20%7C%7C%20getAll(%20clone%20)%3B%0D%0A%0D%0A%09%09%09%09for%20(%20i%20%3D%200%2C%20l%20%3D%20srcElements.length%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09cloneCopyEvent(%20srcElements%5B%20i%20%5D%2C%20destElements%5B%20i%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09cloneCopyEvent(%20elem%2C%20clone%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Preserve%20script%20evaluation%20history%0D%0A%09%09destElements%20%3D%20getAll(%20clone%2C%20%22script%22%20)%3B%0D%0A%09%09if%20(%20destElements.length%20%3E%200%20)%20%7B%0D%0A%09%09%09setGlobalEval(%20destElements%2C%20!inPage%20%26%26%20getAll(%20elem%2C%20%22script%22%20)%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Return%20the%20cloned%20set%0D%0A%09%09return%20clone%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09cleanData%3A%20function(%20elems%20)%20%7B%0D%0A%09%09var%20data%2C%20elem%2C%20type%2C%0D%0A%09%09%09special%20%3D%20jQuery.event.special%2C%0D%0A%09%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%09for%20(%20%3B%20(%20elem%20%3D%20elems%5B%20i%20%5D%20)%20!%3D%3D%20undefined%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09if%20(%20acceptData(%20elem%20)%20)%20%7B%0D%0A%09%09%09%09if%20(%20(%20data%20%3D%20elem%5B%20dataPriv.expando%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20data.events%20)%20%7B%0D%0A%09%09%09%09%09%09for%20(%20type%20in%20data.events%20)%20%7B%0D%0A%09%09%09%09%09%09%09if%20(%20special%5B%20type%20%5D%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09jQuery.event.remove(%20elem%2C%20type%20)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20This%20is%20a%20shortcut%20to%20avoid%20jQuery.event.remove's%20overhead%0D%0A%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%09jQuery.removeEvent(%20elem%2C%20type%2C%20data.handle%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Support%3A%20Chrome%20%3C%3D35%20-%2045%2B%0D%0A%09%09%09%09%09%2F%2F%20Assign%20undefined%20instead%20of%20using%20delete%2C%20see%20Data%23remove%0D%0A%09%09%09%09%09elem%5B%20dataPriv.expando%20%5D%20%3D%20undefined%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(%20elem%5B%20dataUser.expando%20%5D%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Support%3A%20Chrome%20%3C%3D35%20-%2045%2B%0D%0A%09%09%09%09%09%2F%2F%20Assign%20undefined%20instead%20of%20using%20delete%2C%20see%20Data%23remove%0D%0A%09%09%09%09%09elem%5B%20dataUser.expando%20%5D%20%3D%20undefined%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09detach%3A%20function(%20selector%20)%20%7B%0D%0A%09%09return%20remove(%20this%2C%20selector%2C%20true%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09remove%3A%20function(%20selector%20)%20%7B%0D%0A%09%09return%20remove(%20this%2C%20selector%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09text%3A%20function(%20value%20)%20%7B%0D%0A%09%09return%20access(%20this%2C%20function(%20value%20)%20%7B%0D%0A%09%09%09return%20value%20%3D%3D%3D%20undefined%20%3F%0D%0A%09%09%09%09jQuery.text(%20this%20)%20%3A%0D%0A%09%09%09%09this.empty().each(%20function()%20%7B%0D%0A%09%09%09%09%09if%20(%20this.nodeType%20%3D%3D%3D%201%20%7C%7C%20this.nodeType%20%3D%3D%3D%2011%20%7C%7C%20this.nodeType%20%3D%3D%3D%209%20)%20%7B%0D%0A%09%09%09%09%09%09this.textContent%20%3D%20value%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%09%09%7D%2C%20null%2C%20value%2C%20arguments.length%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09append%3A%20function()%20%7B%0D%0A%09%09return%20domManip(%20this%2C%20arguments%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09if%20(%20this.nodeType%20%3D%3D%3D%201%20%7C%7C%20this.nodeType%20%3D%3D%3D%2011%20%7C%7C%20this.nodeType%20%3D%3D%3D%209%20)%20%7B%0D%0A%09%09%09%09var%20target%20%3D%20manipulationTarget(%20this%2C%20elem%20)%3B%0D%0A%09%09%09%09target.appendChild(%20elem%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09prepend%3A%20function()%20%7B%0D%0A%09%09return%20domManip(%20this%2C%20arguments%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09if%20(%20this.nodeType%20%3D%3D%3D%201%20%7C%7C%20this.nodeType%20%3D%3D%3D%2011%20%7C%7C%20this.nodeType%20%3D%3D%3D%209%20)%20%7B%0D%0A%09%09%09%09var%20target%20%3D%20manipulationTarget(%20this%2C%20elem%20)%3B%0D%0A%09%09%09%09target.insertBefore(%20elem%2C%20target.firstChild%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09before%3A%20function()%20%7B%0D%0A%09%09return%20domManip(%20this%2C%20arguments%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09if%20(%20this.parentNode%20)%20%7B%0D%0A%09%09%09%09this.parentNode.insertBefore(%20elem%2C%20this%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09after%3A%20function()%20%7B%0D%0A%09%09return%20domManip(%20this%2C%20arguments%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09if%20(%20this.parentNode%20)%20%7B%0D%0A%09%09%09%09this.parentNode.insertBefore(%20elem%2C%20this.nextSibling%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09empty%3A%20function()%20%7B%0D%0A%09%09var%20elem%2C%0D%0A%09%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%09for%20(%20%3B%20(%20elem%20%3D%20this%5B%20i%20%5D%20)%20!%3D%20null%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Prevent%20memory%20leaks%0D%0A%09%09%09%09jQuery.cleanData(%20getAll(%20elem%2C%20false%20)%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Remove%20any%20remaining%20nodes%0D%0A%09%09%09%09elem.textContent%20%3D%20%22%22%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09clone%3A%20function(%20dataAndEvents%2C%20deepDataAndEvents%20)%20%7B%0D%0A%09%09dataAndEvents%20%3D%20dataAndEvents%20%3D%3D%20null%20%3F%20false%20%3A%20dataAndEvents%3B%0D%0A%09%09deepDataAndEvents%20%3D%20deepDataAndEvents%20%3D%3D%20null%20%3F%20dataAndEvents%20%3A%20deepDataAndEvents%3B%0D%0A%0D%0A%09%09return%20this.map(%20function()%20%7B%0D%0A%09%09%09return%20jQuery.clone(%20this%2C%20dataAndEvents%2C%20deepDataAndEvents%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09html%3A%20function(%20value%20)%20%7B%0D%0A%09%09return%20access(%20this%2C%20function(%20value%20)%20%7B%0D%0A%09%09%09var%20elem%20%3D%20this%5B%200%20%5D%20%7C%7C%20%7B%7D%2C%0D%0A%09%09%09%09i%20%3D%200%2C%0D%0A%09%09%09%09l%20%3D%20this.length%3B%0D%0A%0D%0A%09%09%09if%20(%20value%20%3D%3D%3D%20undefined%20%26%26%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09%09%09return%20elem.innerHTML%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20See%20if%20we%20can%20take%20a%20shortcut%20and%20just%20use%20innerHTML%0D%0A%09%09%09if%20(%20typeof%20value%20%3D%3D%3D%20%22string%22%20%26%26%20!rnoInnerhtml.test(%20value%20)%20%26%26%0D%0A%09%09%09%09!wrapMap%5B%20(%20rtagName.exec(%20value%20)%20%7C%7C%20%5B%20%22%22%2C%20%22%22%20%5D%20)%5B%201%20%5D.toLowerCase()%20%5D%20)%20%7B%0D%0A%0D%0A%09%09%09%09value%20%3D%20jQuery.htmlPrefilter(%20value%20)%3B%0D%0A%0D%0A%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09for%20(%20%3B%20i%20%3C%20l%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09%09elem%20%3D%20this%5B%20i%20%5D%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Remove%20element%20nodes%20and%20prevent%20memory%20leaks%0D%0A%09%09%09%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09%09%09%09%09%09jQuery.cleanData(%20getAll(%20elem%2C%20false%20)%20)%3B%0D%0A%09%09%09%09%09%09%09elem.innerHTML%20%3D%20value%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09elem%20%3D%200%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20using%20innerHTML%20throws%20an%20exception%2C%20use%20the%20fallback%20method%0D%0A%09%09%09%09%7D%20catch%20(%20e%20)%20%7B%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20elem%20)%20%7B%0D%0A%09%09%09%09this.empty().append(%20value%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%20null%2C%20value%2C%20arguments.length%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09replaceWith%3A%20function()%20%7B%0D%0A%09%09var%20ignored%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20Make%20the%20changes%2C%20replacing%20each%20non-ignored%20context%20element%20with%20the%20new%20content%0D%0A%09%09return%20domManip(%20this%2C%20arguments%2C%20function(%20elem%20)%20%7B%0D%0A%09%09%09var%20parent%20%3D%20this.parentNode%3B%0D%0A%0D%0A%09%09%09if%20(%20jQuery.inArray(%20this%2C%20ignored%20)%20%3C%200%20)%20%7B%0D%0A%09%09%09%09jQuery.cleanData(%20getAll(%20this%20)%20)%3B%0D%0A%09%09%09%09if%20(%20parent%20)%20%7B%0D%0A%09%09%09%09%09parent.replaceChild(%20elem%2C%20this%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Force%20callback%20invocation%0D%0A%09%09%7D%2C%20ignored%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.each(%20%7B%0D%0A%09appendTo%3A%20%22append%22%2C%0D%0A%09prependTo%3A%20%22prepend%22%2C%0D%0A%09insertBefore%3A%20%22before%22%2C%0D%0A%09insertAfter%3A%20%22after%22%2C%0D%0A%09replaceAll%3A%20%22replaceWith%22%0D%0A%7D%2C%20function(%20name%2C%20original%20)%20%7B%0D%0A%09jQuery.fn%5B%20name%20%5D%20%3D%20function(%20selector%20)%20%7B%0D%0A%09%09var%20elems%2C%0D%0A%09%09%09ret%20%3D%20%5B%5D%2C%0D%0A%09%09%09insert%20%3D%20jQuery(%20selector%20)%2C%0D%0A%09%09%09last%20%3D%20insert.length%20-%201%2C%0D%0A%09%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%09for%20(%20%3B%20i%20%3C%3D%20last%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09elems%20%3D%20i%20%3D%3D%3D%20last%20%3F%20this%20%3A%20this.clone(%20true%20)%3B%0D%0A%09%09%09jQuery(%20insert%5B%20i%20%5D%20)%5B%20original%20%5D(%20elems%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20Android%20%3C%3D4.0%20only%2C%20PhantomJS%201%20only%0D%0A%09%09%09%2F%2F%20.get()%20because%20push.apply(_%2C%20arraylike)%20throws%20on%20ancient%20WebKit%0D%0A%09%09%09push.apply(%20ret%2C%20elems.get()%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this.pushStack(%20ret%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0Avar%20rnumnonpx%20%3D%20new%20RegExp(%20%22%5E(%22%20%2B%20pnum%20%2B%20%22)(%3F!px)%5Ba-z%25%5D%2B%24%22%2C%20%22i%22%20)%3B%0D%0A%0D%0Avar%20getStyles%20%3D%20function(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%20%3C%3D11%20only%2C%20Firefox%20%3C%3D30%20(%2315098%2C%20%2314150)%0D%0A%09%09%2F%2F%20IE%20throws%20on%20elements%20created%20in%20popups%0D%0A%09%09%2F%2F%20FF%20meanwhile%20throws%20on%20frame%20elements%20through%20%22defaultView.getComputedStyle%22%0D%0A%09%09var%20view%20%3D%20elem.ownerDocument.defaultView%3B%0D%0A%0D%0A%09%09if%20(%20!view%20%7C%7C%20!view.opener%20)%20%7B%0D%0A%09%09%09view%20%3D%20window%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20view.getComputedStyle(%20elem%20)%3B%0D%0A%09%7D%3B%0D%0A%0D%0Avar%20rboxStyle%20%3D%20new%20RegExp(%20cssExpand.join(%20%22%7C%22%20)%2C%20%22i%22%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A(%20function()%20%7B%0D%0A%0D%0A%09%2F%2F%20Executing%20both%20pixelPosition%20%26%20boxSizingReliable%20tests%20require%20only%20one%20layout%0D%0A%09%2F%2F%20so%20they're%20executed%20at%20the%20same%20time%20to%20save%20the%20second%20computation.%0D%0A%09function%20computeStyleTests()%20%7B%0D%0A%0D%0A%09%09%2F%2F%20This%20is%20a%20singleton%2C%20we%20need%20to%20execute%20it%20only%20once%0D%0A%09%09if%20(%20!div%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09container.style.cssText%20%3D%20%22position%3Aabsolute%3Bleft%3A-11111px%3Bwidth%3A60px%3B%22%20%2B%0D%0A%09%09%09%22margin-top%3A1px%3Bpadding%3A0%3Bborder%3A0%22%3B%0D%0A%09%09div.style.cssText%20%3D%0D%0A%09%09%09%22position%3Arelative%3Bdisplay%3Ablock%3Bbox-sizing%3Aborder-box%3Boverflow%3Ascroll%3B%22%20%2B%0D%0A%09%09%09%22margin%3Aauto%3Bborder%3A1px%3Bpadding%3A1px%3B%22%20%2B%0D%0A%09%09%09%22width%3A60%25%3Btop%3A1%25%22%3B%0D%0A%09%09documentElement.appendChild(%20container%20).appendChild(%20div%20)%3B%0D%0A%0D%0A%09%09var%20divStyle%20%3D%20window.getComputedStyle(%20div%20)%3B%0D%0A%09%09pixelPositionVal%20%3D%20divStyle.top%20!%3D%3D%20%221%25%22%3B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20Android%204.0%20-%204.3%20only%2C%20Firefox%20%3C%3D3%20-%2044%0D%0A%09%09reliableMarginLeftVal%20%3D%20roundPixelMeasures(%20divStyle.marginLeft%20)%20%3D%3D%3D%2012%3B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20Android%204.0%20-%204.3%20only%2C%20Safari%20%3C%3D9.1%20-%2010.1%2C%20iOS%20%3C%3D7.0%20-%209.3%0D%0A%09%09%2F%2F%20Some%20styles%20come%20back%20with%20percentage%20values%2C%20even%20though%20they%20shouldn't%0D%0A%09%09div.style.right%20%3D%20%2260%25%22%3B%0D%0A%09%09pixelBoxStylesVal%20%3D%20roundPixelMeasures(%20divStyle.right%20)%20%3D%3D%3D%2036%3B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%209%20-%2011%20only%0D%0A%09%09%2F%2F%20Detect%20misreporting%20of%20content%20dimensions%20for%20box-sizing%3Aborder-box%20elements%0D%0A%09%09boxSizingReliableVal%20%3D%20roundPixelMeasures(%20divStyle.width%20)%20%3D%3D%3D%2036%3B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%209%20only%0D%0A%09%09%2F%2F%20Detect%20overflow%3Ascroll%20screwiness%20(gh-3699)%0D%0A%09%09%2F%2F%20Support%3A%20Chrome%20%3C%3D64%0D%0A%09%09%2F%2F%20Don't%20get%20tricked%20when%20zoom%20affects%20offsetWidth%20(gh-4029)%0D%0A%09%09div.style.position%20%3D%20%22absolute%22%3B%0D%0A%09%09scrollboxSizeVal%20%3D%20roundPixelMeasures(%20div.offsetWidth%20%2F%203%20)%20%3D%3D%3D%2012%3B%0D%0A%0D%0A%09%09documentElement.removeChild(%20container%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Nullify%20the%20div%20so%20it%20wouldn't%20be%20stored%20in%20the%20memory%20and%0D%0A%09%09%2F%2F%20it%20will%20also%20be%20a%20sign%20that%20checks%20already%20performed%0D%0A%09%09div%20%3D%20null%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20roundPixelMeasures(%20measure%20)%20%7B%0D%0A%09%09return%20Math.round(%20parseFloat(%20measure%20)%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09var%20pixelPositionVal%2C%20boxSizingReliableVal%2C%20scrollboxSizeVal%2C%20pixelBoxStylesVal%2C%0D%0A%09%09reliableMarginLeftVal%2C%0D%0A%09%09container%20%3D%20document.createElement(%20%22div%22%20)%2C%0D%0A%09%09div%20%3D%20document.createElement(%20%22div%22%20)%3B%0D%0A%0D%0A%09%2F%2F%20Finish%20early%20in%20limited%20(non-browser)%20environments%0D%0A%09if%20(%20!div.style%20)%20%7B%0D%0A%09%09return%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%20only%0D%0A%09%2F%2F%20Style%20of%20cloned%20element%20affects%20source%20element%20cloned%20(%238908)%0D%0A%09div.style.backgroundClip%20%3D%20%22content-box%22%3B%0D%0A%09div.cloneNode(%20true%20).style.backgroundClip%20%3D%20%22%22%3B%0D%0A%09support.clearCloneStyle%20%3D%20div.style.backgroundClip%20%3D%3D%3D%20%22content-box%22%3B%0D%0A%0D%0A%09jQuery.extend(%20support%2C%20%7B%0D%0A%09%09boxSizingReliable%3A%20function()%20%7B%0D%0A%09%09%09computeStyleTests()%3B%0D%0A%09%09%09return%20boxSizingReliableVal%3B%0D%0A%09%09%7D%2C%0D%0A%09%09pixelBoxStyles%3A%20function()%20%7B%0D%0A%09%09%09computeStyleTests()%3B%0D%0A%09%09%09return%20pixelBoxStylesVal%3B%0D%0A%09%09%7D%2C%0D%0A%09%09pixelPosition%3A%20function()%20%7B%0D%0A%09%09%09computeStyleTests()%3B%0D%0A%09%09%09return%20pixelPositionVal%3B%0D%0A%09%09%7D%2C%0D%0A%09%09reliableMarginLeft%3A%20function()%20%7B%0D%0A%09%09%09computeStyleTests()%3B%0D%0A%09%09%09return%20reliableMarginLeftVal%3B%0D%0A%09%09%7D%2C%0D%0A%09%09scrollboxSize%3A%20function()%20%7B%0D%0A%09%09%09computeStyleTests()%3B%0D%0A%09%09%09return%20scrollboxSizeVal%3B%0D%0A%09%09%7D%0D%0A%09%7D%20)%3B%0D%0A%7D%20)()%3B%0D%0A%0D%0A%0D%0Afunction%20curCSS(%20elem%2C%20name%2C%20computed%20)%20%7B%0D%0A%09var%20width%2C%20minWidth%2C%20maxWidth%2C%20ret%2C%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20Firefox%2051%2B%0D%0A%09%09%2F%2F%20Retrieving%20style%20before%20computed%20somehow%0D%0A%09%09%2F%2F%20fixes%20an%20issue%20with%20getting%20wrong%20values%0D%0A%09%09%2F%2F%20on%20detached%20elements%0D%0A%09%09style%20%3D%20elem.style%3B%0D%0A%0D%0A%09computed%20%3D%20computed%20%7C%7C%20getStyles(%20elem%20)%3B%0D%0A%0D%0A%09%2F%2F%20getPropertyValue%20is%20needed%20for%3A%0D%0A%09%2F%2F%20%20%20.css('filter')%20(IE%209%20only%2C%20%2312537)%0D%0A%09%2F%2F%20%20%20.css('--customProperty)%20(%233144)%0D%0A%09if%20(%20computed%20)%20%7B%0D%0A%09%09ret%20%3D%20computed.getPropertyValue(%20name%20)%20%7C%7C%20computed%5B%20name%20%5D%3B%0D%0A%0D%0A%09%09if%20(%20ret%20%3D%3D%3D%20%22%22%20%26%26%20!isAttached(%20elem%20)%20)%20%7B%0D%0A%09%09%09ret%20%3D%20jQuery.style(%20elem%2C%20name%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20A%20tribute%20to%20the%20%22awesome%20hack%20by%20Dean%20Edwards%22%0D%0A%09%09%2F%2F%20Android%20Browser%20returns%20percentage%20for%20some%20values%2C%0D%0A%09%09%2F%2F%20but%20width%20seems%20to%20be%20reliably%20pixels.%0D%0A%09%09%2F%2F%20This%20is%20against%20the%20CSSOM%20draft%20spec%3A%0D%0A%09%09%2F%2F%20https%3A%2F%2Fdrafts.csswg.org%2Fcssom%2F%23resolved-values%0D%0A%09%09if%20(%20!support.pixelBoxStyles()%20%26%26%20rnumnonpx.test(%20ret%20)%20%26%26%20rboxStyle.test(%20name%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Remember%20the%20original%20values%0D%0A%09%09%09width%20%3D%20style.width%3B%0D%0A%09%09%09minWidth%20%3D%20style.minWidth%3B%0D%0A%09%09%09maxWidth%20%3D%20style.maxWidth%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Put%20in%20the%20new%20values%20to%20get%20a%20computed%20value%20out%0D%0A%09%09%09style.minWidth%20%3D%20style.maxWidth%20%3D%20style.width%20%3D%20ret%3B%0D%0A%09%09%09ret%20%3D%20computed.width%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Revert%20the%20changed%20values%0D%0A%09%09%09style.width%20%3D%20width%3B%0D%0A%09%09%09style.minWidth%20%3D%20minWidth%3B%0D%0A%09%09%09style.maxWidth%20%3D%20maxWidth%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20ret%20!%3D%3D%20undefined%20%3F%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%20only%0D%0A%09%09%2F%2F%20IE%20returns%20zIndex%20value%20as%20an%20integer.%0D%0A%09%09ret%20%2B%20%22%22%20%3A%0D%0A%09%09ret%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20addGetHookIf(%20conditionFn%2C%20hookFn%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Define%20the%20hook%2C%20we'll%20check%20on%20the%20first%20run%20if%20it's%20really%20needed.%0D%0A%09return%20%7B%0D%0A%09%09get%3A%20function()%20%7B%0D%0A%09%09%09if%20(%20conditionFn()%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Hook%20not%20needed%20(or%20it's%20not%20possible%20to%20use%20it%20due%0D%0A%09%09%09%09%2F%2F%20to%20missing%20dependency)%2C%20remove%20it.%0D%0A%09%09%09%09delete%20this.get%3B%0D%0A%09%09%09%09return%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Hook%20needed%3B%20redefine%20it%20so%20that%20the%20support%20test%20is%20not%20executed%20again.%0D%0A%09%09%09return%20(%20this.get%20%3D%20hookFn%20).apply(%20this%2C%20arguments%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%20cssPrefixes%20%3D%20%5B%20%22Webkit%22%2C%20%22Moz%22%2C%20%22ms%22%20%5D%2C%0D%0A%09emptyStyle%20%3D%20document.createElement(%20%22div%22%20).style%2C%0D%0A%09vendorProps%20%3D%20%7B%7D%3B%0D%0A%0D%0A%2F%2F%20Return%20a%20vendor-prefixed%20property%20or%20undefined%0D%0Afunction%20vendorPropName(%20name%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Check%20for%20vendor%20prefixed%20names%0D%0A%09var%20capName%20%3D%20name%5B%200%20%5D.toUpperCase()%20%2B%20name.slice(%201%20)%2C%0D%0A%09%09i%20%3D%20cssPrefixes.length%3B%0D%0A%0D%0A%09while%20(%20i--%20)%20%7B%0D%0A%09%09name%20%3D%20cssPrefixes%5B%20i%20%5D%20%2B%20capName%3B%0D%0A%09%09if%20(%20name%20in%20emptyStyle%20)%20%7B%0D%0A%09%09%09return%20name%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Return%20a%20potentially-mapped%20jQuery.cssProps%20or%20vendor%20prefixed%20property%0D%0Afunction%20finalPropName(%20name%20)%20%7B%0D%0A%09var%20final%20%3D%20jQuery.cssProps%5B%20name%20%5D%20%7C%7C%20vendorProps%5B%20name%20%5D%3B%0D%0A%0D%0A%09if%20(%20final%20)%20%7B%0D%0A%09%09return%20final%3B%0D%0A%09%7D%0D%0A%09if%20(%20name%20in%20emptyStyle%20)%20%7B%0D%0A%09%09return%20name%3B%0D%0A%09%7D%0D%0A%09return%20vendorProps%5B%20name%20%5D%20%3D%20vendorPropName(%20name%20)%20%7C%7C%20name%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%0D%0A%0D%0A%09%2F%2F%20Swappable%20if%20display%20is%20none%20or%20starts%20with%20table%0D%0A%09%2F%2F%20except%20%22table%22%2C%20%22table-cell%22%2C%20or%20%22table-caption%22%0D%0A%09%2F%2F%20See%20here%20for%20display%20values%3A%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FCSS%2Fdisplay%0D%0A%09rdisplayswap%20%3D%20%2F%5E(none%7Ctable(%3F!-c%5Bea%5D).%2B)%2F%2C%0D%0A%09rcustomProp%20%3D%20%2F%5E--%2F%2C%0D%0A%09cssShow%20%3D%20%7B%20position%3A%20%22absolute%22%2C%20visibility%3A%20%22hidden%22%2C%20display%3A%20%22block%22%20%7D%2C%0D%0A%09cssNormalTransform%20%3D%20%7B%0D%0A%09%09letterSpacing%3A%20%220%22%2C%0D%0A%09%09fontWeight%3A%20%22400%22%0D%0A%09%7D%3B%0D%0A%0D%0Afunction%20setPositiveNumber(%20elem%2C%20value%2C%20subtract%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Any%20relative%20(%2B%2F-)%20values%20have%20already%20been%0D%0A%09%2F%2F%20normalized%20at%20this%20point%0D%0A%09var%20matches%20%3D%20rcssNum.exec(%20value%20)%3B%0D%0A%09return%20matches%20%3F%0D%0A%0D%0A%09%09%2F%2F%20Guard%20against%20undefined%20%22subtract%22%2C%20e.g.%2C%20when%20used%20as%20in%20cssHooks%0D%0A%09%09Math.max(%200%2C%20matches%5B%202%20%5D%20-%20(%20subtract%20%7C%7C%200%20)%20)%20%2B%20(%20matches%5B%203%20%5D%20%7C%7C%20%22px%22%20)%20%3A%0D%0A%09%09value%3B%0D%0A%7D%0D%0A%0D%0Afunction%20boxModelAdjustment(%20elem%2C%20dimension%2C%20box%2C%20isBorderBox%2C%20styles%2C%20computedVal%20)%20%7B%0D%0A%09var%20i%20%3D%20dimension%20%3D%3D%3D%20%22width%22%20%3F%201%20%3A%200%2C%0D%0A%09%09extra%20%3D%200%2C%0D%0A%09%09delta%20%3D%200%3B%0D%0A%0D%0A%09%2F%2F%20Adjustment%20may%20not%20be%20necessary%0D%0A%09if%20(%20box%20%3D%3D%3D%20(%20isBorderBox%20%3F%20%22border%22%20%3A%20%22content%22%20)%20)%20%7B%0D%0A%09%09return%200%3B%0D%0A%09%7D%0D%0A%0D%0A%09for%20(%20%3B%20i%20%3C%204%3B%20i%20%2B%3D%202%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Both%20box%20models%20exclude%20margin%0D%0A%09%09if%20(%20box%20%3D%3D%3D%20%22margin%22%20)%20%7B%0D%0A%09%09%09delta%20%2B%3D%20jQuery.css(%20elem%2C%20box%20%2B%20cssExpand%5B%20i%20%5D%2C%20true%2C%20styles%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20If%20we%20get%20here%20with%20a%20content-box%2C%20we're%20seeking%20%22padding%22%20or%20%22border%22%20or%20%22margin%22%0D%0A%09%09if%20(%20!isBorderBox%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Add%20padding%0D%0A%09%09%09delta%20%2B%3D%20jQuery.css(%20elem%2C%20%22padding%22%20%2B%20cssExpand%5B%20i%20%5D%2C%20true%2C%20styles%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20For%20%22border%22%20or%20%22margin%22%2C%20add%20border%0D%0A%09%09%09if%20(%20box%20!%3D%3D%20%22padding%22%20)%20%7B%0D%0A%09%09%09%09delta%20%2B%3D%20jQuery.css(%20elem%2C%20%22border%22%20%2B%20cssExpand%5B%20i%20%5D%20%2B%20%22Width%22%2C%20true%2C%20styles%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20But%20still%20keep%20track%20of%20it%20otherwise%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09extra%20%2B%3D%20jQuery.css(%20elem%2C%20%22border%22%20%2B%20cssExpand%5B%20i%20%5D%20%2B%20%22Width%22%2C%20true%2C%20styles%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20If%20we%20get%20here%20with%20a%20border-box%20(content%20%2B%20padding%20%2B%20border)%2C%20we're%20seeking%20%22content%22%20or%0D%0A%09%09%2F%2F%20%22padding%22%20or%20%22margin%22%0D%0A%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20For%20%22content%22%2C%20subtract%20padding%0D%0A%09%09%09if%20(%20box%20%3D%3D%3D%20%22content%22%20)%20%7B%0D%0A%09%09%09%09delta%20-%3D%20jQuery.css(%20elem%2C%20%22padding%22%20%2B%20cssExpand%5B%20i%20%5D%2C%20true%2C%20styles%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20For%20%22content%22%20or%20%22padding%22%2C%20subtract%20border%0D%0A%09%09%09if%20(%20box%20!%3D%3D%20%22margin%22%20)%20%7B%0D%0A%09%09%09%09delta%20-%3D%20jQuery.css(%20elem%2C%20%22border%22%20%2B%20cssExpand%5B%20i%20%5D%20%2B%20%22Width%22%2C%20true%2C%20styles%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Account%20for%20positive%20content-box%20scroll%20gutter%20when%20requested%20by%20providing%20computedVal%0D%0A%09if%20(%20!isBorderBox%20%26%26%20computedVal%20%3E%3D%200%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20offsetWidth%2FoffsetHeight%20is%20a%20rounded%20sum%20of%20content%2C%20padding%2C%20scroll%20gutter%2C%20and%20border%0D%0A%09%09%2F%2F%20Assuming%20integer%20scroll%20gutter%2C%20subtract%20the%20rest%20and%20round%20down%0D%0A%09%09delta%20%2B%3D%20Math.max(%200%2C%20Math.ceil(%0D%0A%09%09%09elem%5B%20%22offset%22%20%2B%20dimension%5B%200%20%5D.toUpperCase()%20%2B%20dimension.slice(%201%20)%20%5D%20-%0D%0A%09%09%09computedVal%20-%0D%0A%09%09%09delta%20-%0D%0A%09%09%09extra%20-%0D%0A%09%09%090.5%0D%0A%0D%0A%09%09%2F%2F%20If%20offsetWidth%2FoffsetHeight%20is%20unknown%2C%20then%20we%20can't%20determine%20content-box%20scroll%20gutter%0D%0A%09%09%2F%2F%20Use%20an%20explicit%20zero%20to%20avoid%20NaN%20(gh-3964)%0D%0A%09%09)%20)%20%7C%7C%200%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20delta%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getWidthOrHeight(%20elem%2C%20dimension%2C%20extra%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Start%20with%20computed%20style%0D%0A%09var%20styles%20%3D%20getStyles(%20elem%20)%2C%0D%0A%0D%0A%09%09%2F%2F%20To%20avoid%20forcing%20a%20reflow%2C%20only%20fetch%20boxSizing%20if%20we%20need%20it%20(gh-4322).%0D%0A%09%09%2F%2F%20Fake%20content-box%20until%20we%20know%20it's%20needed%20to%20know%20the%20true%20value.%0D%0A%09%09boxSizingNeeded%20%3D%20!support.boxSizingReliable()%20%7C%7C%20extra%2C%0D%0A%09%09isBorderBox%20%3D%20boxSizingNeeded%20%26%26%0D%0A%09%09%09jQuery.css(%20elem%2C%20%22boxSizing%22%2C%20false%2C%20styles%20)%20%3D%3D%3D%20%22border-box%22%2C%0D%0A%09%09valueIsBorderBox%20%3D%20isBorderBox%2C%0D%0A%0D%0A%09%09val%20%3D%20curCSS(%20elem%2C%20dimension%2C%20styles%20)%2C%0D%0A%09%09offsetProp%20%3D%20%22offset%22%20%2B%20dimension%5B%200%20%5D.toUpperCase()%20%2B%20dimension.slice(%201%20)%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Firefox%20%3C%3D54%0D%0A%09%2F%2F%20Return%20a%20confounding%20non-pixel%20value%20or%20feign%20ignorance%2C%20as%20appropriate.%0D%0A%09if%20(%20rnumnonpx.test(%20val%20)%20)%20%7B%0D%0A%09%09if%20(%20!extra%20)%20%7B%0D%0A%09%09%09return%20val%3B%0D%0A%09%09%7D%0D%0A%09%09val%20%3D%20%22auto%22%3B%0D%0A%09%7D%0D%0A%0D%0A%0D%0A%09%2F%2F%20Fall%20back%20to%20offsetWidth%2FoffsetHeight%20when%20value%20is%20%22auto%22%0D%0A%09%2F%2F%20This%20happens%20for%20inline%20elements%20with%20no%20explicit%20setting%20(gh-3571)%0D%0A%09%2F%2F%20Support%3A%20Android%20%3C%3D4.1%20-%204.3%20only%0D%0A%09%2F%2F%20Also%20use%20offsetWidth%2FoffsetHeight%20for%20misreported%20inline%20dimensions%20(gh-3602)%0D%0A%09%2F%2F%20Support%3A%20IE%209-11%20only%0D%0A%09%2F%2F%20Also%20use%20offsetWidth%2FoffsetHeight%20for%20when%20box%20sizing%20is%20unreliable%0D%0A%09%2F%2F%20We%20use%20getClientRects()%20to%20check%20for%20hidden%2Fdisconnected.%0D%0A%09%2F%2F%20In%20those%20cases%2C%20the%20computed%20value%20can%20be%20trusted%20to%20be%20border-box%0D%0A%09if%20(%20(%20!support.boxSizingReliable()%20%26%26%20isBorderBox%20%7C%7C%0D%0A%09%09val%20%3D%3D%3D%20%22auto%22%20%7C%7C%0D%0A%09%09!parseFloat(%20val%20)%20%26%26%20jQuery.css(%20elem%2C%20%22display%22%2C%20false%2C%20styles%20)%20%3D%3D%3D%20%22inline%22%20)%20%26%26%0D%0A%09%09elem.getClientRects().length%20)%20%7B%0D%0A%0D%0A%09%09isBorderBox%20%3D%20jQuery.css(%20elem%2C%20%22boxSizing%22%2C%20false%2C%20styles%20)%20%3D%3D%3D%20%22border-box%22%3B%0D%0A%0D%0A%09%09%2F%2F%20Where%20available%2C%20offsetWidth%2FoffsetHeight%20approximate%20border%20box%20dimensions.%0D%0A%09%09%2F%2F%20Where%20not%20available%20(e.g.%2C%20SVG)%2C%20assume%20unreliable%20box-sizing%20and%20interpret%20the%0D%0A%09%09%2F%2F%20retrieved%20value%20as%20a%20content%20box%20dimension.%0D%0A%09%09valueIsBorderBox%20%3D%20offsetProp%20in%20elem%3B%0D%0A%09%09if%20(%20valueIsBorderBox%20)%20%7B%0D%0A%09%09%09val%20%3D%20elem%5B%20offsetProp%20%5D%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Normalize%20%22%22%20and%20auto%0D%0A%09val%20%3D%20parseFloat(%20val%20)%20%7C%7C%200%3B%0D%0A%0D%0A%09%2F%2F%20Adjust%20for%20the%20element's%20box%20model%0D%0A%09return%20(%20val%20%2B%0D%0A%09%09boxModelAdjustment(%0D%0A%09%09%09elem%2C%0D%0A%09%09%09dimension%2C%0D%0A%09%09%09extra%20%7C%7C%20(%20isBorderBox%20%3F%20%22border%22%20%3A%20%22content%22%20)%2C%0D%0A%09%09%09valueIsBorderBox%2C%0D%0A%09%09%09styles%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Provide%20the%20current%20computed%20size%20to%20request%20scroll%20gutter%20calculation%20(gh-3589)%0D%0A%09%09%09val%0D%0A%09%09)%0D%0A%09)%20%2B%20%22px%22%3B%0D%0A%7D%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%0D%0A%09%2F%2F%20Add%20in%20style%20property%20hooks%20for%20overriding%20the%20default%0D%0A%09%2F%2F%20behavior%20of%20getting%20and%20setting%20a%20style%20property%0D%0A%09cssHooks%3A%20%7B%0D%0A%09%09opacity%3A%20%7B%0D%0A%09%09%09get%3A%20function(%20elem%2C%20computed%20)%20%7B%0D%0A%09%09%09%09if%20(%20computed%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20We%20should%20always%20get%20a%20number%20back%20from%20opacity%0D%0A%09%09%09%09%09var%20ret%20%3D%20curCSS(%20elem%2C%20%22opacity%22%20)%3B%0D%0A%09%09%09%09%09return%20ret%20%3D%3D%3D%20%22%22%20%3F%20%221%22%20%3A%20ret%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Don't%20automatically%20add%20%22px%22%20to%20these%20possibly-unitless%20properties%0D%0A%09cssNumber%3A%20%7B%0D%0A%09%09%22animationIterationCount%22%3A%20true%2C%0D%0A%09%09%22columnCount%22%3A%20true%2C%0D%0A%09%09%22fillOpacity%22%3A%20true%2C%0D%0A%09%09%22flexGrow%22%3A%20true%2C%0D%0A%09%09%22flexShrink%22%3A%20true%2C%0D%0A%09%09%22fontWeight%22%3A%20true%2C%0D%0A%09%09%22gridArea%22%3A%20true%2C%0D%0A%09%09%22gridColumn%22%3A%20true%2C%0D%0A%09%09%22gridColumnEnd%22%3A%20true%2C%0D%0A%09%09%22gridColumnStart%22%3A%20true%2C%0D%0A%09%09%22gridRow%22%3A%20true%2C%0D%0A%09%09%22gridRowEnd%22%3A%20true%2C%0D%0A%09%09%22gridRowStart%22%3A%20true%2C%0D%0A%09%09%22lineHeight%22%3A%20true%2C%0D%0A%09%09%22opacity%22%3A%20true%2C%0D%0A%09%09%22order%22%3A%20true%2C%0D%0A%09%09%22orphans%22%3A%20true%2C%0D%0A%09%09%22widows%22%3A%20true%2C%0D%0A%09%09%22zIndex%22%3A%20true%2C%0D%0A%09%09%22zoom%22%3A%20true%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Add%20in%20properties%20whose%20names%20you%20wish%20to%20fix%20before%0D%0A%09%2F%2F%20setting%20or%20getting%20the%20value%0D%0A%09cssProps%3A%20%7B%7D%2C%0D%0A%0D%0A%09%2F%2F%20Get%20and%20set%20the%20style%20property%20on%20a%20DOM%20Node%0D%0A%09style%3A%20function(%20elem%2C%20name%2C%20value%2C%20extra%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Don't%20set%20styles%20on%20text%20and%20comment%20nodes%0D%0A%09%09if%20(%20!elem%20%7C%7C%20elem.nodeType%20%3D%3D%3D%203%20%7C%7C%20elem.nodeType%20%3D%3D%3D%208%20%7C%7C%20!elem.style%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Make%20sure%20that%20we're%20working%20with%20the%20right%20name%0D%0A%09%09var%20ret%2C%20type%2C%20hooks%2C%0D%0A%09%09%09origName%20%3D%20camelCase(%20name%20)%2C%0D%0A%09%09%09isCustomProp%20%3D%20rcustomProp.test(%20name%20)%2C%0D%0A%09%09%09style%20%3D%20elem.style%3B%0D%0A%0D%0A%09%09%2F%2F%20Make%20sure%20that%20we're%20working%20with%20the%20right%20name.%20We%20don't%0D%0A%09%09%2F%2F%20want%20to%20query%20the%20value%20if%20it%20is%20a%20CSS%20custom%20property%0D%0A%09%09%2F%2F%20since%20they%20are%20user-defined.%0D%0A%09%09if%20(%20!isCustomProp%20)%20%7B%0D%0A%09%09%09name%20%3D%20finalPropName(%20origName%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Gets%20hook%20for%20the%20prefixed%20version%2C%20then%20unprefixed%20version%0D%0A%09%09hooks%20%3D%20jQuery.cssHooks%5B%20name%20%5D%20%7C%7C%20jQuery.cssHooks%5B%20origName%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20Check%20if%20we're%20setting%20a%20value%0D%0A%09%09if%20(%20value%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09type%20%3D%20typeof%20value%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Convert%20%22%2B%3D%22%20or%20%22-%3D%22%20to%20relative%20numbers%20(%237345)%0D%0A%09%09%09if%20(%20type%20%3D%3D%3D%20%22string%22%20%26%26%20(%20ret%20%3D%20rcssNum.exec(%20value%20)%20)%20%26%26%20ret%5B%201%20%5D%20)%20%7B%0D%0A%09%09%09%09value%20%3D%20adjustCSS(%20elem%2C%20name%2C%20ret%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Fixes%20bug%20%239237%0D%0A%09%09%09%09type%20%3D%20%22number%22%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Make%20sure%20that%20null%20and%20NaN%20values%20aren't%20set%20(%237116)%0D%0A%09%09%09if%20(%20value%20%3D%3D%20null%20%7C%7C%20value%20!%3D%3D%20value%20)%20%7B%0D%0A%09%09%09%09return%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20If%20a%20number%20was%20passed%20in%2C%20add%20the%20unit%20(except%20for%20certain%20CSS%20properties)%0D%0A%09%09%09%2F%2F%20The%20isCustomProp%20check%20can%20be%20removed%20in%20jQuery%204.0%20when%20we%20only%20auto-append%0D%0A%09%09%09%2F%2F%20%22px%22%20to%20a%20few%20hardcoded%20values.%0D%0A%09%09%09if%20(%20type%20%3D%3D%3D%20%22number%22%20%26%26%20!isCustomProp%20)%20%7B%0D%0A%09%09%09%09value%20%2B%3D%20ret%20%26%26%20ret%5B%203%20%5D%20%7C%7C%20(%20jQuery.cssNumber%5B%20origName%20%5D%20%3F%20%22%22%20%3A%20%22px%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20background-*%20props%20affect%20original%20clone's%20values%0D%0A%09%09%09if%20(%20!support.clearCloneStyle%20%26%26%20value%20%3D%3D%3D%20%22%22%20%26%26%20name.indexOf(%20%22background%22%20)%20%3D%3D%3D%200%20)%20%7B%0D%0A%09%09%09%09style%5B%20name%20%5D%20%3D%20%22inherit%22%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20If%20a%20hook%20was%20provided%2C%20use%20that%20value%2C%20otherwise%20just%20set%20the%20specified%20value%0D%0A%09%09%09if%20(%20!hooks%20%7C%7C%20!(%20%22set%22%20in%20hooks%20)%20%7C%7C%0D%0A%09%09%09%09(%20value%20%3D%20hooks.set(%20elem%2C%20value%2C%20extra%20)%20)%20!%3D%3D%20undefined%20)%20%7B%0D%0A%0D%0A%09%09%09%09if%20(%20isCustomProp%20)%20%7B%0D%0A%09%09%09%09%09style.setProperty(%20name%2C%20value%20)%3B%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09style%5B%20name%20%5D%20%3D%20value%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20a%20hook%20was%20provided%20get%20the%20non-computed%20value%20from%20there%0D%0A%09%09%09if%20(%20hooks%20%26%26%20%22get%22%20in%20hooks%20%26%26%0D%0A%09%09%09%09(%20ret%20%3D%20hooks.get(%20elem%2C%20false%2C%20extra%20)%20)%20!%3D%3D%20undefined%20)%20%7B%0D%0A%0D%0A%09%09%09%09return%20ret%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Otherwise%20just%20get%20the%20value%20from%20the%20style%20object%0D%0A%09%09%09return%20style%5B%20name%20%5D%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09css%3A%20function(%20elem%2C%20name%2C%20extra%2C%20styles%20)%20%7B%0D%0A%09%09var%20val%2C%20num%2C%20hooks%2C%0D%0A%09%09%09origName%20%3D%20camelCase(%20name%20)%2C%0D%0A%09%09%09isCustomProp%20%3D%20rcustomProp.test(%20name%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Make%20sure%20that%20we're%20working%20with%20the%20right%20name.%20We%20don't%0D%0A%09%09%2F%2F%20want%20to%20modify%20the%20value%20if%20it%20is%20a%20CSS%20custom%20property%0D%0A%09%09%2F%2F%20since%20they%20are%20user-defined.%0D%0A%09%09if%20(%20!isCustomProp%20)%20%7B%0D%0A%09%09%09name%20%3D%20finalPropName(%20origName%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Try%20prefixed%20name%20followed%20by%20the%20unprefixed%20name%0D%0A%09%09hooks%20%3D%20jQuery.cssHooks%5B%20name%20%5D%20%7C%7C%20jQuery.cssHooks%5B%20origName%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20a%20hook%20was%20provided%20get%20the%20computed%20value%20from%20there%0D%0A%09%09if%20(%20hooks%20%26%26%20%22get%22%20in%20hooks%20)%20%7B%0D%0A%09%09%09val%20%3D%20hooks.get(%20elem%2C%20true%2C%20extra%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Otherwise%2C%20if%20a%20way%20to%20get%20the%20computed%20value%20exists%2C%20use%20that%0D%0A%09%09if%20(%20val%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09val%20%3D%20curCSS(%20elem%2C%20name%2C%20styles%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Convert%20%22normal%22%20to%20computed%20value%0D%0A%09%09if%20(%20val%20%3D%3D%3D%20%22normal%22%20%26%26%20name%20in%20cssNormalTransform%20)%20%7B%0D%0A%09%09%09val%20%3D%20cssNormalTransform%5B%20name%20%5D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Make%20numeric%20if%20forced%20or%20a%20qualifier%20was%20provided%20and%20val%20looks%20numeric%0D%0A%09%09if%20(%20extra%20%3D%3D%3D%20%22%22%20%7C%7C%20extra%20)%20%7B%0D%0A%09%09%09num%20%3D%20parseFloat(%20val%20)%3B%0D%0A%09%09%09return%20extra%20%3D%3D%3D%20true%20%7C%7C%20isFinite(%20num%20)%20%3F%20num%20%7C%7C%200%20%3A%20val%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20val%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.each(%20%5B%20%22height%22%2C%20%22width%22%20%5D%2C%20function(%20i%2C%20dimension%20)%20%7B%0D%0A%09jQuery.cssHooks%5B%20dimension%20%5D%20%3D%20%7B%0D%0A%09%09get%3A%20function(%20elem%2C%20computed%2C%20extra%20)%20%7B%0D%0A%09%09%09if%20(%20computed%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Certain%20elements%20can%20have%20dimension%20info%20if%20we%20invisibly%20show%20them%0D%0A%09%09%09%09%2F%2F%20but%20it%20must%20have%20a%20current%20display%20style%20that%20would%20benefit%0D%0A%09%09%09%09return%20rdisplayswap.test(%20jQuery.css(%20elem%2C%20%22display%22%20)%20)%20%26%26%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Support%3A%20Safari%208%2B%0D%0A%09%09%09%09%09%2F%2F%20Table%20columns%20in%20Safari%20have%20non-zero%20offsetWidth%20%26%20zero%0D%0A%09%09%09%09%09%2F%2F%20getBoundingClientRect().width%20unless%20display%20is%20changed.%0D%0A%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D11%20only%0D%0A%09%09%09%09%09%2F%2F%20Running%20getBoundingClientRect%20on%20a%20disconnected%20node%0D%0A%09%09%09%09%09%2F%2F%20in%20IE%20throws%20an%20error.%0D%0A%09%09%09%09%09(%20!elem.getClientRects().length%20%7C%7C%20!elem.getBoundingClientRect().width%20)%20%3F%0D%0A%09%09%09%09%09%09swap(%20elem%2C%20cssShow%2C%20function()%20%7B%0D%0A%09%09%09%09%09%09%09return%20getWidthOrHeight(%20elem%2C%20dimension%2C%20extra%20)%3B%0D%0A%09%09%09%09%09%09%7D%20)%20%3A%0D%0A%09%09%09%09%09%09getWidthOrHeight(%20elem%2C%20dimension%2C%20extra%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09set%3A%20function(%20elem%2C%20value%2C%20extra%20)%20%7B%0D%0A%09%09%09var%20matches%2C%0D%0A%09%09%09%09styles%20%3D%20getStyles(%20elem%20)%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Only%20read%20styles.position%20if%20the%20test%20has%20a%20chance%20to%20fail%0D%0A%09%09%09%09%2F%2F%20to%20avoid%20forcing%20a%20reflow.%0D%0A%09%09%09%09scrollboxSizeBuggy%20%3D%20!support.scrollboxSize()%20%26%26%0D%0A%09%09%09%09%09styles.position%20%3D%3D%3D%20%22absolute%22%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20To%20avoid%20forcing%20a%20reflow%2C%20only%20fetch%20boxSizing%20if%20we%20need%20it%20(gh-3991)%0D%0A%09%09%09%09boxSizingNeeded%20%3D%20scrollboxSizeBuggy%20%7C%7C%20extra%2C%0D%0A%09%09%09%09isBorderBox%20%3D%20boxSizingNeeded%20%26%26%0D%0A%09%09%09%09%09jQuery.css(%20elem%2C%20%22boxSizing%22%2C%20false%2C%20styles%20)%20%3D%3D%3D%20%22border-box%22%2C%0D%0A%09%09%09%09subtract%20%3D%20extra%20%3F%0D%0A%09%09%09%09%09boxModelAdjustment(%0D%0A%09%09%09%09%09%09elem%2C%0D%0A%09%09%09%09%09%09dimension%2C%0D%0A%09%09%09%09%09%09extra%2C%0D%0A%09%09%09%09%09%09isBorderBox%2C%0D%0A%09%09%09%09%09%09styles%0D%0A%09%09%09%09%09)%20%3A%0D%0A%09%09%09%09%090%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Account%20for%20unreliable%20border-box%20dimensions%20by%20comparing%20offset*%20to%20computed%20and%0D%0A%09%09%09%2F%2F%20faking%20a%20content-box%20to%20get%20border%20and%20padding%20(gh-3699)%0D%0A%09%09%09if%20(%20isBorderBox%20%26%26%20scrollboxSizeBuggy%20)%20%7B%0D%0A%09%09%09%09subtract%20-%3D%20Math.ceil(%0D%0A%09%09%09%09%09elem%5B%20%22offset%22%20%2B%20dimension%5B%200%20%5D.toUpperCase()%20%2B%20dimension.slice(%201%20)%20%5D%20-%0D%0A%09%09%09%09%09parseFloat(%20styles%5B%20dimension%20%5D%20)%20-%0D%0A%09%09%09%09%09boxModelAdjustment(%20elem%2C%20dimension%2C%20%22border%22%2C%20false%2C%20styles%20)%20-%0D%0A%09%09%09%09%090.5%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Convert%20to%20pixels%20if%20value%20adjustment%20is%20needed%0D%0A%09%09%09if%20(%20subtract%20%26%26%20(%20matches%20%3D%20rcssNum.exec(%20value%20)%20)%20%26%26%0D%0A%09%09%09%09(%20matches%5B%203%20%5D%20%7C%7C%20%22px%22%20)%20!%3D%3D%20%22px%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09elem.style%5B%20dimension%20%5D%20%3D%20value%3B%0D%0A%09%09%09%09value%20%3D%20jQuery.css(%20elem%2C%20dimension%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20setPositiveNumber(%20elem%2C%20value%2C%20subtract%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.cssHooks.marginLeft%20%3D%20addGetHookIf(%20support.reliableMarginLeft%2C%0D%0A%09function(%20elem%2C%20computed%20)%20%7B%0D%0A%09%09if%20(%20computed%20)%20%7B%0D%0A%09%09%09return%20(%20parseFloat(%20curCSS(%20elem%2C%20%22marginLeft%22%20)%20)%20%7C%7C%0D%0A%09%09%09%09elem.getBoundingClientRect().left%20-%0D%0A%09%09%09%09%09swap(%20elem%2C%20%7B%20marginLeft%3A%200%20%7D%2C%20function()%20%7B%0D%0A%09%09%09%09%09%09return%20elem.getBoundingClientRect().left%3B%0D%0A%09%09%09%09%09%7D%20)%0D%0A%09%09%09%09)%20%2B%20%22px%22%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A)%3B%0D%0A%0D%0A%2F%2F%20These%20hooks%20are%20used%20by%20animate%20to%20expand%20properties%0D%0AjQuery.each(%20%7B%0D%0A%09margin%3A%20%22%22%2C%0D%0A%09padding%3A%20%22%22%2C%0D%0A%09border%3A%20%22Width%22%0D%0A%7D%2C%20function(%20prefix%2C%20suffix%20)%20%7B%0D%0A%09jQuery.cssHooks%5B%20prefix%20%2B%20suffix%20%5D%20%3D%20%7B%0D%0A%09%09expand%3A%20function(%20value%20)%20%7B%0D%0A%09%09%09var%20i%20%3D%200%2C%0D%0A%09%09%09%09expanded%20%3D%20%7B%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Assumes%20a%20single%20number%20if%20not%20a%20string%0D%0A%09%09%09%09parts%20%3D%20typeof%20value%20%3D%3D%3D%20%22string%22%20%3F%20value.split(%20%22%20%22%20)%20%3A%20%5B%20value%20%5D%3B%0D%0A%0D%0A%09%09%09for%20(%20%3B%20i%20%3C%204%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09expanded%5B%20prefix%20%2B%20cssExpand%5B%20i%20%5D%20%2B%20suffix%20%5D%20%3D%0D%0A%09%09%09%09%09parts%5B%20i%20%5D%20%7C%7C%20parts%5B%20i%20-%202%20%5D%20%7C%7C%20parts%5B%200%20%5D%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20expanded%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%0D%0A%09if%20(%20prefix%20!%3D%3D%20%22margin%22%20)%20%7B%0D%0A%09%09jQuery.cssHooks%5B%20prefix%20%2B%20suffix%20%5D.set%20%3D%20setPositiveNumber%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09css%3A%20function(%20name%2C%20value%20)%20%7B%0D%0A%09%09return%20access(%20this%2C%20function(%20elem%2C%20name%2C%20value%20)%20%7B%0D%0A%09%09%09var%20styles%2C%20len%2C%0D%0A%09%09%09%09map%20%3D%20%7B%7D%2C%0D%0A%09%09%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%09%09if%20(%20Array.isArray(%20name%20)%20)%20%7B%0D%0A%09%09%09%09styles%20%3D%20getStyles(%20elem%20)%3B%0D%0A%09%09%09%09len%20%3D%20name.length%3B%0D%0A%0D%0A%09%09%09%09for%20(%20%3B%20i%20%3C%20len%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09map%5B%20name%5B%20i%20%5D%20%5D%20%3D%20jQuery.css(%20elem%2C%20name%5B%20i%20%5D%2C%20false%2C%20styles%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09return%20map%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20value%20!%3D%3D%20undefined%20%3F%0D%0A%09%09%09%09jQuery.style(%20elem%2C%20name%2C%20value%20)%20%3A%0D%0A%09%09%09%09jQuery.css(%20elem%2C%20name%20)%3B%0D%0A%09%09%7D%2C%20name%2C%20value%2C%20arguments.length%20%3E%201%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0Afunction%20Tween(%20elem%2C%20options%2C%20prop%2C%20end%2C%20easing%20)%20%7B%0D%0A%09return%20new%20Tween.prototype.init(%20elem%2C%20options%2C%20prop%2C%20end%2C%20easing%20)%3B%0D%0A%7D%0D%0AjQuery.Tween%20%3D%20Tween%3B%0D%0A%0D%0ATween.prototype%20%3D%20%7B%0D%0A%09constructor%3A%20Tween%2C%0D%0A%09init%3A%20function(%20elem%2C%20options%2C%20prop%2C%20end%2C%20easing%2C%20unit%20)%20%7B%0D%0A%09%09this.elem%20%3D%20elem%3B%0D%0A%09%09this.prop%20%3D%20prop%3B%0D%0A%09%09this.easing%20%3D%20easing%20%7C%7C%20jQuery.easing._default%3B%0D%0A%09%09this.options%20%3D%20options%3B%0D%0A%09%09this.start%20%3D%20this.now%20%3D%20this.cur()%3B%0D%0A%09%09this.end%20%3D%20end%3B%0D%0A%09%09this.unit%20%3D%20unit%20%7C%7C%20(%20jQuery.cssNumber%5B%20prop%20%5D%20%3F%20%22%22%20%3A%20%22px%22%20)%3B%0D%0A%09%7D%2C%0D%0A%09cur%3A%20function()%20%7B%0D%0A%09%09var%20hooks%20%3D%20Tween.propHooks%5B%20this.prop%20%5D%3B%0D%0A%0D%0A%09%09return%20hooks%20%26%26%20hooks.get%20%3F%0D%0A%09%09%09hooks.get(%20this%20)%20%3A%0D%0A%09%09%09Tween.propHooks._default.get(%20this%20)%3B%0D%0A%09%7D%2C%0D%0A%09run%3A%20function(%20percent%20)%20%7B%0D%0A%09%09var%20eased%2C%0D%0A%09%09%09hooks%20%3D%20Tween.propHooks%5B%20this.prop%20%5D%3B%0D%0A%0D%0A%09%09if%20(%20this.options.duration%20)%20%7B%0D%0A%09%09%09this.pos%20%3D%20eased%20%3D%20jQuery.easing%5B%20this.easing%20%5D(%0D%0A%09%09%09%09percent%2C%20this.options.duration%20*%20percent%2C%200%2C%201%2C%20this.options.duration%0D%0A%09%09%09)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09this.pos%20%3D%20eased%20%3D%20percent%3B%0D%0A%09%09%7D%0D%0A%09%09this.now%20%3D%20(%20this.end%20-%20this.start%20)%20*%20eased%20%2B%20this.start%3B%0D%0A%0D%0A%09%09if%20(%20this.options.step%20)%20%7B%0D%0A%09%09%09this.options.step.call(%20this.elem%2C%20this.now%2C%20this%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20hooks%20%26%26%20hooks.set%20)%20%7B%0D%0A%09%09%09hooks.set(%20this%20)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09Tween.propHooks._default.set(%20this%20)%3B%0D%0A%09%09%7D%0D%0A%09%09return%20this%3B%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0ATween.prototype.init.prototype%20%3D%20Tween.prototype%3B%0D%0A%0D%0ATween.propHooks%20%3D%20%7B%0D%0A%09_default%3A%20%7B%0D%0A%09%09get%3A%20function(%20tween%20)%20%7B%0D%0A%09%09%09var%20result%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Use%20a%20property%20on%20the%20element%20directly%20when%20it%20is%20not%20a%20DOM%20element%2C%0D%0A%09%09%09%2F%2F%20or%20when%20there%20is%20no%20matching%20style%20property%20that%20exists.%0D%0A%09%09%09if%20(%20tween.elem.nodeType%20!%3D%3D%201%20%7C%7C%0D%0A%09%09%09%09tween.elem%5B%20tween.prop%20%5D%20!%3D%20null%20%26%26%20tween.elem.style%5B%20tween.prop%20%5D%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09return%20tween.elem%5B%20tween.prop%20%5D%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Passing%20an%20empty%20string%20as%20a%203rd%20parameter%20to%20.css%20will%20automatically%0D%0A%09%09%09%2F%2F%20attempt%20a%20parseFloat%20and%20fallback%20to%20a%20string%20if%20the%20parse%20fails.%0D%0A%09%09%09%2F%2F%20Simple%20values%20such%20as%20%2210px%22%20are%20parsed%20to%20Float%3B%0D%0A%09%09%09%2F%2F%20complex%20values%20such%20as%20%22rotate(1rad)%22%20are%20returned%20as-is.%0D%0A%09%09%09result%20%3D%20jQuery.css(%20tween.elem%2C%20tween.prop%2C%20%22%22%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Empty%20strings%2C%20null%2C%20undefined%20and%20%22auto%22%20are%20converted%20to%200.%0D%0A%09%09%09return%20!result%20%7C%7C%20result%20%3D%3D%3D%20%22auto%22%20%3F%200%20%3A%20result%3B%0D%0A%09%09%7D%2C%0D%0A%09%09set%3A%20function(%20tween%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Use%20step%20hook%20for%20back%20compat.%0D%0A%09%09%09%2F%2F%20Use%20cssHook%20if%20its%20there.%0D%0A%09%09%09%2F%2F%20Use%20.style%20if%20available%20and%20use%20plain%20properties%20where%20available.%0D%0A%09%09%09if%20(%20jQuery.fx.step%5B%20tween.prop%20%5D%20)%20%7B%0D%0A%09%09%09%09jQuery.fx.step%5B%20tween.prop%20%5D(%20tween%20)%3B%0D%0A%09%09%09%7D%20else%20if%20(%20tween.elem.nodeType%20%3D%3D%3D%201%20%26%26%20(%0D%0A%09%09%09%09%09jQuery.cssHooks%5B%20tween.prop%20%5D%20%7C%7C%0D%0A%09%09%09%09%09tween.elem.style%5B%20finalPropName(%20tween.prop%20)%20%5D%20!%3D%20null%20)%20)%20%7B%0D%0A%09%09%09%09jQuery.style(%20tween.elem%2C%20tween.prop%2C%20tween.now%20%2B%20tween.unit%20)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09tween.elem%5B%20tween.prop%20%5D%20%3D%20tween.now%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0A%2F%2F%20Panic%20based%20approach%20to%20setting%20things%20on%20disconnected%20nodes%0D%0ATween.propHooks.scrollTop%20%3D%20Tween.propHooks.scrollLeft%20%3D%20%7B%0D%0A%09set%3A%20function(%20tween%20)%20%7B%0D%0A%09%09if%20(%20tween.elem.nodeType%20%26%26%20tween.elem.parentNode%20)%20%7B%0D%0A%09%09%09tween.elem%5B%20tween.prop%20%5D%20%3D%20tween.now%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0AjQuery.easing%20%3D%20%7B%0D%0A%09linear%3A%20function(%20p%20)%20%7B%0D%0A%09%09return%20p%3B%0D%0A%09%7D%2C%0D%0A%09swing%3A%20function(%20p%20)%20%7B%0D%0A%09%09return%200.5%20-%20Math.cos(%20p%20*%20Math.PI%20)%20%2F%202%3B%0D%0A%09%7D%2C%0D%0A%09_default%3A%20%22swing%22%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fx%20%3D%20Tween.prototype.init%3B%0D%0A%0D%0A%2F%2F%20Back%20compat%20%3C1.8%20extension%20point%0D%0AjQuery.fx.step%20%3D%20%7B%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Avar%0D%0A%09fxNow%2C%20inProgress%2C%0D%0A%09rfxtypes%20%3D%20%2F%5E(%3F%3Atoggle%7Cshow%7Chide)%24%2F%2C%0D%0A%09rrun%20%3D%20%2FqueueHooks%24%2F%3B%0D%0A%0D%0Afunction%20schedule()%20%7B%0D%0A%09if%20(%20inProgress%20)%20%7B%0D%0A%09%09if%20(%20document.hidden%20%3D%3D%3D%20false%20%26%26%20window.requestAnimationFrame%20)%20%7B%0D%0A%09%09%09window.requestAnimationFrame(%20schedule%20)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09window.setTimeout(%20schedule%2C%20jQuery.fx.interval%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09jQuery.fx.tick()%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Animations%20created%20synchronously%20will%20run%20synchronously%0D%0Afunction%20createFxNow()%20%7B%0D%0A%09window.setTimeout(%20function()%20%7B%0D%0A%09%09fxNow%20%3D%20undefined%3B%0D%0A%09%7D%20)%3B%0D%0A%09return%20(%20fxNow%20%3D%20Date.now()%20)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Generate%20parameters%20to%20create%20a%20standard%20animation%0D%0Afunction%20genFx(%20type%2C%20includeWidth%20)%20%7B%0D%0A%09var%20which%2C%0D%0A%09%09i%20%3D%200%2C%0D%0A%09%09attrs%20%3D%20%7B%20height%3A%20type%20%7D%3B%0D%0A%0D%0A%09%2F%2F%20If%20we%20include%20width%2C%20step%20value%20is%201%20to%20do%20all%20cssExpand%20values%2C%0D%0A%09%2F%2F%20otherwise%20step%20value%20is%202%20to%20skip%20over%20Left%20and%20Right%0D%0A%09includeWidth%20%3D%20includeWidth%20%3F%201%20%3A%200%3B%0D%0A%09for%20(%20%3B%20i%20%3C%204%3B%20i%20%2B%3D%202%20-%20includeWidth%20)%20%7B%0D%0A%09%09which%20%3D%20cssExpand%5B%20i%20%5D%3B%0D%0A%09%09attrs%5B%20%22margin%22%20%2B%20which%20%5D%20%3D%20attrs%5B%20%22padding%22%20%2B%20which%20%5D%20%3D%20type%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20includeWidth%20)%20%7B%0D%0A%09%09attrs.opacity%20%3D%20attrs.width%20%3D%20type%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20attrs%3B%0D%0A%7D%0D%0A%0D%0Afunction%20createTween(%20value%2C%20prop%2C%20animation%20)%20%7B%0D%0A%09var%20tween%2C%0D%0A%09%09collection%20%3D%20(%20Animation.tweeners%5B%20prop%20%5D%20%7C%7C%20%5B%5D%20).concat(%20Animation.tweeners%5B%20%22*%22%20%5D%20)%2C%0D%0A%09%09index%20%3D%200%2C%0D%0A%09%09length%20%3D%20collection.length%3B%0D%0A%09for%20(%20%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09if%20(%20(%20tween%20%3D%20collection%5B%20index%20%5D.call(%20animation%2C%20prop%2C%20value%20)%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20We're%20done%20with%20this%20property%0D%0A%09%09%09return%20tween%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20defaultPrefilter(%20elem%2C%20props%2C%20opts%20)%20%7B%0D%0A%09var%20prop%2C%20value%2C%20toggle%2C%20hooks%2C%20oldfire%2C%20propTween%2C%20restoreDisplay%2C%20display%2C%0D%0A%09%09isBox%20%3D%20%22width%22%20in%20props%20%7C%7C%20%22height%22%20in%20props%2C%0D%0A%09%09anim%20%3D%20this%2C%0D%0A%09%09orig%20%3D%20%7B%7D%2C%0D%0A%09%09style%20%3D%20elem.style%2C%0D%0A%09%09hidden%20%3D%20elem.nodeType%20%26%26%20isHiddenWithinTree(%20elem%20)%2C%0D%0A%09%09dataShow%20%3D%20dataPriv.get(%20elem%2C%20%22fxshow%22%20)%3B%0D%0A%0D%0A%09%2F%2F%20Queue-skipping%20animations%20hijack%20the%20fx%20hooks%0D%0A%09if%20(%20!opts.queue%20)%20%7B%0D%0A%09%09hooks%20%3D%20jQuery._queueHooks(%20elem%2C%20%22fx%22%20)%3B%0D%0A%09%09if%20(%20hooks.unqueued%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09hooks.unqueued%20%3D%200%3B%0D%0A%09%09%09oldfire%20%3D%20hooks.empty.fire%3B%0D%0A%09%09%09hooks.empty.fire%20%3D%20function()%20%7B%0D%0A%09%09%09%09if%20(%20!hooks.unqueued%20)%20%7B%0D%0A%09%09%09%09%09oldfire()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D%0D%0A%09%09hooks.unqueued%2B%2B%3B%0D%0A%0D%0A%09%09anim.always(%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Ensure%20the%20complete%20handler%20is%20called%20before%20this%20completes%0D%0A%09%09%09anim.always(%20function()%20%7B%0D%0A%09%09%09%09hooks.unqueued--%3B%0D%0A%09%09%09%09if%20(%20!jQuery.queue(%20elem%2C%20%22fx%22%20).length%20)%20%7B%0D%0A%09%09%09%09%09hooks.empty.fire()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Detect%20show%2Fhide%20animations%0D%0A%09for%20(%20prop%20in%20props%20)%20%7B%0D%0A%09%09value%20%3D%20props%5B%20prop%20%5D%3B%0D%0A%09%09if%20(%20rfxtypes.test(%20value%20)%20)%20%7B%0D%0A%09%09%09delete%20props%5B%20prop%20%5D%3B%0D%0A%09%09%09toggle%20%3D%20toggle%20%7C%7C%20value%20%3D%3D%3D%20%22toggle%22%3B%0D%0A%09%09%09if%20(%20value%20%3D%3D%3D%20(%20hidden%20%3F%20%22hide%22%20%3A%20%22show%22%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Pretend%20to%20be%20hidden%20if%20this%20is%20a%20%22show%22%20and%0D%0A%09%09%09%09%2F%2F%20there%20is%20still%20data%20from%20a%20stopped%20show%2Fhide%0D%0A%09%09%09%09if%20(%20value%20%3D%3D%3D%20%22show%22%20%26%26%20dataShow%20%26%26%20dataShow%5B%20prop%20%5D%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09%09hidden%20%3D%20true%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Ignore%20all%20other%20no-op%20show%2Fhide%20data%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09orig%5B%20prop%20%5D%20%3D%20dataShow%20%26%26%20dataShow%5B%20prop%20%5D%20%7C%7C%20jQuery.style(%20elem%2C%20prop%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Bail%20out%20if%20this%20is%20a%20no-op%20like%20.hide().hide()%0D%0A%09propTween%20%3D%20!jQuery.isEmptyObject(%20props%20)%3B%0D%0A%09if%20(%20!propTween%20%26%26%20jQuery.isEmptyObject(%20orig%20)%20)%20%7B%0D%0A%09%09return%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Restrict%20%22overflow%22%20and%20%22display%22%20styles%20during%20box%20animations%0D%0A%09if%20(%20isBox%20%26%26%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%2C%20Edge%2012%20-%2015%0D%0A%09%09%2F%2F%20Record%20all%203%20overflow%20attributes%20because%20IE%20does%20not%20infer%20the%20shorthand%0D%0A%09%09%2F%2F%20from%20identically-valued%20overflowX%20and%20overflowY%20and%20Edge%20just%20mirrors%0D%0A%09%09%2F%2F%20the%20overflowX%20value%20there.%0D%0A%09%09opts.overflow%20%3D%20%5B%20style.overflow%2C%20style.overflowX%2C%20style.overflowY%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20Identify%20a%20display%20type%2C%20preferring%20old%20show%2Fhide%20data%20over%20the%20CSS%20cascade%0D%0A%09%09restoreDisplay%20%3D%20dataShow%20%26%26%20dataShow.display%3B%0D%0A%09%09if%20(%20restoreDisplay%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09restoreDisplay%20%3D%20dataPriv.get(%20elem%2C%20%22display%22%20)%3B%0D%0A%09%09%7D%0D%0A%09%09display%20%3D%20jQuery.css(%20elem%2C%20%22display%22%20)%3B%0D%0A%09%09if%20(%20display%20%3D%3D%3D%20%22none%22%20)%20%7B%0D%0A%09%09%09if%20(%20restoreDisplay%20)%20%7B%0D%0A%09%09%09%09display%20%3D%20restoreDisplay%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Get%20nonempty%20value(s)%20by%20temporarily%20forcing%20visibility%0D%0A%09%09%09%09showHide(%20%5B%20elem%20%5D%2C%20true%20)%3B%0D%0A%09%09%09%09restoreDisplay%20%3D%20elem.style.display%20%7C%7C%20restoreDisplay%3B%0D%0A%09%09%09%09display%20%3D%20jQuery.css(%20elem%2C%20%22display%22%20)%3B%0D%0A%09%09%09%09showHide(%20%5B%20elem%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Animate%20inline%20elements%20as%20inline-block%0D%0A%09%09if%20(%20display%20%3D%3D%3D%20%22inline%22%20%7C%7C%20display%20%3D%3D%3D%20%22inline-block%22%20%26%26%20restoreDisplay%20!%3D%20null%20)%20%7B%0D%0A%09%09%09if%20(%20jQuery.css(%20elem%2C%20%22float%22%20)%20%3D%3D%3D%20%22none%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Restore%20the%20original%20display%20value%20at%20the%20end%20of%20pure%20show%2Fhide%20animations%0D%0A%09%09%09%09if%20(%20!propTween%20)%20%7B%0D%0A%09%09%09%09%09anim.done(%20function()%20%7B%0D%0A%09%09%09%09%09%09style.display%20%3D%20restoreDisplay%3B%0D%0A%09%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09%09if%20(%20restoreDisplay%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09%09%09display%20%3D%20style.display%3B%0D%0A%09%09%09%09%09%09restoreDisplay%20%3D%20display%20%3D%3D%3D%20%22none%22%20%3F%20%22%22%20%3A%20display%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09style.display%20%3D%20%22inline-block%22%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20opts.overflow%20)%20%7B%0D%0A%09%09style.overflow%20%3D%20%22hidden%22%3B%0D%0A%09%09anim.always(%20function()%20%7B%0D%0A%09%09%09style.overflow%20%3D%20opts.overflow%5B%200%20%5D%3B%0D%0A%09%09%09style.overflowX%20%3D%20opts.overflow%5B%201%20%5D%3B%0D%0A%09%09%09style.overflowY%20%3D%20opts.overflow%5B%202%20%5D%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Implement%20show%2Fhide%20animations%0D%0A%09propTween%20%3D%20false%3B%0D%0A%09for%20(%20prop%20in%20orig%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20General%20show%2Fhide%20setup%20for%20this%20element%20animation%0D%0A%09%09if%20(%20!propTween%20)%20%7B%0D%0A%09%09%09if%20(%20dataShow%20)%20%7B%0D%0A%09%09%09%09if%20(%20%22hidden%22%20in%20dataShow%20)%20%7B%0D%0A%09%09%09%09%09hidden%20%3D%20dataShow.hidden%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09dataShow%20%3D%20dataPriv.access(%20elem%2C%20%22fxshow%22%2C%20%7B%20display%3A%20restoreDisplay%20%7D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Store%20hidden%2Fvisible%20for%20toggle%20so%20%60.stop().toggle()%60%20%22reverses%22%0D%0A%09%09%09if%20(%20toggle%20)%20%7B%0D%0A%09%09%09%09dataShow.hidden%20%3D%20!hidden%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Show%20elements%20before%20animating%20them%0D%0A%09%09%09if%20(%20hidden%20)%20%7B%0D%0A%09%09%09%09showHide(%20%5B%20elem%20%5D%2C%20true%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F*%20eslint-disable%20no-loop-func%20*%2F%0D%0A%0D%0A%09%09%09anim.done(%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F*%20eslint-enable%20no-loop-func%20*%2F%0D%0A%0D%0A%09%09%09%09%2F%2F%20The%20final%20step%20of%20a%20%22hide%22%20animation%20is%20actually%20hiding%20the%20element%0D%0A%09%09%09%09if%20(%20!hidden%20)%20%7B%0D%0A%09%09%09%09%09showHide(%20%5B%20elem%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09dataPriv.remove(%20elem%2C%20%22fxshow%22%20)%3B%0D%0A%09%09%09%09for%20(%20prop%20in%20orig%20)%20%7B%0D%0A%09%09%09%09%09jQuery.style(%20elem%2C%20prop%2C%20orig%5B%20prop%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Per-property%20setup%0D%0A%09%09propTween%20%3D%20createTween(%20hidden%20%3F%20dataShow%5B%20prop%20%5D%20%3A%200%2C%20prop%2C%20anim%20)%3B%0D%0A%09%09if%20(%20!(%20prop%20in%20dataShow%20)%20)%20%7B%0D%0A%09%09%09dataShow%5B%20prop%20%5D%20%3D%20propTween.start%3B%0D%0A%09%09%09if%20(%20hidden%20)%20%7B%0D%0A%09%09%09%09propTween.end%20%3D%20propTween.start%3B%0D%0A%09%09%09%09propTween.start%20%3D%200%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20propFilter(%20props%2C%20specialEasing%20)%20%7B%0D%0A%09var%20index%2C%20name%2C%20easing%2C%20value%2C%20hooks%3B%0D%0A%0D%0A%09%2F%2F%20camelCase%2C%20specialEasing%20and%20expand%20cssHook%20pass%0D%0A%09for%20(%20index%20in%20props%20)%20%7B%0D%0A%09%09name%20%3D%20camelCase(%20index%20)%3B%0D%0A%09%09easing%20%3D%20specialEasing%5B%20name%20%5D%3B%0D%0A%09%09value%20%3D%20props%5B%20index%20%5D%3B%0D%0A%09%09if%20(%20Array.isArray(%20value%20)%20)%20%7B%0D%0A%09%09%09easing%20%3D%20value%5B%201%20%5D%3B%0D%0A%09%09%09value%20%3D%20props%5B%20index%20%5D%20%3D%20value%5B%200%20%5D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20index%20!%3D%3D%20name%20)%20%7B%0D%0A%09%09%09props%5B%20name%20%5D%20%3D%20value%3B%0D%0A%09%09%09delete%20props%5B%20index%20%5D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09hooks%20%3D%20jQuery.cssHooks%5B%20name%20%5D%3B%0D%0A%09%09if%20(%20hooks%20%26%26%20%22expand%22%20in%20hooks%20)%20%7B%0D%0A%09%09%09value%20%3D%20hooks.expand(%20value%20)%3B%0D%0A%09%09%09delete%20props%5B%20name%20%5D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Not%20quite%20%24.extend%2C%20this%20won't%20overwrite%20existing%20keys.%0D%0A%09%09%09%2F%2F%20Reusing%20'index'%20because%20we%20have%20the%20correct%20%22name%22%0D%0A%09%09%09for%20(%20index%20in%20value%20)%20%7B%0D%0A%09%09%09%09if%20(%20!(%20index%20in%20props%20)%20)%20%7B%0D%0A%09%09%09%09%09props%5B%20index%20%5D%20%3D%20value%5B%20index%20%5D%3B%0D%0A%09%09%09%09%09specialEasing%5B%20index%20%5D%20%3D%20easing%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09specialEasing%5B%20name%20%5D%20%3D%20easing%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20Animation(%20elem%2C%20properties%2C%20options%20)%20%7B%0D%0A%09var%20result%2C%0D%0A%09%09stopped%2C%0D%0A%09%09index%20%3D%200%2C%0D%0A%09%09length%20%3D%20Animation.prefilters.length%2C%0D%0A%09%09deferred%20%3D%20jQuery.Deferred().always(%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Don't%20match%20elem%20in%20the%20%3Aanimated%20selector%0D%0A%09%09%09delete%20tick.elem%3B%0D%0A%09%09%7D%20)%2C%0D%0A%09%09tick%20%3D%20function()%20%7B%0D%0A%09%09%09if%20(%20stopped%20)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09var%20currentTime%20%3D%20fxNow%20%7C%7C%20createFxNow()%2C%0D%0A%09%09%09%09remaining%20%3D%20Math.max(%200%2C%20animation.startTime%20%2B%20animation.duration%20-%20currentTime%20)%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20Android%202.3%20only%0D%0A%09%09%09%09%2F%2F%20Archaic%20crash%20bug%20won't%20allow%20us%20to%20use%20%601%20-%20(%200.5%20%7C%7C%200%20)%60%20(%2312497)%0D%0A%09%09%09%09temp%20%3D%20remaining%20%2F%20animation.duration%20%7C%7C%200%2C%0D%0A%09%09%09%09percent%20%3D%201%20-%20temp%2C%0D%0A%09%09%09%09index%20%3D%200%2C%0D%0A%09%09%09%09length%20%3D%20animation.tweens.length%3B%0D%0A%0D%0A%09%09%09for%20(%20%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09%09%09animation.tweens%5B%20index%20%5D.run(%20percent%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09deferred.notifyWith(%20elem%2C%20%5B%20animation%2C%20percent%2C%20remaining%20%5D%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20there's%20more%20to%20do%2C%20yield%0D%0A%09%09%09if%20(%20percent%20%3C%201%20%26%26%20length%20)%20%7B%0D%0A%09%09%09%09return%20remaining%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20If%20this%20was%20an%20empty%20animation%2C%20synthesize%20a%20final%20progress%20notification%0D%0A%09%09%09if%20(%20!length%20)%20%7B%0D%0A%09%09%09%09deferred.notifyWith(%20elem%2C%20%5B%20animation%2C%201%2C%200%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Resolve%20the%20animation%20and%20report%20its%20conclusion%0D%0A%09%09%09deferred.resolveWith(%20elem%2C%20%5B%20animation%20%5D%20)%3B%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%2C%0D%0A%09%09animation%20%3D%20deferred.promise(%20%7B%0D%0A%09%09%09elem%3A%20elem%2C%0D%0A%09%09%09props%3A%20jQuery.extend(%20%7B%7D%2C%20properties%20)%2C%0D%0A%09%09%09opts%3A%20jQuery.extend(%20true%2C%20%7B%0D%0A%09%09%09%09specialEasing%3A%20%7B%7D%2C%0D%0A%09%09%09%09easing%3A%20jQuery.easing._default%0D%0A%09%09%09%7D%2C%20options%20)%2C%0D%0A%09%09%09originalProperties%3A%20properties%2C%0D%0A%09%09%09originalOptions%3A%20options%2C%0D%0A%09%09%09startTime%3A%20fxNow%20%7C%7C%20createFxNow()%2C%0D%0A%09%09%09duration%3A%20options.duration%2C%0D%0A%09%09%09tweens%3A%20%5B%5D%2C%0D%0A%09%09%09createTween%3A%20function(%20prop%2C%20end%20)%20%7B%0D%0A%09%09%09%09var%20tween%20%3D%20jQuery.Tween(%20elem%2C%20animation.opts%2C%20prop%2C%20end%2C%0D%0A%09%09%09%09%09%09animation.opts.specialEasing%5B%20prop%20%5D%20%7C%7C%20animation.opts.easing%20)%3B%0D%0A%09%09%09%09animation.tweens.push(%20tween%20)%3B%0D%0A%09%09%09%09return%20tween%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09stop%3A%20function(%20gotoEnd%20)%20%7B%0D%0A%09%09%09%09var%20index%20%3D%200%2C%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20If%20we%20are%20going%20to%20the%20end%2C%20we%20want%20to%20run%20all%20the%20tweens%0D%0A%09%09%09%09%09%2F%2F%20otherwise%20we%20skip%20this%20part%0D%0A%09%09%09%09%09length%20%3D%20gotoEnd%20%3F%20animation.tweens.length%20%3A%200%3B%0D%0A%09%09%09%09if%20(%20stopped%20)%20%7B%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09stopped%20%3D%20true%3B%0D%0A%09%09%09%09for%20(%20%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09animation.tweens%5B%20index%20%5D.run(%201%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Resolve%20when%20we%20played%20the%20last%20frame%3B%20otherwise%2C%20reject%0D%0A%09%09%09%09if%20(%20gotoEnd%20)%20%7B%0D%0A%09%09%09%09%09deferred.notifyWith(%20elem%2C%20%5B%20animation%2C%201%2C%200%20%5D%20)%3B%0D%0A%09%09%09%09%09deferred.resolveWith(%20elem%2C%20%5B%20animation%2C%20gotoEnd%20%5D%20)%3B%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09deferred.rejectWith(%20elem%2C%20%5B%20animation%2C%20gotoEnd%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20this%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%2C%0D%0A%09%09props%20%3D%20animation.props%3B%0D%0A%0D%0A%09propFilter(%20props%2C%20animation.opts.specialEasing%20)%3B%0D%0A%0D%0A%09for%20(%20%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09result%20%3D%20Animation.prefilters%5B%20index%20%5D.call(%20animation%2C%20elem%2C%20props%2C%20animation.opts%20)%3B%0D%0A%09%09if%20(%20result%20)%20%7B%0D%0A%09%09%09if%20(%20isFunction(%20result.stop%20)%20)%20%7B%0D%0A%09%09%09%09jQuery._queueHooks(%20animation.elem%2C%20animation.opts.queue%20).stop%20%3D%0D%0A%09%09%09%09%09result.stop.bind(%20result%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20result%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09jQuery.map(%20props%2C%20createTween%2C%20animation%20)%3B%0D%0A%0D%0A%09if%20(%20isFunction(%20animation.opts.start%20)%20)%20%7B%0D%0A%09%09animation.opts.start.call(%20elem%2C%20animation%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Attach%20callbacks%20from%20options%0D%0A%09animation%0D%0A%09%09.progress(%20animation.opts.progress%20)%0D%0A%09%09.done(%20animation.opts.done%2C%20animation.opts.complete%20)%0D%0A%09%09.fail(%20animation.opts.fail%20)%0D%0A%09%09.always(%20animation.opts.always%20)%3B%0D%0A%0D%0A%09jQuery.fx.timer(%0D%0A%09%09jQuery.extend(%20tick%2C%20%7B%0D%0A%09%09%09elem%3A%20elem%2C%0D%0A%09%09%09anim%3A%20animation%2C%0D%0A%09%09%09queue%3A%20animation.opts.queue%0D%0A%09%09%7D%20)%0D%0A%09)%3B%0D%0A%0D%0A%09return%20animation%3B%0D%0A%7D%0D%0A%0D%0AjQuery.Animation%20%3D%20jQuery.extend(%20Animation%2C%20%7B%0D%0A%0D%0A%09tweeners%3A%20%7B%0D%0A%09%09%22*%22%3A%20%5B%20function(%20prop%2C%20value%20)%20%7B%0D%0A%09%09%09var%20tween%20%3D%20this.createTween(%20prop%2C%20value%20)%3B%0D%0A%09%09%09adjustCSS(%20tween.elem%2C%20prop%2C%20rcssNum.exec(%20value%20)%2C%20tween%20)%3B%0D%0A%09%09%09return%20tween%3B%0D%0A%09%09%7D%20%5D%0D%0A%09%7D%2C%0D%0A%0D%0A%09tweener%3A%20function(%20props%2C%20callback%20)%20%7B%0D%0A%09%09if%20(%20isFunction(%20props%20)%20)%20%7B%0D%0A%09%09%09callback%20%3D%20props%3B%0D%0A%09%09%09props%20%3D%20%5B%20%22*%22%20%5D%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09props%20%3D%20props.match(%20rnothtmlwhite%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09var%20prop%2C%0D%0A%09%09%09index%20%3D%200%2C%0D%0A%09%09%09length%20%3D%20props.length%3B%0D%0A%0D%0A%09%09for%20(%20%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09%09prop%20%3D%20props%5B%20index%20%5D%3B%0D%0A%09%09%09Animation.tweeners%5B%20prop%20%5D%20%3D%20Animation.tweeners%5B%20prop%20%5D%20%7C%7C%20%5B%5D%3B%0D%0A%09%09%09Animation.tweeners%5B%20prop%20%5D.unshift(%20callback%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09prefilters%3A%20%5B%20defaultPrefilter%20%5D%2C%0D%0A%0D%0A%09prefilter%3A%20function(%20callback%2C%20prepend%20)%20%7B%0D%0A%09%09if%20(%20prepend%20)%20%7B%0D%0A%09%09%09Animation.prefilters.unshift(%20callback%20)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09Animation.prefilters.push(%20callback%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.speed%20%3D%20function(%20speed%2C%20easing%2C%20fn%20)%20%7B%0D%0A%09var%20opt%20%3D%20speed%20%26%26%20typeof%20speed%20%3D%3D%3D%20%22object%22%20%3F%20jQuery.extend(%20%7B%7D%2C%20speed%20)%20%3A%20%7B%0D%0A%09%09complete%3A%20fn%20%7C%7C%20!fn%20%26%26%20easing%20%7C%7C%0D%0A%09%09%09isFunction(%20speed%20)%20%26%26%20speed%2C%0D%0A%09%09duration%3A%20speed%2C%0D%0A%09%09easing%3A%20fn%20%26%26%20easing%20%7C%7C%20easing%20%26%26%20!isFunction(%20easing%20)%20%26%26%20easing%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20Go%20to%20the%20end%20state%20if%20fx%20are%20off%0D%0A%09if%20(%20jQuery.fx.off%20)%20%7B%0D%0A%09%09opt.duration%20%3D%200%3B%0D%0A%0D%0A%09%7D%20else%20%7B%0D%0A%09%09if%20(%20typeof%20opt.duration%20!%3D%3D%20%22number%22%20)%20%7B%0D%0A%09%09%09if%20(%20opt.duration%20in%20jQuery.fx.speeds%20)%20%7B%0D%0A%09%09%09%09opt.duration%20%3D%20jQuery.fx.speeds%5B%20opt.duration%20%5D%3B%0D%0A%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09opt.duration%20%3D%20jQuery.fx.speeds._default%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Normalize%20opt.queue%20-%20true%2Fundefined%2Fnull%20-%3E%20%22fx%22%0D%0A%09if%20(%20opt.queue%20%3D%3D%20null%20%7C%7C%20opt.queue%20%3D%3D%3D%20true%20)%20%7B%0D%0A%09%09opt.queue%20%3D%20%22fx%22%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Queueing%0D%0A%09opt.old%20%3D%20opt.complete%3B%0D%0A%0D%0A%09opt.complete%20%3D%20function()%20%7B%0D%0A%09%09if%20(%20isFunction(%20opt.old%20)%20)%20%7B%0D%0A%09%09%09opt.old.call(%20this%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20opt.queue%20)%20%7B%0D%0A%09%09%09jQuery.dequeue(%20this%2C%20opt.queue%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%0D%0A%09return%20opt%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09fadeTo%3A%20function(%20speed%2C%20to%2C%20easing%2C%20callback%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Show%20any%20hidden%20elements%20after%20setting%20opacity%20to%200%0D%0A%09%09return%20this.filter(%20isHiddenWithinTree%20).css(%20%22opacity%22%2C%200%20).show()%0D%0A%0D%0A%09%09%09%2F%2F%20Animate%20to%20the%20value%20specified%0D%0A%09%09%09.end().animate(%20%7B%20opacity%3A%20to%20%7D%2C%20speed%2C%20easing%2C%20callback%20)%3B%0D%0A%09%7D%2C%0D%0A%09animate%3A%20function(%20prop%2C%20speed%2C%20easing%2C%20callback%20)%20%7B%0D%0A%09%09var%20empty%20%3D%20jQuery.isEmptyObject(%20prop%20)%2C%0D%0A%09%09%09optall%20%3D%20jQuery.speed(%20speed%2C%20easing%2C%20callback%20)%2C%0D%0A%09%09%09doAnimation%20%3D%20function()%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Operate%20on%20a%20copy%20of%20prop%20so%20per-property%20easing%20won't%20be%20lost%0D%0A%09%09%09%09var%20anim%20%3D%20Animation(%20this%2C%20jQuery.extend(%20%7B%7D%2C%20prop%20)%2C%20optall%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Empty%20animations%2C%20or%20finishing%20resolves%20immediately%0D%0A%09%09%09%09if%20(%20empty%20%7C%7C%20dataPriv.get(%20this%2C%20%22finish%22%20)%20)%20%7B%0D%0A%09%09%09%09%09anim.stop(%20true%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09doAnimation.finish%20%3D%20doAnimation%3B%0D%0A%0D%0A%09%09return%20empty%20%7C%7C%20optall.queue%20%3D%3D%3D%20false%20%3F%0D%0A%09%09%09this.each(%20doAnimation%20)%20%3A%0D%0A%09%09%09this.queue(%20optall.queue%2C%20doAnimation%20)%3B%0D%0A%09%7D%2C%0D%0A%09stop%3A%20function(%20type%2C%20clearQueue%2C%20gotoEnd%20)%20%7B%0D%0A%09%09var%20stopQueue%20%3D%20function(%20hooks%20)%20%7B%0D%0A%09%09%09var%20stop%20%3D%20hooks.stop%3B%0D%0A%09%09%09delete%20hooks.stop%3B%0D%0A%09%09%09stop(%20gotoEnd%20)%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09if%20(%20typeof%20type%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09gotoEnd%20%3D%20clearQueue%3B%0D%0A%09%09%09clearQueue%20%3D%20type%3B%0D%0A%09%09%09type%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%09%09if%20(%20clearQueue%20%26%26%20type%20!%3D%3D%20false%20)%20%7B%0D%0A%09%09%09this.queue(%20type%20%7C%7C%20%22fx%22%2C%20%5B%5D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09var%20dequeue%20%3D%20true%2C%0D%0A%09%09%09%09index%20%3D%20type%20!%3D%20null%20%26%26%20type%20%2B%20%22queueHooks%22%2C%0D%0A%09%09%09%09timers%20%3D%20jQuery.timers%2C%0D%0A%09%09%09%09data%20%3D%20dataPriv.get(%20this%20)%3B%0D%0A%0D%0A%09%09%09if%20(%20index%20)%20%7B%0D%0A%09%09%09%09if%20(%20data%5B%20index%20%5D%20%26%26%20data%5B%20index%20%5D.stop%20)%20%7B%0D%0A%09%09%09%09%09stopQueue(%20data%5B%20index%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09for%20(%20index%20in%20data%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20data%5B%20index%20%5D%20%26%26%20data%5B%20index%20%5D.stop%20%26%26%20rrun.test(%20index%20)%20)%20%7B%0D%0A%09%09%09%09%09%09stopQueue(%20data%5B%20index%20%5D%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09for%20(%20index%20%3D%20timers.length%3B%20index--%3B%20)%20%7B%0D%0A%09%09%09%09if%20(%20timers%5B%20index%20%5D.elem%20%3D%3D%3D%20this%20%26%26%0D%0A%09%09%09%09%09(%20type%20%3D%3D%20null%20%7C%7C%20timers%5B%20index%20%5D.queue%20%3D%3D%3D%20type%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09timers%5B%20index%20%5D.anim.stop(%20gotoEnd%20)%3B%0D%0A%09%09%09%09%09dequeue%20%3D%20false%3B%0D%0A%09%09%09%09%09timers.splice(%20index%2C%201%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Start%20the%20next%20in%20the%20queue%20if%20the%20last%20step%20wasn't%20forced.%0D%0A%09%09%09%2F%2F%20Timers%20currently%20will%20call%20their%20complete%20callbacks%2C%20which%0D%0A%09%09%09%2F%2F%20will%20dequeue%20but%20only%20if%20they%20were%20gotoEnd.%0D%0A%09%09%09if%20(%20dequeue%20%7C%7C%20!gotoEnd%20)%20%7B%0D%0A%09%09%09%09jQuery.dequeue(%20this%2C%20type%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%09finish%3A%20function(%20type%20)%20%7B%0D%0A%09%09if%20(%20type%20!%3D%3D%20false%20)%20%7B%0D%0A%09%09%09type%20%3D%20type%20%7C%7C%20%22fx%22%3B%0D%0A%09%09%7D%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09var%20index%2C%0D%0A%09%09%09%09data%20%3D%20dataPriv.get(%20this%20)%2C%0D%0A%09%09%09%09queue%20%3D%20data%5B%20type%20%2B%20%22queue%22%20%5D%2C%0D%0A%09%09%09%09hooks%20%3D%20data%5B%20type%20%2B%20%22queueHooks%22%20%5D%2C%0D%0A%09%09%09%09timers%20%3D%20jQuery.timers%2C%0D%0A%09%09%09%09length%20%3D%20queue%20%3F%20queue.length%20%3A%200%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Enable%20finishing%20flag%20on%20private%20data%0D%0A%09%09%09data.finish%20%3D%20true%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Empty%20the%20queue%20first%0D%0A%09%09%09jQuery.queue(%20this%2C%20type%2C%20%5B%5D%20)%3B%0D%0A%0D%0A%09%09%09if%20(%20hooks%20%26%26%20hooks.stop%20)%20%7B%0D%0A%09%09%09%09hooks.stop.call(%20this%2C%20true%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Look%20for%20any%20active%20animations%2C%20and%20finish%20them%0D%0A%09%09%09for%20(%20index%20%3D%20timers.length%3B%20index--%3B%20)%20%7B%0D%0A%09%09%09%09if%20(%20timers%5B%20index%20%5D.elem%20%3D%3D%3D%20this%20%26%26%20timers%5B%20index%20%5D.queue%20%3D%3D%3D%20type%20)%20%7B%0D%0A%09%09%09%09%09timers%5B%20index%20%5D.anim.stop(%20true%20)%3B%0D%0A%09%09%09%09%09timers.splice(%20index%2C%201%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Look%20for%20any%20animations%20in%20the%20old%20queue%20and%20finish%20them%0D%0A%09%09%09for%20(%20index%20%3D%200%3B%20index%20%3C%20length%3B%20index%2B%2B%20)%20%7B%0D%0A%09%09%09%09if%20(%20queue%5B%20index%20%5D%20%26%26%20queue%5B%20index%20%5D.finish%20)%20%7B%0D%0A%09%09%09%09%09queue%5B%20index%20%5D.finish.call(%20this%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Turn%20off%20finishing%20flag%0D%0A%09%09%09delete%20data.finish%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.each(%20%5B%20%22toggle%22%2C%20%22show%22%2C%20%22hide%22%20%5D%2C%20function(%20i%2C%20name%20)%20%7B%0D%0A%09var%20cssFn%20%3D%20jQuery.fn%5B%20name%20%5D%3B%0D%0A%09jQuery.fn%5B%20name%20%5D%20%3D%20function(%20speed%2C%20easing%2C%20callback%20)%20%7B%0D%0A%09%09return%20speed%20%3D%3D%20null%20%7C%7C%20typeof%20speed%20%3D%3D%3D%20%22boolean%22%20%3F%0D%0A%09%09%09cssFn.apply(%20this%2C%20arguments%20)%20%3A%0D%0A%09%09%09this.animate(%20genFx(%20name%2C%20true%20)%2C%20speed%2C%20easing%2C%20callback%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Generate%20shortcuts%20for%20custom%20animations%0D%0AjQuery.each(%20%7B%0D%0A%09slideDown%3A%20genFx(%20%22show%22%20)%2C%0D%0A%09slideUp%3A%20genFx(%20%22hide%22%20)%2C%0D%0A%09slideToggle%3A%20genFx(%20%22toggle%22%20)%2C%0D%0A%09fadeIn%3A%20%7B%20opacity%3A%20%22show%22%20%7D%2C%0D%0A%09fadeOut%3A%20%7B%20opacity%3A%20%22hide%22%20%7D%2C%0D%0A%09fadeToggle%3A%20%7B%20opacity%3A%20%22toggle%22%20%7D%0D%0A%7D%2C%20function(%20name%2C%20props%20)%20%7B%0D%0A%09jQuery.fn%5B%20name%20%5D%20%3D%20function(%20speed%2C%20easing%2C%20callback%20)%20%7B%0D%0A%09%09return%20this.animate(%20props%2C%20speed%2C%20easing%2C%20callback%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.timers%20%3D%20%5B%5D%3B%0D%0AjQuery.fx.tick%20%3D%20function()%20%7B%0D%0A%09var%20timer%2C%0D%0A%09%09i%20%3D%200%2C%0D%0A%09%09timers%20%3D%20jQuery.timers%3B%0D%0A%0D%0A%09fxNow%20%3D%20Date.now()%3B%0D%0A%0D%0A%09for%20(%20%3B%20i%20%3C%20timers.length%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09timer%20%3D%20timers%5B%20i%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20Run%20the%20timer%20and%20safely%20remove%20it%20when%20done%20(allowing%20for%20external%20removal)%0D%0A%09%09if%20(%20!timer()%20%26%26%20timers%5B%20i%20%5D%20%3D%3D%3D%20timer%20)%20%7B%0D%0A%09%09%09timers.splice(%20i--%2C%201%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20!timers.length%20)%20%7B%0D%0A%09%09jQuery.fx.stop()%3B%0D%0A%09%7D%0D%0A%09fxNow%20%3D%20undefined%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fx.timer%20%3D%20function(%20timer%20)%20%7B%0D%0A%09jQuery.timers.push(%20timer%20)%3B%0D%0A%09jQuery.fx.start()%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fx.interval%20%3D%2013%3B%0D%0AjQuery.fx.start%20%3D%20function()%20%7B%0D%0A%09if%20(%20inProgress%20)%20%7B%0D%0A%09%09return%3B%0D%0A%09%7D%0D%0A%0D%0A%09inProgress%20%3D%20true%3B%0D%0A%09schedule()%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fx.stop%20%3D%20function()%20%7B%0D%0A%09inProgress%20%3D%20null%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fx.speeds%20%3D%20%7B%0D%0A%09slow%3A%20600%2C%0D%0A%09fast%3A%20200%2C%0D%0A%0D%0A%09%2F%2F%20Default%20speed%0D%0A%09_default%3A%20400%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Based%20off%20of%20the%20plugin%20by%20Clint%20Helfers%2C%20with%20permission.%0D%0A%2F%2F%20https%3A%2F%2Fweb.archive.org%2Fweb%2F20100324014747%2Fhttp%3A%2F%2Fblindsignals.com%2Findex.php%2F2009%2F07%2Fjquery-delay%2F%0D%0AjQuery.fn.delay%20%3D%20function(%20time%2C%20type%20)%20%7B%0D%0A%09time%20%3D%20jQuery.fx%20%3F%20jQuery.fx.speeds%5B%20time%20%5D%20%7C%7C%20time%20%3A%20time%3B%0D%0A%09type%20%3D%20type%20%7C%7C%20%22fx%22%3B%0D%0A%0D%0A%09return%20this.queue(%20type%2C%20function(%20next%2C%20hooks%20)%20%7B%0D%0A%09%09var%20timeout%20%3D%20window.setTimeout(%20next%2C%20time%20)%3B%0D%0A%09%09hooks.stop%20%3D%20function()%20%7B%0D%0A%09%09%09window.clearTimeout(%20timeout%20)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A(%20function()%20%7B%0D%0A%09var%20input%20%3D%20document.createElement(%20%22input%22%20)%2C%0D%0A%09%09select%20%3D%20document.createElement(%20%22select%22%20)%2C%0D%0A%09%09opt%20%3D%20select.appendChild(%20document.createElement(%20%22option%22%20)%20)%3B%0D%0A%0D%0A%09input.type%20%3D%20%22checkbox%22%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20Android%20%3C%3D4.3%20only%0D%0A%09%2F%2F%20Default%20value%20for%20a%20checkbox%20should%20be%20%22on%22%0D%0A%09support.checkOn%20%3D%20input.value%20!%3D%3D%20%22%22%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D11%20only%0D%0A%09%2F%2F%20Must%20access%20selectedIndex%20to%20make%20default%20options%20select%0D%0A%09support.optSelected%20%3D%20opt.selected%3B%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%20%3C%3D11%20only%0D%0A%09%2F%2F%20An%20input%20loses%20its%20value%20after%20becoming%20a%20radio%0D%0A%09input%20%3D%20document.createElement(%20%22input%22%20)%3B%0D%0A%09input.value%20%3D%20%22t%22%3B%0D%0A%09input.type%20%3D%20%22radio%22%3B%0D%0A%09support.radioValue%20%3D%20input.value%20%3D%3D%3D%20%22t%22%3B%0D%0A%7D%20)()%3B%0D%0A%0D%0A%0D%0Avar%20boolHook%2C%0D%0A%09attrHandle%20%3D%20jQuery.expr.attrHandle%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09attr%3A%20function(%20name%2C%20value%20)%20%7B%0D%0A%09%09return%20access(%20this%2C%20jQuery.attr%2C%20name%2C%20value%2C%20arguments.length%20%3E%201%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09removeAttr%3A%20function(%20name%20)%20%7B%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09jQuery.removeAttr(%20this%2C%20name%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%09attr%3A%20function(%20elem%2C%20name%2C%20value%20)%20%7B%0D%0A%09%09var%20ret%2C%20hooks%2C%0D%0A%09%09%09nType%20%3D%20elem.nodeType%3B%0D%0A%0D%0A%09%09%2F%2F%20Don't%20get%2Fset%20attributes%20on%20text%2C%20comment%20and%20attribute%20nodes%0D%0A%09%09if%20(%20nType%20%3D%3D%3D%203%20%7C%7C%20nType%20%3D%3D%3D%208%20%7C%7C%20nType%20%3D%3D%3D%202%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Fallback%20to%20prop%20when%20attributes%20are%20not%20supported%0D%0A%09%09if%20(%20typeof%20elem.getAttribute%20%3D%3D%3D%20%22undefined%22%20)%20%7B%0D%0A%09%09%09return%20jQuery.prop(%20elem%2C%20name%2C%20value%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Attribute%20hooks%20are%20determined%20by%20the%20lowercase%20version%0D%0A%09%09%2F%2F%20Grab%20necessary%20hook%20if%20one%20is%20defined%0D%0A%09%09if%20(%20nType%20!%3D%3D%201%20%7C%7C%20!jQuery.isXMLDoc(%20elem%20)%20)%20%7B%0D%0A%09%09%09hooks%20%3D%20jQuery.attrHooks%5B%20name.toLowerCase()%20%5D%20%7C%7C%0D%0A%09%09%09%09(%20jQuery.expr.match.bool.test(%20name%20)%20%3F%20boolHook%20%3A%20undefined%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20value%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09if%20(%20value%20%3D%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09jQuery.removeAttr(%20elem%2C%20name%20)%3B%0D%0A%09%09%09%09return%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20hooks%20%26%26%20%22set%22%20in%20hooks%20%26%26%0D%0A%09%09%09%09(%20ret%20%3D%20hooks.set(%20elem%2C%20value%2C%20name%20)%20)%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09return%20ret%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09elem.setAttribute(%20name%2C%20value%20%2B%20%22%22%20)%3B%0D%0A%09%09%09return%20value%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20hooks%20%26%26%20%22get%22%20in%20hooks%20%26%26%20(%20ret%20%3D%20hooks.get(%20elem%2C%20name%20)%20)%20!%3D%3D%20null%20)%20%7B%0D%0A%09%09%09return%20ret%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09ret%20%3D%20jQuery.find.attr(%20elem%2C%20name%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Non-existent%20attributes%20return%20null%2C%20we%20normalize%20to%20undefined%0D%0A%09%09return%20ret%20%3D%3D%20null%20%3F%20undefined%20%3A%20ret%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09attrHooks%3A%20%7B%0D%0A%09%09type%3A%20%7B%0D%0A%09%09%09set%3A%20function(%20elem%2C%20value%20)%20%7B%0D%0A%09%09%09%09if%20(%20!support.radioValue%20%26%26%20value%20%3D%3D%3D%20%22radio%22%20%26%26%0D%0A%09%09%09%09%09nodeName(%20elem%2C%20%22input%22%20)%20)%20%7B%0D%0A%09%09%09%09%09var%20val%20%3D%20elem.value%3B%0D%0A%09%09%09%09%09elem.setAttribute(%20%22type%22%2C%20value%20)%3B%0D%0A%09%09%09%09%09if%20(%20val%20)%20%7B%0D%0A%09%09%09%09%09%09elem.value%20%3D%20val%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20value%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09removeAttr%3A%20function(%20elem%2C%20value%20)%20%7B%0D%0A%09%09var%20name%2C%0D%0A%09%09%09i%20%3D%200%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Attribute%20names%20can%20contain%20non-HTML%20whitespace%20characters%0D%0A%09%09%09%2F%2F%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fsyntax.html%23attributes-2%0D%0A%09%09%09attrNames%20%3D%20value%20%26%26%20value.match(%20rnothtmlwhite%20)%3B%0D%0A%0D%0A%09%09if%20(%20attrNames%20%26%26%20elem.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%09%09%09while%20(%20(%20name%20%3D%20attrNames%5B%20i%2B%2B%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09elem.removeAttribute(%20name%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Hooks%20for%20boolean%20attributes%0D%0AboolHook%20%3D%20%7B%0D%0A%09set%3A%20function(%20elem%2C%20value%2C%20name%20)%20%7B%0D%0A%09%09if%20(%20value%20%3D%3D%3D%20false%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Remove%20boolean%20attributes%20when%20set%20to%20false%0D%0A%09%09%09jQuery.removeAttr(%20elem%2C%20name%20)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09elem.setAttribute(%20name%2C%20name%20)%3B%0D%0A%09%09%7D%0D%0A%09%09return%20name%3B%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0AjQuery.each(%20jQuery.expr.match.bool.source.match(%20%2F%5Cw%2B%2Fg%20)%2C%20function(%20i%2C%20name%20)%20%7B%0D%0A%09var%20getter%20%3D%20attrHandle%5B%20name%20%5D%20%7C%7C%20jQuery.find.attr%3B%0D%0A%0D%0A%09attrHandle%5B%20name%20%5D%20%3D%20function(%20elem%2C%20name%2C%20isXML%20)%20%7B%0D%0A%09%09var%20ret%2C%20handle%2C%0D%0A%09%09%09lowercaseName%20%3D%20name.toLowerCase()%3B%0D%0A%0D%0A%09%09if%20(%20!isXML%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Avoid%20an%20infinite%20loop%20by%20temporarily%20removing%20this%20function%20from%20the%20getter%0D%0A%09%09%09handle%20%3D%20attrHandle%5B%20lowercaseName%20%5D%3B%0D%0A%09%09%09attrHandle%5B%20lowercaseName%20%5D%20%3D%20ret%3B%0D%0A%09%09%09ret%20%3D%20getter(%20elem%2C%20name%2C%20isXML%20)%20!%3D%20null%20%3F%0D%0A%09%09%09%09lowercaseName%20%3A%0D%0A%09%09%09%09null%3B%0D%0A%09%09%09attrHandle%5B%20lowercaseName%20%5D%20%3D%20handle%3B%0D%0A%09%09%7D%0D%0A%09%09return%20ret%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Avar%20rfocusable%20%3D%20%2F%5E(%3F%3Ainput%7Cselect%7Ctextarea%7Cbutton)%24%2Fi%2C%0D%0A%09rclickable%20%3D%20%2F%5E(%3F%3Aa%7Carea)%24%2Fi%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09prop%3A%20function(%20name%2C%20value%20)%20%7B%0D%0A%09%09return%20access(%20this%2C%20jQuery.prop%2C%20name%2C%20value%2C%20arguments.length%20%3E%201%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09removeProp%3A%20function(%20name%20)%20%7B%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09delete%20this%5B%20jQuery.propFix%5B%20name%20%5D%20%7C%7C%20name%20%5D%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%09prop%3A%20function(%20elem%2C%20name%2C%20value%20)%20%7B%0D%0A%09%09var%20ret%2C%20hooks%2C%0D%0A%09%09%09nType%20%3D%20elem.nodeType%3B%0D%0A%0D%0A%09%09%2F%2F%20Don't%20get%2Fset%20properties%20on%20text%2C%20comment%20and%20attribute%20nodes%0D%0A%09%09if%20(%20nType%20%3D%3D%3D%203%20%7C%7C%20nType%20%3D%3D%3D%208%20%7C%7C%20nType%20%3D%3D%3D%202%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20nType%20!%3D%3D%201%20%7C%7C%20!jQuery.isXMLDoc(%20elem%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Fix%20name%20and%20attach%20hooks%0D%0A%09%09%09name%20%3D%20jQuery.propFix%5B%20name%20%5D%20%7C%7C%20name%3B%0D%0A%09%09%09hooks%20%3D%20jQuery.propHooks%5B%20name%20%5D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20value%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09if%20(%20hooks%20%26%26%20%22set%22%20in%20hooks%20%26%26%0D%0A%09%09%09%09(%20ret%20%3D%20hooks.set(%20elem%2C%20value%2C%20name%20)%20)%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09return%20ret%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20(%20elem%5B%20name%20%5D%20%3D%20value%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20hooks%20%26%26%20%22get%22%20in%20hooks%20%26%26%20(%20ret%20%3D%20hooks.get(%20elem%2C%20name%20)%20)%20!%3D%3D%20null%20)%20%7B%0D%0A%09%09%09return%20ret%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20elem%5B%20name%20%5D%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09propHooks%3A%20%7B%0D%0A%09%09tabIndex%3A%20%7B%0D%0A%09%09%09get%3A%20function(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20-%2011%20only%0D%0A%09%09%09%09%2F%2F%20elem.tabIndex%20doesn't%20always%20return%20the%0D%0A%09%09%09%09%2F%2F%20correct%20value%20when%20it%20hasn't%20been%20explicitly%20set%0D%0A%09%09%09%09%2F%2F%20https%3A%2F%2Fweb.archive.org%2Fweb%2F20141116233347%2Fhttp%3A%2F%2Ffluidproject.org%2Fblog%2F2008%2F01%2F09%2Fgetting-setting-and-removing-tabindex-values-with-javascript%2F%0D%0A%09%09%09%09%2F%2F%20Use%20proper%20attribute%20retrieval(%2312072)%0D%0A%09%09%09%09var%20tabindex%20%3D%20jQuery.find.attr(%20elem%2C%20%22tabindex%22%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20tabindex%20)%20%7B%0D%0A%09%09%09%09%09return%20parseInt(%20tabindex%2C%2010%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09if%20(%0D%0A%09%09%09%09%09rfocusable.test(%20elem.nodeName%20)%20%7C%7C%0D%0A%09%09%09%09%09rclickable.test(%20elem.nodeName%20)%20%26%26%0D%0A%09%09%09%09%09elem.href%0D%0A%09%09%09%09)%20%7B%0D%0A%09%09%09%09%09return%200%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09return%20-1%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09propFix%3A%20%7B%0D%0A%09%09%22for%22%3A%20%22htmlFor%22%2C%0D%0A%09%09%22class%22%3A%20%22className%22%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Support%3A%20IE%20%3C%3D11%20only%0D%0A%2F%2F%20Accessing%20the%20selectedIndex%20property%0D%0A%2F%2F%20forces%20the%20browser%20to%20respect%20setting%20selected%0D%0A%2F%2F%20on%20the%20option%0D%0A%2F%2F%20The%20getter%20ensures%20a%20default%20option%20is%20selected%0D%0A%2F%2F%20when%20in%20an%20optgroup%0D%0A%2F%2F%20eslint%20rule%20%22no-unused-expressions%22%20is%20disabled%20for%20this%20code%0D%0A%2F%2F%20since%20it%20considers%20such%20accessions%20noop%0D%0Aif%20(%20!support.optSelected%20)%20%7B%0D%0A%09jQuery.propHooks.selected%20%3D%20%7B%0D%0A%09%09get%3A%20function(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%09%2F*%20eslint%20no-unused-expressions%3A%20%22off%22%20*%2F%0D%0A%0D%0A%09%09%09var%20parent%20%3D%20elem.parentNode%3B%0D%0A%09%09%09if%20(%20parent%20%26%26%20parent.parentNode%20)%20%7B%0D%0A%09%09%09%09parent.parentNode.selectedIndex%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20null%3B%0D%0A%09%09%7D%2C%0D%0A%09%09set%3A%20function(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%09%2F*%20eslint%20no-unused-expressions%3A%20%22off%22%20*%2F%0D%0A%0D%0A%09%09%09var%20parent%20%3D%20elem.parentNode%3B%0D%0A%09%09%09if%20(%20parent%20)%20%7B%0D%0A%09%09%09%09parent.selectedIndex%3B%0D%0A%0D%0A%09%09%09%09if%20(%20parent.parentNode%20)%20%7B%0D%0A%09%09%09%09%09parent.parentNode.selectedIndex%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%7D%0D%0A%0D%0AjQuery.each(%20%5B%0D%0A%09%22tabIndex%22%2C%0D%0A%09%22readOnly%22%2C%0D%0A%09%22maxLength%22%2C%0D%0A%09%22cellSpacing%22%2C%0D%0A%09%22cellPadding%22%2C%0D%0A%09%22rowSpan%22%2C%0D%0A%09%22colSpan%22%2C%0D%0A%09%22useMap%22%2C%0D%0A%09%22frameBorder%22%2C%0D%0A%09%22contentEditable%22%0D%0A%5D%2C%20function()%20%7B%0D%0A%09jQuery.propFix%5B%20this.toLowerCase()%20%5D%20%3D%20this%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%09%2F%2F%20Strip%20and%20collapse%20whitespace%20according%20to%20HTML%20spec%0D%0A%09%2F%2F%20https%3A%2F%2Finfra.spec.whatwg.org%2F%23strip-and-collapse-ascii-whitespace%0D%0A%09function%20stripAndCollapse(%20value%20)%20%7B%0D%0A%09%09var%20tokens%20%3D%20value.match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%5D%3B%0D%0A%09%09return%20tokens.join(%20%22%20%22%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%0D%0Afunction%20getClass(%20elem%20)%20%7B%0D%0A%09return%20elem.getAttribute%20%26%26%20elem.getAttribute(%20%22class%22%20)%20%7C%7C%20%22%22%3B%0D%0A%7D%0D%0A%0D%0Afunction%20classesToArray(%20value%20)%20%7B%0D%0A%09if%20(%20Array.isArray(%20value%20)%20)%20%7B%0D%0A%09%09return%20value%3B%0D%0A%09%7D%0D%0A%09if%20(%20typeof%20value%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09return%20value.match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%5D%3B%0D%0A%09%7D%0D%0A%09return%20%5B%5D%3B%0D%0A%7D%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09addClass%3A%20function(%20value%20)%20%7B%0D%0A%09%09var%20classes%2C%20elem%2C%20cur%2C%20curValue%2C%20clazz%2C%20j%2C%20finalValue%2C%0D%0A%09%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%09if%20(%20isFunction(%20value%20)%20)%20%7B%0D%0A%09%09%09return%20this.each(%20function(%20j%20)%20%7B%0D%0A%09%09%09%09jQuery(%20this%20).addClass(%20value.call(%20this%2C%20j%2C%20getClass(%20this%20)%20)%20)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09classes%20%3D%20classesToArray(%20value%20)%3B%0D%0A%0D%0A%09%09if%20(%20classes.length%20)%20%7B%0D%0A%09%09%09while%20(%20(%20elem%20%3D%20this%5B%20i%2B%2B%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09curValue%20%3D%20getClass(%20elem%20)%3B%0D%0A%09%09%09%09cur%20%3D%20elem.nodeType%20%3D%3D%3D%201%20%26%26%20(%20%22%20%22%20%2B%20stripAndCollapse(%20curValue%20)%20%2B%20%22%20%22%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20cur%20)%20%7B%0D%0A%09%09%09%09%09j%20%3D%200%3B%0D%0A%09%09%09%09%09while%20(%20(%20clazz%20%3D%20classes%5B%20j%2B%2B%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20cur.indexOf(%20%22%20%22%20%2B%20clazz%20%2B%20%22%20%22%20)%20%3C%200%20)%20%7B%0D%0A%09%09%09%09%09%09%09cur%20%2B%3D%20clazz%20%2B%20%22%20%22%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Only%20assign%20if%20different%20to%20avoid%20unneeded%20rendering.%0D%0A%09%09%09%09%09finalValue%20%3D%20stripAndCollapse(%20cur%20)%3B%0D%0A%09%09%09%09%09if%20(%20curValue%20!%3D%3D%20finalValue%20)%20%7B%0D%0A%09%09%09%09%09%09elem.setAttribute(%20%22class%22%2C%20finalValue%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09removeClass%3A%20function(%20value%20)%20%7B%0D%0A%09%09var%20classes%2C%20elem%2C%20cur%2C%20curValue%2C%20clazz%2C%20j%2C%20finalValue%2C%0D%0A%09%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%09if%20(%20isFunction(%20value%20)%20)%20%7B%0D%0A%09%09%09return%20this.each(%20function(%20j%20)%20%7B%0D%0A%09%09%09%09jQuery(%20this%20).removeClass(%20value.call(%20this%2C%20j%2C%20getClass(%20this%20)%20)%20)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20!arguments.length%20)%20%7B%0D%0A%09%09%09return%20this.attr(%20%22class%22%2C%20%22%22%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09classes%20%3D%20classesToArray(%20value%20)%3B%0D%0A%0D%0A%09%09if%20(%20classes.length%20)%20%7B%0D%0A%09%09%09while%20(%20(%20elem%20%3D%20this%5B%20i%2B%2B%20%5D%20)%20)%20%7B%0D%0A%09%09%09%09curValue%20%3D%20getClass(%20elem%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20This%20expression%20is%20here%20for%20better%20compressibility%20(see%20addClass)%0D%0A%09%09%09%09cur%20%3D%20elem.nodeType%20%3D%3D%3D%201%20%26%26%20(%20%22%20%22%20%2B%20stripAndCollapse(%20curValue%20)%20%2B%20%22%20%22%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20cur%20)%20%7B%0D%0A%09%09%09%09%09j%20%3D%200%3B%0D%0A%09%09%09%09%09while%20(%20(%20clazz%20%3D%20classes%5B%20j%2B%2B%20%5D%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Remove%20*all*%20instances%0D%0A%09%09%09%09%09%09while%20(%20cur.indexOf(%20%22%20%22%20%2B%20clazz%20%2B%20%22%20%22%20)%20%3E%20-1%20)%20%7B%0D%0A%09%09%09%09%09%09%09cur%20%3D%20cur.replace(%20%22%20%22%20%2B%20clazz%20%2B%20%22%20%22%2C%20%22%20%22%20)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Only%20assign%20if%20different%20to%20avoid%20unneeded%20rendering.%0D%0A%09%09%09%09%09finalValue%20%3D%20stripAndCollapse(%20cur%20)%3B%0D%0A%09%09%09%09%09if%20(%20curValue%20!%3D%3D%20finalValue%20)%20%7B%0D%0A%09%09%09%09%09%09elem.setAttribute(%20%22class%22%2C%20finalValue%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09toggleClass%3A%20function(%20value%2C%20stateVal%20)%20%7B%0D%0A%09%09var%20type%20%3D%20typeof%20value%2C%0D%0A%09%09%09isValidValue%20%3D%20type%20%3D%3D%3D%20%22string%22%20%7C%7C%20Array.isArray(%20value%20)%3B%0D%0A%0D%0A%09%09if%20(%20typeof%20stateVal%20%3D%3D%3D%20%22boolean%22%20%26%26%20isValidValue%20)%20%7B%0D%0A%09%09%09return%20stateVal%20%3F%20this.addClass(%20value%20)%20%3A%20this.removeClass(%20value%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20isFunction(%20value%20)%20)%20%7B%0D%0A%09%09%09return%20this.each(%20function(%20i%20)%20%7B%0D%0A%09%09%09%09jQuery(%20this%20).toggleClass(%0D%0A%09%09%09%09%09value.call(%20this%2C%20i%2C%20getClass(%20this%20)%2C%20stateVal%20)%2C%0D%0A%09%09%09%09%09stateVal%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09var%20className%2C%20i%2C%20self%2C%20classNames%3B%0D%0A%0D%0A%09%09%09if%20(%20isValidValue%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Toggle%20individual%20class%20names%0D%0A%09%09%09%09i%20%3D%200%3B%0D%0A%09%09%09%09self%20%3D%20jQuery(%20this%20)%3B%0D%0A%09%09%09%09classNames%20%3D%20classesToArray(%20value%20)%3B%0D%0A%0D%0A%09%09%09%09while%20(%20(%20className%20%3D%20classNames%5B%20i%2B%2B%20%5D%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Check%20each%20className%20given%2C%20space%20separated%20list%0D%0A%09%09%09%09%09if%20(%20self.hasClass(%20className%20)%20)%20%7B%0D%0A%09%09%09%09%09%09self.removeClass(%20className%20)%3B%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09self.addClass(%20className%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Toggle%20whole%20class%20name%0D%0A%09%09%09%7D%20else%20if%20(%20value%20%3D%3D%3D%20undefined%20%7C%7C%20type%20%3D%3D%3D%20%22boolean%22%20)%20%7B%0D%0A%09%09%09%09className%20%3D%20getClass(%20this%20)%3B%0D%0A%09%09%09%09if%20(%20className%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Store%20className%20if%20set%0D%0A%09%09%09%09%09dataPriv.set(%20this%2C%20%22__className__%22%2C%20className%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20the%20element%20has%20a%20class%20name%20or%20if%20we're%20passed%20%60false%60%2C%0D%0A%09%09%09%09%2F%2F%20then%20remove%20the%20whole%20classname%20(if%20there%20was%20one%2C%20the%20above%20saved%20it).%0D%0A%09%09%09%09%2F%2F%20Otherwise%20bring%20back%20whatever%20was%20previously%20saved%20(if%20anything)%2C%0D%0A%09%09%09%09%2F%2F%20falling%20back%20to%20the%20empty%20string%20if%20nothing%20was%20stored.%0D%0A%09%09%09%09if%20(%20this.setAttribute%20)%20%7B%0D%0A%09%09%09%09%09this.setAttribute(%20%22class%22%2C%0D%0A%09%09%09%09%09%09className%20%7C%7C%20value%20%3D%3D%3D%20false%20%3F%0D%0A%09%09%09%09%09%09%22%22%20%3A%0D%0A%09%09%09%09%09%09dataPriv.get(%20this%2C%20%22__className__%22%20)%20%7C%7C%20%22%22%0D%0A%09%09%09%09%09)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09hasClass%3A%20function(%20selector%20)%20%7B%0D%0A%09%09var%20className%2C%20elem%2C%0D%0A%09%09%09i%20%3D%200%3B%0D%0A%0D%0A%09%09className%20%3D%20%22%20%22%20%2B%20selector%20%2B%20%22%20%22%3B%0D%0A%09%09while%20(%20(%20elem%20%3D%20this%5B%20i%2B%2B%20%5D%20)%20)%20%7B%0D%0A%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%201%20%26%26%0D%0A%09%09%09%09(%20%22%20%22%20%2B%20stripAndCollapse(%20getClass(%20elem%20)%20)%20%2B%20%22%20%22%20).indexOf(%20className%20)%20%3E%20-1%20)%20%7B%0D%0A%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20false%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Avar%20rreturn%20%3D%20%2F%5Cr%2Fg%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09val%3A%20function(%20value%20)%20%7B%0D%0A%09%09var%20hooks%2C%20ret%2C%20valueIsFunction%2C%0D%0A%09%09%09elem%20%3D%20this%5B%200%20%5D%3B%0D%0A%0D%0A%09%09if%20(%20!arguments.length%20)%20%7B%0D%0A%09%09%09if%20(%20elem%20)%20%7B%0D%0A%09%09%09%09hooks%20%3D%20jQuery.valHooks%5B%20elem.type%20%5D%20%7C%7C%0D%0A%09%09%09%09%09jQuery.valHooks%5B%20elem.nodeName.toLowerCase()%20%5D%3B%0D%0A%0D%0A%09%09%09%09if%20(%20hooks%20%26%26%0D%0A%09%09%09%09%09%22get%22%20in%20hooks%20%26%26%0D%0A%09%09%09%09%09(%20ret%20%3D%20hooks.get(%20elem%2C%20%22value%22%20)%20)%20!%3D%3D%20undefined%0D%0A%09%09%09%09)%20%7B%0D%0A%09%09%09%09%09return%20ret%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09ret%20%3D%20elem.value%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Handle%20most%20common%20string%20cases%0D%0A%09%09%09%09if%20(%20typeof%20ret%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09%09%09return%20ret.replace(%20rreturn%2C%20%22%22%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Handle%20cases%20where%20value%20is%20null%2Fundef%20or%20number%0D%0A%09%09%09%09return%20ret%20%3D%3D%20null%20%3F%20%22%22%20%3A%20ret%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09valueIsFunction%20%3D%20isFunction(%20value%20)%3B%0D%0A%0D%0A%09%09return%20this.each(%20function(%20i%20)%20%7B%0D%0A%09%09%09var%20val%3B%0D%0A%0D%0A%09%09%09if%20(%20this.nodeType%20!%3D%3D%201%20)%20%7B%0D%0A%09%09%09%09return%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20valueIsFunction%20)%20%7B%0D%0A%09%09%09%09val%20%3D%20value.call(%20this%2C%20i%2C%20jQuery(%20this%20).val()%20)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09val%20%3D%20value%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Treat%20null%2Fundefined%20as%20%22%22%3B%20convert%20numbers%20to%20string%0D%0A%09%09%09if%20(%20val%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09val%20%3D%20%22%22%3B%0D%0A%0D%0A%09%09%09%7D%20else%20if%20(%20typeof%20val%20%3D%3D%3D%20%22number%22%20)%20%7B%0D%0A%09%09%09%09val%20%2B%3D%20%22%22%3B%0D%0A%0D%0A%09%09%09%7D%20else%20if%20(%20Array.isArray(%20val%20)%20)%20%7B%0D%0A%09%09%09%09val%20%3D%20jQuery.map(%20val%2C%20function(%20value%20)%20%7B%0D%0A%09%09%09%09%09return%20value%20%3D%3D%20null%20%3F%20%22%22%20%3A%20value%20%2B%20%22%22%3B%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09hooks%20%3D%20jQuery.valHooks%5B%20this.type%20%5D%20%7C%7C%20jQuery.valHooks%5B%20this.nodeName.toLowerCase()%20%5D%3B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20set%20returns%20undefined%2C%20fall%20back%20to%20normal%20setting%0D%0A%09%09%09if%20(%20!hooks%20%7C%7C%20!(%20%22set%22%20in%20hooks%20)%20%7C%7C%20hooks.set(%20this%2C%20val%2C%20%22value%22%20)%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09this.value%20%3D%20val%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%09valHooks%3A%20%7B%0D%0A%09%09option%3A%20%7B%0D%0A%09%09%09get%3A%20function(%20elem%20)%20%7B%0D%0A%0D%0A%09%09%09%09var%20val%20%3D%20jQuery.find.attr(%20elem%2C%20%22value%22%20)%3B%0D%0A%09%09%09%09return%20val%20!%3D%20null%20%3F%0D%0A%09%09%09%09%09val%20%3A%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D10%20-%2011%20only%0D%0A%09%09%09%09%09%2F%2F%20option.text%20throws%20exceptions%20(%2314686%2C%20%2314858)%0D%0A%09%09%09%09%09%2F%2F%20Strip%20and%20collapse%20whitespace%0D%0A%09%09%09%09%09%2F%2F%20https%3A%2F%2Fhtml.spec.whatwg.org%2F%23strip-and-collapse-whitespace%0D%0A%09%09%09%09%09stripAndCollapse(%20jQuery.text(%20elem%20)%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09select%3A%20%7B%0D%0A%09%09%09get%3A%20function(%20elem%20)%20%7B%0D%0A%09%09%09%09var%20value%2C%20option%2C%20i%2C%0D%0A%09%09%09%09%09options%20%3D%20elem.options%2C%0D%0A%09%09%09%09%09index%20%3D%20elem.selectedIndex%2C%0D%0A%09%09%09%09%09one%20%3D%20elem.type%20%3D%3D%3D%20%22select-one%22%2C%0D%0A%09%09%09%09%09values%20%3D%20one%20%3F%20null%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09%09max%20%3D%20one%20%3F%20index%20%2B%201%20%3A%20options.length%3B%0D%0A%0D%0A%09%09%09%09if%20(%20index%20%3C%200%20)%20%7B%0D%0A%09%09%09%09%09i%20%3D%20max%3B%0D%0A%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09i%20%3D%20one%20%3F%20index%20%3A%200%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Loop%20through%20all%20the%20selected%20options%0D%0A%09%09%09%09for%20(%20%3B%20i%20%3C%20max%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09option%20%3D%20options%5B%20i%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0A%09%09%09%09%09%2F%2F%20IE8-9%20doesn't%20update%20selected%20after%20form%20reset%20(%232551)%0D%0A%09%09%09%09%09if%20(%20(%20option.selected%20%7C%7C%20i%20%3D%3D%3D%20index%20)%20%26%26%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Don't%20return%20options%20that%20are%20disabled%20or%20in%20a%20disabled%20optgroup%0D%0A%09%09%09%09%09%09%09!option.disabled%20%26%26%0D%0A%09%09%09%09%09%09%09(%20!option.parentNode.disabled%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09!nodeName(%20option.parentNode%2C%20%22optgroup%22%20)%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Get%20the%20specific%20value%20for%20the%20option%0D%0A%09%09%09%09%09%09value%20%3D%20jQuery(%20option%20).val()%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20We%20don't%20need%20an%20array%20for%20one%20selects%0D%0A%09%09%09%09%09%09if%20(%20one%20)%20%7B%0D%0A%09%09%09%09%09%09%09return%20value%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Multi-Selects%20return%20an%20array%0D%0A%09%09%09%09%09%09values.push(%20value%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09return%20values%3B%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09set%3A%20function(%20elem%2C%20value%20)%20%7B%0D%0A%09%09%09%09var%20optionSet%2C%20option%2C%0D%0A%09%09%09%09%09options%20%3D%20elem.options%2C%0D%0A%09%09%09%09%09values%20%3D%20jQuery.makeArray(%20value%20)%2C%0D%0A%09%09%09%09%09i%20%3D%20options.length%3B%0D%0A%0D%0A%09%09%09%09while%20(%20i--%20)%20%7B%0D%0A%09%09%09%09%09option%20%3D%20options%5B%20i%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%2F*%20eslint-disable%20no-cond-assign%20*%2F%0D%0A%0D%0A%09%09%09%09%09if%20(%20option.selected%20%3D%0D%0A%09%09%09%09%09%09jQuery.inArray(%20jQuery.valHooks.option.get(%20option%20)%2C%20values%20)%20%3E%20-1%0D%0A%09%09%09%09%09)%20%7B%0D%0A%09%09%09%09%09%09optionSet%20%3D%20true%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F*%20eslint-enable%20no-cond-assign%20*%2F%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Force%20browsers%20to%20behave%20consistently%20when%20non-matching%20value%20is%20set%0D%0A%09%09%09%09if%20(%20!optionSet%20)%20%7B%0D%0A%09%09%09%09%09elem.selectedIndex%20%3D%20-1%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20values%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Radios%20and%20checkboxes%20getter%2Fsetter%0D%0AjQuery.each(%20%5B%20%22radio%22%2C%20%22checkbox%22%20%5D%2C%20function()%20%7B%0D%0A%09jQuery.valHooks%5B%20this%20%5D%20%3D%20%7B%0D%0A%09%09set%3A%20function(%20elem%2C%20value%20)%20%7B%0D%0A%09%09%09if%20(%20Array.isArray(%20value%20)%20)%20%7B%0D%0A%09%09%09%09return%20(%20elem.checked%20%3D%20jQuery.inArray(%20jQuery(%20elem%20).val()%2C%20value%20)%20%3E%20-1%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%09if%20(%20!support.checkOn%20)%20%7B%0D%0A%09%09jQuery.valHooks%5B%20this%20%5D.get%20%3D%20function(%20elem%20)%20%7B%0D%0A%09%09%09return%20elem.getAttribute(%20%22value%22%20)%20%3D%3D%3D%20null%20%3F%20%22on%22%20%3A%20elem.value%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Return%20jQuery%20for%20attributes-only%20inclusion%0D%0A%0D%0A%0D%0Asupport.focusin%20%3D%20%22onfocusin%22%20in%20window%3B%0D%0A%0D%0A%0D%0Avar%20rfocusMorph%20%3D%20%2F%5E(%3F%3Afocusinfocus%7Cfocusoutblur)%24%2F%2C%0D%0A%09stopPropagationCallback%20%3D%20function(%20e%20)%20%7B%0D%0A%09%09e.stopPropagation()%3B%0D%0A%09%7D%3B%0D%0A%0D%0AjQuery.extend(%20jQuery.event%2C%20%7B%0D%0A%0D%0A%09trigger%3A%20function(%20event%2C%20data%2C%20elem%2C%20onlyHandlers%20)%20%7B%0D%0A%0D%0A%09%09var%20i%2C%20cur%2C%20tmp%2C%20bubbleType%2C%20ontype%2C%20handle%2C%20special%2C%20lastElement%2C%0D%0A%09%09%09eventPath%20%3D%20%5B%20elem%20%7C%7C%20document%20%5D%2C%0D%0A%09%09%09type%20%3D%20hasOwn.call(%20event%2C%20%22type%22%20)%20%3F%20event.type%20%3A%20event%2C%0D%0A%09%09%09namespaces%20%3D%20hasOwn.call(%20event%2C%20%22namespace%22%20)%20%3F%20event.namespace.split(%20%22.%22%20)%20%3A%20%5B%5D%3B%0D%0A%0D%0A%09%09cur%20%3D%20lastElement%20%3D%20tmp%20%3D%20elem%20%3D%20elem%20%7C%7C%20document%3B%0D%0A%0D%0A%09%09%2F%2F%20Don't%20do%20events%20on%20text%20and%20comment%20nodes%0D%0A%09%09if%20(%20elem.nodeType%20%3D%3D%3D%203%20%7C%7C%20elem.nodeType%20%3D%3D%3D%208%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20focus%2Fblur%20morphs%20to%20focusin%2Fout%3B%20ensure%20we're%20not%20firing%20them%20right%20now%0D%0A%09%09if%20(%20rfocusMorph.test(%20type%20%2B%20jQuery.event.triggered%20)%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20type.indexOf(%20%22.%22%20)%20%3E%20-1%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Namespaced%20trigger%3B%20create%20a%20regexp%20to%20match%20event%20type%20in%20handle()%0D%0A%09%09%09namespaces%20%3D%20type.split(%20%22.%22%20)%3B%0D%0A%09%09%09type%20%3D%20namespaces.shift()%3B%0D%0A%09%09%09namespaces.sort()%3B%0D%0A%09%09%7D%0D%0A%09%09ontype%20%3D%20type.indexOf(%20%22%3A%22%20)%20%3C%200%20%26%26%20%22on%22%20%2B%20type%3B%0D%0A%0D%0A%09%09%2F%2F%20Caller%20can%20pass%20in%20a%20jQuery.Event%20object%2C%20Object%2C%20or%20just%20an%20event%20type%20string%0D%0A%09%09event%20%3D%20event%5B%20jQuery.expando%20%5D%20%3F%0D%0A%09%09%09event%20%3A%0D%0A%09%09%09new%20jQuery.Event(%20type%2C%20typeof%20event%20%3D%3D%3D%20%22object%22%20%26%26%20event%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Trigger%20bitmask%3A%20%26%201%20for%20native%20handlers%3B%20%26%202%20for%20jQuery%20(always%20true)%0D%0A%09%09event.isTrigger%20%3D%20onlyHandlers%20%3F%202%20%3A%203%3B%0D%0A%09%09event.namespace%20%3D%20namespaces.join(%20%22.%22%20)%3B%0D%0A%09%09event.rnamespace%20%3D%20event.namespace%20%3F%0D%0A%09%09%09new%20RegExp(%20%22(%5E%7C%5C%5C.)%22%20%2B%20namespaces.join(%20%22%5C%5C.(%3F%3A.*%5C%5C.%7C)%22%20)%20%2B%20%22(%5C%5C.%7C%24)%22%20)%20%3A%0D%0A%09%09%09null%3B%0D%0A%0D%0A%09%09%2F%2F%20Clean%20up%20the%20event%20in%20case%20it%20is%20being%20reused%0D%0A%09%09event.result%20%3D%20undefined%3B%0D%0A%09%09if%20(%20!event.target%20)%20%7B%0D%0A%09%09%09event.target%20%3D%20elem%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Clone%20any%20incoming%20data%20and%20prepend%20the%20event%2C%20creating%20the%20handler%20arg%20list%0D%0A%09%09data%20%3D%20data%20%3D%3D%20null%20%3F%0D%0A%09%09%09%5B%20event%20%5D%20%3A%0D%0A%09%09%09jQuery.makeArray(%20data%2C%20%5B%20event%20%5D%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Allow%20special%20events%20to%20draw%20outside%20the%20lines%0D%0A%09%09special%20%3D%20jQuery.event.special%5B%20type%20%5D%20%7C%7C%20%7B%7D%3B%0D%0A%09%09if%20(%20!onlyHandlers%20%26%26%20special.trigger%20%26%26%20special.trigger.apply(%20elem%2C%20data%20)%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Determine%20event%20propagation%20path%20in%20advance%2C%20per%20W3C%20events%20spec%20(%239951)%0D%0A%09%09%2F%2F%20Bubble%20up%20to%20document%2C%20then%20to%20window%3B%20watch%20for%20a%20global%20ownerDocument%20var%20(%239724)%0D%0A%09%09if%20(%20!onlyHandlers%20%26%26%20!special.noBubble%20%26%26%20!isWindow(%20elem%20)%20)%20%7B%0D%0A%0D%0A%09%09%09bubbleType%20%3D%20special.delegateType%20%7C%7C%20type%3B%0D%0A%09%09%09if%20(%20!rfocusMorph.test(%20bubbleType%20%2B%20type%20)%20)%20%7B%0D%0A%09%09%09%09cur%20%3D%20cur.parentNode%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for%20(%20%3B%20cur%3B%20cur%20%3D%20cur.parentNode%20)%20%7B%0D%0A%09%09%09%09eventPath.push(%20cur%20)%3B%0D%0A%09%09%09%09tmp%20%3D%20cur%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Only%20add%20window%20if%20we%20got%20to%20document%20(e.g.%2C%20not%20plain%20obj%20or%20detached%20DOM)%0D%0A%09%09%09if%20(%20tmp%20%3D%3D%3D%20(%20elem.ownerDocument%20%7C%7C%20document%20)%20)%20%7B%0D%0A%09%09%09%09eventPath.push(%20tmp.defaultView%20%7C%7C%20tmp.parentWindow%20%7C%7C%20window%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Fire%20handlers%20on%20the%20event%20path%0D%0A%09%09i%20%3D%200%3B%0D%0A%09%09while%20(%20(%20cur%20%3D%20eventPath%5B%20i%2B%2B%20%5D%20)%20%26%26%20!event.isPropagationStopped()%20)%20%7B%0D%0A%09%09%09lastElement%20%3D%20cur%3B%0D%0A%09%09%09event.type%20%3D%20i%20%3E%201%20%3F%0D%0A%09%09%09%09bubbleType%20%3A%0D%0A%09%09%09%09special.bindType%20%7C%7C%20type%3B%0D%0A%0D%0A%09%09%09%2F%2F%20jQuery%20handler%0D%0A%09%09%09handle%20%3D%20(%20dataPriv.get(%20cur%2C%20%22events%22%20)%20%7C%7C%20%7B%7D%20)%5B%20event.type%20%5D%20%26%26%0D%0A%09%09%09%09dataPriv.get(%20cur%2C%20%22handle%22%20)%3B%0D%0A%09%09%09if%20(%20handle%20)%20%7B%0D%0A%09%09%09%09handle.apply(%20cur%2C%20data%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Native%20handler%0D%0A%09%09%09handle%20%3D%20ontype%20%26%26%20cur%5B%20ontype%20%5D%3B%0D%0A%09%09%09if%20(%20handle%20%26%26%20handle.apply%20%26%26%20acceptData(%20cur%20)%20)%20%7B%0D%0A%09%09%09%09event.result%20%3D%20handle.apply(%20cur%2C%20data%20)%3B%0D%0A%09%09%09%09if%20(%20event.result%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09%09%09event.preventDefault()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09event.type%20%3D%20type%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20nobody%20prevented%20the%20default%20action%2C%20do%20it%20now%0D%0A%09%09if%20(%20!onlyHandlers%20%26%26%20!event.isDefaultPrevented()%20)%20%7B%0D%0A%0D%0A%09%09%09if%20(%20(%20!special._default%20%7C%7C%0D%0A%09%09%09%09special._default.apply(%20eventPath.pop()%2C%20data%20)%20%3D%3D%3D%20false%20)%20%26%26%0D%0A%09%09%09%09acceptData(%20elem%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Call%20a%20native%20DOM%20method%20on%20the%20target%20with%20the%20same%20name%20as%20the%20event.%0D%0A%09%09%09%09%2F%2F%20Don't%20do%20default%20actions%20on%20window%2C%20that's%20where%20global%20variables%20be%20(%236170)%0D%0A%09%09%09%09if%20(%20ontype%20%26%26%20isFunction(%20elem%5B%20type%20%5D%20)%20%26%26%20!isWindow(%20elem%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Don't%20re-trigger%20an%20onFOO%20event%20when%20we%20call%20its%20FOO()%20method%0D%0A%09%09%09%09%09tmp%20%3D%20elem%5B%20ontype%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20tmp%20)%20%7B%0D%0A%09%09%09%09%09%09elem%5B%20ontype%20%5D%20%3D%20null%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Prevent%20re-triggering%20of%20the%20same%20event%2C%20since%20we%20already%20bubbled%20it%20above%0D%0A%09%09%09%09%09jQuery.event.triggered%20%3D%20type%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20event.isPropagationStopped()%20)%20%7B%0D%0A%09%09%09%09%09%09lastElement.addEventListener(%20type%2C%20stopPropagationCallback%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09elem%5B%20type%20%5D()%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20event.isPropagationStopped()%20)%20%7B%0D%0A%09%09%09%09%09%09lastElement.removeEventListener(%20type%2C%20stopPropagationCallback%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09jQuery.event.triggered%20%3D%20undefined%3B%0D%0A%0D%0A%09%09%09%09%09if%20(%20tmp%20)%20%7B%0D%0A%09%09%09%09%09%09elem%5B%20ontype%20%5D%20%3D%20tmp%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20event.result%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Piggyback%20on%20a%20donor%20event%20to%20simulate%20a%20different%20one%0D%0A%09%2F%2F%20Used%20only%20for%20%60focus(in%20%7C%20out)%60%20events%0D%0A%09simulate%3A%20function(%20type%2C%20elem%2C%20event%20)%20%7B%0D%0A%09%09var%20e%20%3D%20jQuery.extend(%0D%0A%09%09%09new%20jQuery.Event()%2C%0D%0A%09%09%09event%2C%0D%0A%09%09%09%7B%0D%0A%09%09%09%09type%3A%20type%2C%0D%0A%09%09%09%09isSimulated%3A%20true%0D%0A%09%09%09%7D%0D%0A%09%09)%3B%0D%0A%0D%0A%09%09jQuery.event.trigger(%20e%2C%20null%2C%20elem%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%0D%0A%09trigger%3A%20function(%20type%2C%20data%20)%20%7B%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09jQuery.event.trigger(%20type%2C%20data%2C%20this%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%09triggerHandler%3A%20function(%20type%2C%20data%20)%20%7B%0D%0A%09%09var%20elem%20%3D%20this%5B%200%20%5D%3B%0D%0A%09%09if%20(%20elem%20)%20%7B%0D%0A%09%09%09return%20jQuery.event.trigger(%20type%2C%20data%2C%20elem%2C%20true%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Support%3A%20Firefox%20%3C%3D44%0D%0A%2F%2F%20Firefox%20doesn't%20have%20focus(in%20%7C%20out)%20events%0D%0A%2F%2F%20Related%20ticket%20-%20https%3A%2F%2Fbugzilla.mozilla.org%2Fshow_bug.cgi%3Fid%3D687787%0D%0A%2F%2F%0D%0A%2F%2F%20Support%3A%20Chrome%20%3C%3D48%20-%2049%2C%20Safari%20%3C%3D9.0%20-%209.1%0D%0A%2F%2F%20focus(in%20%7C%20out)%20events%20fire%20after%20focus%20%26%20blur%20events%2C%0D%0A%2F%2F%20which%20is%20spec%20violation%20-%20http%3A%2F%2Fwww.w3.org%2FTR%2FDOM-Level-3-Events%2F%23events-focusevent-event-order%0D%0A%2F%2F%20Related%20ticket%20-%20https%3A%2F%2Fbugs.chromium.org%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D449857%0D%0Aif%20(%20!support.focusin%20)%20%7B%0D%0A%09jQuery.each(%20%7B%20focus%3A%20%22focusin%22%2C%20blur%3A%20%22focusout%22%20%7D%2C%20function(%20orig%2C%20fix%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Attach%20a%20single%20capturing%20handler%20on%20the%20document%20while%20someone%20wants%20focusin%2Ffocusout%0D%0A%09%09var%20handler%20%3D%20function(%20event%20)%20%7B%0D%0A%09%09%09jQuery.event.simulate(%20fix%2C%20event.target%2C%20jQuery.event.fix(%20event%20)%20)%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09jQuery.event.special%5B%20fix%20%5D%20%3D%20%7B%0D%0A%09%09%09setup%3A%20function()%20%7B%0D%0A%09%09%09%09var%20doc%20%3D%20this.ownerDocument%20%7C%7C%20this%2C%0D%0A%09%09%09%09%09attaches%20%3D%20dataPriv.access(%20doc%2C%20fix%20)%3B%0D%0A%0D%0A%09%09%09%09if%20(%20!attaches%20)%20%7B%0D%0A%09%09%09%09%09doc.addEventListener(%20orig%2C%20handler%2C%20true%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09dataPriv.access(%20doc%2C%20fix%2C%20(%20attaches%20%7C%7C%200%20)%20%2B%201%20)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09teardown%3A%20function()%20%7B%0D%0A%09%09%09%09var%20doc%20%3D%20this.ownerDocument%20%7C%7C%20this%2C%0D%0A%09%09%09%09%09attaches%20%3D%20dataPriv.access(%20doc%2C%20fix%20)%20-%201%3B%0D%0A%0D%0A%09%09%09%09if%20(%20!attaches%20)%20%7B%0D%0A%09%09%09%09%09doc.removeEventListener(%20orig%2C%20handler%2C%20true%20)%3B%0D%0A%09%09%09%09%09dataPriv.remove(%20doc%2C%20fix%20)%3B%0D%0A%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09dataPriv.access(%20doc%2C%20fix%2C%20attaches%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%20)%3B%0D%0A%7D%0D%0Avar%20location%20%3D%20window.location%3B%0D%0A%0D%0Avar%20nonce%20%3D%20Date.now()%3B%0D%0A%0D%0Avar%20rquery%20%3D%20(%20%2F%5C%3F%2F%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Cross-browser%20xml%20parsing%0D%0AjQuery.parseXML%20%3D%20function(%20data%20)%20%7B%0D%0A%09var%20xml%3B%0D%0A%09if%20(%20!data%20%7C%7C%20typeof%20data%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09return%20null%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Support%3A%20IE%209%20-%2011%20only%0D%0A%09%2F%2F%20IE%20throws%20on%20parseFromString%20with%20invalid%20input.%0D%0A%09try%20%7B%0D%0A%09%09xml%20%3D%20(%20new%20window.DOMParser()%20).parseFromString(%20data%2C%20%22text%2Fxml%22%20)%3B%0D%0A%09%7D%20catch%20(%20e%20)%20%7B%0D%0A%09%09xml%20%3D%20undefined%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20!xml%20%7C%7C%20xml.getElementsByTagName(%20%22parsererror%22%20).length%20)%20%7B%0D%0A%09%09jQuery.error(%20%22Invalid%20XML%3A%20%22%20%2B%20data%20)%3B%0D%0A%09%7D%0D%0A%09return%20xml%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Avar%0D%0A%09rbracket%20%3D%20%2F%5C%5B%5C%5D%24%2F%2C%0D%0A%09rCRLF%20%3D%20%2F%5Cr%3F%5Cn%2Fg%2C%0D%0A%09rsubmitterTypes%20%3D%20%2F%5E(%3F%3Asubmit%7Cbutton%7Cimage%7Creset%7Cfile)%24%2Fi%2C%0D%0A%09rsubmittable%20%3D%20%2F%5E(%3F%3Ainput%7Cselect%7Ctextarea%7Ckeygen)%2Fi%3B%0D%0A%0D%0Afunction%20buildParams(%20prefix%2C%20obj%2C%20traditional%2C%20add%20)%20%7B%0D%0A%09var%20name%3B%0D%0A%0D%0A%09if%20(%20Array.isArray(%20obj%20)%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Serialize%20array%20item.%0D%0A%09%09jQuery.each(%20obj%2C%20function(%20i%2C%20v%20)%20%7B%0D%0A%09%09%09if%20(%20traditional%20%7C%7C%20rbracket.test(%20prefix%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Treat%20each%20array%20item%20as%20a%20scalar.%0D%0A%09%09%09%09add(%20prefix%2C%20v%20)%3B%0D%0A%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Item%20is%20non-scalar%20(array%20or%20object)%2C%20encode%20its%20numeric%20index.%0D%0A%09%09%09%09buildParams(%0D%0A%09%09%09%09%09prefix%20%2B%20%22%5B%22%20%2B%20(%20typeof%20v%20%3D%3D%3D%20%22object%22%20%26%26%20v%20!%3D%20null%20%3F%20i%20%3A%20%22%22%20)%20%2B%20%22%5D%22%2C%0D%0A%09%09%09%09%09v%2C%0D%0A%09%09%09%09%09traditional%2C%0D%0A%09%09%09%09%09add%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%0D%0A%09%7D%20else%20if%20(%20!traditional%20%26%26%20toType(%20obj%20)%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Serialize%20object%20item.%0D%0A%09%09for%20(%20name%20in%20obj%20)%20%7B%0D%0A%09%09%09buildParams(%20prefix%20%2B%20%22%5B%22%20%2B%20name%20%2B%20%22%5D%22%2C%20obj%5B%20name%20%5D%2C%20traditional%2C%20add%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Serialize%20scalar%20item.%0D%0A%09%09add(%20prefix%2C%20obj%20)%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Serialize%20an%20array%20of%20form%20elements%20or%20a%20set%20of%0D%0A%2F%2F%20key%2Fvalues%20into%20a%20query%20string%0D%0AjQuery.param%20%3D%20function(%20a%2C%20traditional%20)%20%7B%0D%0A%09var%20prefix%2C%0D%0A%09%09s%20%3D%20%5B%5D%2C%0D%0A%09%09add%20%3D%20function(%20key%2C%20valueOrFunction%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20value%20is%20a%20function%2C%20invoke%20it%20and%20use%20its%20return%20value%0D%0A%09%09%09var%20value%20%3D%20isFunction(%20valueOrFunction%20)%20%3F%0D%0A%09%09%09%09valueOrFunction()%20%3A%0D%0A%09%09%09%09valueOrFunction%3B%0D%0A%0D%0A%09%09%09s%5B%20s.length%20%5D%20%3D%20encodeURIComponent(%20key%20)%20%2B%20%22%3D%22%20%2B%0D%0A%09%09%09%09encodeURIComponent(%20value%20%3D%3D%20null%20%3F%20%22%22%20%3A%20value%20)%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09if%20(%20a%20%3D%3D%20null%20)%20%7B%0D%0A%09%09return%20%22%22%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20If%20an%20array%20was%20passed%20in%2C%20assume%20that%20it%20is%20an%20array%20of%20form%20elements.%0D%0A%09if%20(%20Array.isArray(%20a%20)%20%7C%7C%20(%20a.jquery%20%26%26%20!jQuery.isPlainObject(%20a%20)%20)%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Serialize%20the%20form%20elements%0D%0A%09%09jQuery.each(%20a%2C%20function()%20%7B%0D%0A%09%09%09add(%20this.name%2C%20this.value%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%0D%0A%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%2F%2F%20If%20traditional%2C%20encode%20the%20%22old%22%20way%20(the%20way%201.3.2%20or%20older%0D%0A%09%09%2F%2F%20did%20it)%2C%20otherwise%20encode%20params%20recursively.%0D%0A%09%09for%20(%20prefix%20in%20a%20)%20%7B%0D%0A%09%09%09buildParams(%20prefix%2C%20a%5B%20prefix%20%5D%2C%20traditional%2C%20add%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Return%20the%20resulting%20serialization%0D%0A%09return%20s.join(%20%22%26%22%20)%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09serialize%3A%20function()%20%7B%0D%0A%09%09return%20jQuery.param(%20this.serializeArray()%20)%3B%0D%0A%09%7D%2C%0D%0A%09serializeArray%3A%20function()%20%7B%0D%0A%09%09return%20this.map(%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Can%20add%20propHook%20for%20%22elements%22%20to%20filter%20or%20add%20form%20elements%0D%0A%09%09%09var%20elements%20%3D%20jQuery.prop(%20this%2C%20%22elements%22%20)%3B%0D%0A%09%09%09return%20elements%20%3F%20jQuery.makeArray(%20elements%20)%20%3A%20this%3B%0D%0A%09%09%7D%20)%0D%0A%09%09.filter(%20function()%20%7B%0D%0A%09%09%09var%20type%20%3D%20this.type%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Use%20.is(%20%22%3Adisabled%22%20)%20so%20that%20fieldset%5Bdisabled%5D%20works%0D%0A%09%09%09return%20this.name%20%26%26%20!jQuery(%20this%20).is(%20%22%3Adisabled%22%20)%20%26%26%0D%0A%09%09%09%09rsubmittable.test(%20this.nodeName%20)%20%26%26%20!rsubmitterTypes.test(%20type%20)%20%26%26%0D%0A%09%09%09%09(%20this.checked%20%7C%7C%20!rcheckableType.test(%20type%20)%20)%3B%0D%0A%09%09%7D%20)%0D%0A%09%09.map(%20function(%20i%2C%20elem%20)%20%7B%0D%0A%09%09%09var%20val%20%3D%20jQuery(%20this%20).val()%3B%0D%0A%0D%0A%09%09%09if%20(%20val%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09return%20null%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20Array.isArray(%20val%20)%20)%20%7B%0D%0A%09%09%09%09return%20jQuery.map(%20val%2C%20function(%20val%20)%20%7B%0D%0A%09%09%09%09%09return%20%7B%20name%3A%20elem.name%2C%20value%3A%20val.replace(%20rCRLF%2C%20%22%5Cr%5Cn%22%20)%20%7D%3B%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20%7B%20name%3A%20elem.name%2C%20value%3A%20val.replace(%20rCRLF%2C%20%22%5Cr%5Cn%22%20)%20%7D%3B%0D%0A%09%09%7D%20).get()%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0Avar%0D%0A%09r20%20%3D%20%2F%2520%2Fg%2C%0D%0A%09rhash%20%3D%20%2F%23.*%24%2F%2C%0D%0A%09rantiCache%20%3D%20%2F(%5B%3F%26%5D)_%3D%5B%5E%26%5D*%2F%2C%0D%0A%09rheaders%20%3D%20%2F%5E(.*%3F)%3A%5B%20%5Ct%5D*(%5B%5E%5Cr%5Cn%5D*)%24%2Fmg%2C%0D%0A%0D%0A%09%2F%2F%20%237653%2C%20%238125%2C%20%238152%3A%20local%20protocol%20detection%0D%0A%09rlocalProtocol%20%3D%20%2F%5E(%3F%3Aabout%7Capp%7Capp-storage%7C.%2B-extension%7Cfile%7Cres%7Cwidget)%3A%24%2F%2C%0D%0A%09rnoContent%20%3D%20%2F%5E(%3F%3AGET%7CHEAD)%24%2F%2C%0D%0A%09rprotocol%20%3D%20%2F%5E%5C%2F%5C%2F%2F%2C%0D%0A%0D%0A%09%2F*%20Prefilters%0D%0A%09%20*%201)%20They%20are%20useful%20to%20introduce%20custom%20dataTypes%20(see%20ajax%2Fjsonp.js%20for%20an%20example)%0D%0A%09%20*%202)%20These%20are%20called%3A%0D%0A%09%20*%20%20%20%20-%20BEFORE%20asking%20for%20a%20transport%0D%0A%09%20*%20%20%20%20-%20AFTER%20param%20serialization%20(s.data%20is%20a%20string%20if%20s.processData%20is%20true)%0D%0A%09%20*%203)%20key%20is%20the%20dataType%0D%0A%09%20*%204)%20the%20catchall%20symbol%20%22*%22%20can%20be%20used%0D%0A%09%20*%205)%20execution%20will%20start%20with%20transport%20dataType%20and%20THEN%20continue%20down%20to%20%22*%22%20if%20needed%0D%0A%09%20*%2F%0D%0A%09prefilters%20%3D%20%7B%7D%2C%0D%0A%0D%0A%09%2F*%20Transports%20bindings%0D%0A%09%20*%201)%20key%20is%20the%20dataType%0D%0A%09%20*%202)%20the%20catchall%20symbol%20%22*%22%20can%20be%20used%0D%0A%09%20*%203)%20selection%20will%20start%20with%20transport%20dataType%20and%20THEN%20go%20to%20%22*%22%20if%20needed%0D%0A%09%20*%2F%0D%0A%09transports%20%3D%20%7B%7D%2C%0D%0A%0D%0A%09%2F%2F%20Avoid%20comment-prolog%20char%20sequence%20(%2310098)%3B%20must%20appease%20lint%20and%20evade%20compression%0D%0A%09allTypes%20%3D%20%22*%2F%22.concat(%20%22*%22%20)%2C%0D%0A%0D%0A%09%2F%2F%20Anchor%20tag%20for%20parsing%20the%20document%20origin%0D%0A%09originAnchor%20%3D%20document.createElement(%20%22a%22%20)%3B%0D%0A%09originAnchor.href%20%3D%20location.href%3B%0D%0A%0D%0A%2F%2F%20Base%20%22constructor%22%20for%20jQuery.ajaxPrefilter%20and%20jQuery.ajaxTransport%0D%0Afunction%20addToPrefiltersOrTransports(%20structure%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20dataTypeExpression%20is%20optional%20and%20defaults%20to%20%22*%22%0D%0A%09return%20function(%20dataTypeExpression%2C%20func%20)%20%7B%0D%0A%0D%0A%09%09if%20(%20typeof%20dataTypeExpression%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09func%20%3D%20dataTypeExpression%3B%0D%0A%09%09%09dataTypeExpression%20%3D%20%22*%22%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09var%20dataType%2C%0D%0A%09%09%09i%20%3D%200%2C%0D%0A%09%09%09dataTypes%20%3D%20dataTypeExpression.toLowerCase().match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%09%09if%20(%20isFunction(%20func%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20For%20each%20dataType%20in%20the%20dataTypeExpression%0D%0A%09%09%09while%20(%20(%20dataType%20%3D%20dataTypes%5B%20i%2B%2B%20%5D%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Prepend%20if%20requested%0D%0A%09%09%09%09if%20(%20dataType%5B%200%20%5D%20%3D%3D%3D%20%22%2B%22%20)%20%7B%0D%0A%09%09%09%09%09dataType%20%3D%20dataType.slice(%201%20)%20%7C%7C%20%22*%22%3B%0D%0A%09%09%09%09%09(%20structure%5B%20dataType%20%5D%20%3D%20structure%5B%20dataType%20%5D%20%7C%7C%20%5B%5D%20).unshift(%20func%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Otherwise%20append%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09(%20structure%5B%20dataType%20%5D%20%3D%20structure%5B%20dataType%20%5D%20%7C%7C%20%5B%5D%20).push(%20func%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Base%20inspection%20function%20for%20prefilters%20and%20transports%0D%0Afunction%20inspectPrefiltersOrTransports(%20structure%2C%20options%2C%20originalOptions%2C%20jqXHR%20)%20%7B%0D%0A%0D%0A%09var%20inspected%20%3D%20%7B%7D%2C%0D%0A%09%09seekingTransport%20%3D%20(%20structure%20%3D%3D%3D%20transports%20)%3B%0D%0A%0D%0A%09function%20inspect(%20dataType%20)%20%7B%0D%0A%09%09var%20selected%3B%0D%0A%09%09inspected%5B%20dataType%20%5D%20%3D%20true%3B%0D%0A%09%09jQuery.each(%20structure%5B%20dataType%20%5D%20%7C%7C%20%5B%5D%2C%20function(%20_%2C%20prefilterOrFactory%20)%20%7B%0D%0A%09%09%09var%20dataTypeOrTransport%20%3D%20prefilterOrFactory(%20options%2C%20originalOptions%2C%20jqXHR%20)%3B%0D%0A%09%09%09if%20(%20typeof%20dataTypeOrTransport%20%3D%3D%3D%20%22string%22%20%26%26%0D%0A%09%09%09%09!seekingTransport%20%26%26%20!inspected%5B%20dataTypeOrTransport%20%5D%20)%20%7B%0D%0A%0D%0A%09%09%09%09options.dataTypes.unshift(%20dataTypeOrTransport%20)%3B%0D%0A%09%09%09%09inspect(%20dataTypeOrTransport%20)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%20else%20if%20(%20seekingTransport%20)%20%7B%0D%0A%09%09%09%09return%20!(%20selected%20%3D%20dataTypeOrTransport%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%09return%20selected%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20inspect(%20options.dataTypes%5B%200%20%5D%20)%20%7C%7C%20!inspected%5B%20%22*%22%20%5D%20%26%26%20inspect(%20%22*%22%20)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20A%20special%20extend%20for%20ajax%20options%0D%0A%2F%2F%20that%20takes%20%22flat%22%20options%20(not%20to%20be%20deep%20extended)%0D%0A%2F%2F%20Fixes%20%239887%0D%0Afunction%20ajaxExtend(%20target%2C%20src%20)%20%7B%0D%0A%09var%20key%2C%20deep%2C%0D%0A%09%09flatOptions%20%3D%20jQuery.ajaxSettings.flatOptions%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%09for%20(%20key%20in%20src%20)%20%7B%0D%0A%09%09if%20(%20src%5B%20key%20%5D%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09(%20flatOptions%5B%20key%20%5D%20%3F%20target%20%3A%20(%20deep%20%7C%7C%20(%20deep%20%3D%20%7B%7D%20)%20)%20)%5B%20key%20%5D%20%3D%20src%5B%20key%20%5D%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%09if%20(%20deep%20)%20%7B%0D%0A%09%09jQuery.extend(%20true%2C%20target%2C%20deep%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20target%3B%0D%0A%7D%0D%0A%0D%0A%2F*%20Handles%20responses%20to%20an%20ajax%20request%3A%0D%0A%20*%20-%20finds%20the%20right%20dataType%20(mediates%20between%20content-type%20and%20expected%20dataType)%0D%0A%20*%20-%20returns%20the%20corresponding%20response%0D%0A%20*%2F%0D%0Afunction%20ajaxHandleResponses(%20s%2C%20jqXHR%2C%20responses%20)%20%7B%0D%0A%0D%0A%09var%20ct%2C%20type%2C%20finalDataType%2C%20firstDataType%2C%0D%0A%09%09contents%20%3D%20s.contents%2C%0D%0A%09%09dataTypes%20%3D%20s.dataTypes%3B%0D%0A%0D%0A%09%2F%2F%20Remove%20auto%20dataType%20and%20get%20content-type%20in%20the%20process%0D%0A%09while%20(%20dataTypes%5B%200%20%5D%20%3D%3D%3D%20%22*%22%20)%20%7B%0D%0A%09%09dataTypes.shift()%3B%0D%0A%09%09if%20(%20ct%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09ct%20%3D%20s.mimeType%20%7C%7C%20jqXHR.getResponseHeader(%20%22Content-Type%22%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Check%20if%20we're%20dealing%20with%20a%20known%20content-type%0D%0A%09if%20(%20ct%20)%20%7B%0D%0A%09%09for%20(%20type%20in%20contents%20)%20%7B%0D%0A%09%09%09if%20(%20contents%5B%20type%20%5D%20%26%26%20contents%5B%20type%20%5D.test(%20ct%20)%20)%20%7B%0D%0A%09%09%09%09dataTypes.unshift(%20type%20)%3B%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Check%20to%20see%20if%20we%20have%20a%20response%20for%20the%20expected%20dataType%0D%0A%09if%20(%20dataTypes%5B%200%20%5D%20in%20responses%20)%20%7B%0D%0A%09%09finalDataType%20%3D%20dataTypes%5B%200%20%5D%3B%0D%0A%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Try%20convertible%20dataTypes%0D%0A%09%09for%20(%20type%20in%20responses%20)%20%7B%0D%0A%09%09%09if%20(%20!dataTypes%5B%200%20%5D%20%7C%7C%20s.converters%5B%20type%20%2B%20%22%20%22%20%2B%20dataTypes%5B%200%20%5D%20%5D%20)%20%7B%0D%0A%09%09%09%09finalDataType%20%3D%20type%3B%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%20!firstDataType%20)%20%7B%0D%0A%09%09%09%09firstDataType%20%3D%20type%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Or%20just%20use%20first%20one%0D%0A%09%09finalDataType%20%3D%20finalDataType%20%7C%7C%20firstDataType%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20If%20we%20found%20a%20dataType%0D%0A%09%2F%2F%20We%20add%20the%20dataType%20to%20the%20list%20if%20needed%0D%0A%09%2F%2F%20and%20return%20the%20corresponding%20response%0D%0A%09if%20(%20finalDataType%20)%20%7B%0D%0A%09%09if%20(%20finalDataType%20!%3D%3D%20dataTypes%5B%200%20%5D%20)%20%7B%0D%0A%09%09%09dataTypes.unshift(%20finalDataType%20)%3B%0D%0A%09%09%7D%0D%0A%09%09return%20responses%5B%20finalDataType%20%5D%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0A%2F*%20Chain%20conversions%20given%20the%20request%20and%20the%20original%20response%0D%0A%20*%20Also%20sets%20the%20responseXXX%20fields%20on%20the%20jqXHR%20instance%0D%0A%20*%2F%0D%0Afunction%20ajaxConvert(%20s%2C%20response%2C%20jqXHR%2C%20isSuccess%20)%20%7B%0D%0A%09var%20conv2%2C%20current%2C%20conv%2C%20tmp%2C%20prev%2C%0D%0A%09%09converters%20%3D%20%7B%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20Work%20with%20a%20copy%20of%20dataTypes%20in%20case%20we%20need%20to%20modify%20it%20for%20conversion%0D%0A%09%09dataTypes%20%3D%20s.dataTypes.slice()%3B%0D%0A%0D%0A%09%2F%2F%20Create%20converters%20map%20with%20lowercased%20keys%0D%0A%09if%20(%20dataTypes%5B%201%20%5D%20)%20%7B%0D%0A%09%09for%20(%20conv%20in%20s.converters%20)%20%7B%0D%0A%09%09%09converters%5B%20conv.toLowerCase()%20%5D%20%3D%20s.converters%5B%20conv%20%5D%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09current%20%3D%20dataTypes.shift()%3B%0D%0A%0D%0A%09%2F%2F%20Convert%20to%20each%20sequential%20dataType%0D%0A%09while%20(%20current%20)%20%7B%0D%0A%0D%0A%09%09if%20(%20s.responseFields%5B%20current%20%5D%20)%20%7B%0D%0A%09%09%09jqXHR%5B%20s.responseFields%5B%20current%20%5D%20%5D%20%3D%20response%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Apply%20the%20dataFilter%20if%20provided%0D%0A%09%09if%20(%20!prev%20%26%26%20isSuccess%20%26%26%20s.dataFilter%20)%20%7B%0D%0A%09%09%09response%20%3D%20s.dataFilter(%20response%2C%20s.dataType%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09prev%20%3D%20current%3B%0D%0A%09%09current%20%3D%20dataTypes.shift()%3B%0D%0A%0D%0A%09%09if%20(%20current%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20There's%20only%20work%20to%20do%20if%20current%20dataType%20is%20non-auto%0D%0A%09%09%09if%20(%20current%20%3D%3D%3D%20%22*%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09current%20%3D%20prev%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Convert%20response%20if%20prev%20dataType%20is%20non-auto%20and%20differs%20from%20current%0D%0A%09%09%09%7D%20else%20if%20(%20prev%20!%3D%3D%20%22*%22%20%26%26%20prev%20!%3D%3D%20current%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Seek%20a%20direct%20converter%0D%0A%09%09%09%09conv%20%3D%20converters%5B%20prev%20%2B%20%22%20%22%20%2B%20current%20%5D%20%7C%7C%20converters%5B%20%22*%20%22%20%2B%20current%20%5D%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20none%20found%2C%20seek%20a%20pair%0D%0A%09%09%09%09if%20(%20!conv%20)%20%7B%0D%0A%09%09%09%09%09for%20(%20conv2%20in%20converters%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20If%20conv2%20outputs%20current%0D%0A%09%09%09%09%09%09tmp%20%3D%20conv2.split(%20%22%20%22%20)%3B%0D%0A%09%09%09%09%09%09if%20(%20tmp%5B%201%20%5D%20%3D%3D%3D%20current%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20If%20prev%20can%20be%20converted%20to%20accepted%20input%0D%0A%09%09%09%09%09%09%09conv%20%3D%20converters%5B%20prev%20%2B%20%22%20%22%20%2B%20tmp%5B%200%20%5D%20%5D%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09converters%5B%20%22*%20%22%20%2B%20tmp%5B%200%20%5D%20%5D%3B%0D%0A%09%09%09%09%09%09%09if%20(%20conv%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Condense%20equivalence%20converters%0D%0A%09%09%09%09%09%09%09%09if%20(%20conv%20%3D%3D%3D%20true%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09conv%20%3D%20converters%5B%20conv2%20%5D%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Otherwise%2C%20insert%20the%20intermediate%20dataType%0D%0A%09%09%09%09%09%09%09%09%7D%20else%20if%20(%20converters%5B%20conv2%20%5D%20!%3D%3D%20true%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09current%20%3D%20tmp%5B%200%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09dataTypes.unshift(%20tmp%5B%201%20%5D%20)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Apply%20converter%20(if%20not%20an%20equivalence)%0D%0A%09%09%09%09if%20(%20conv%20!%3D%3D%20true%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Unless%20errors%20are%20allowed%20to%20bubble%2C%20catch%20and%20return%20them%0D%0A%09%09%09%09%09if%20(%20conv%20%26%26%20s.throws%20)%20%7B%0D%0A%09%09%09%09%09%09response%20%3D%20conv(%20response%20)%3B%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09%09%09response%20%3D%20conv(%20response%20)%3B%0D%0A%09%09%09%09%09%09%7D%20catch%20(%20e%20)%20%7B%0D%0A%09%09%09%09%09%09%09return%20%7B%0D%0A%09%09%09%09%09%09%09%09state%3A%20%22parsererror%22%2C%0D%0A%09%09%09%09%09%09%09%09error%3A%20conv%20%3F%20e%20%3A%20%22No%20conversion%20from%20%22%20%2B%20prev%20%2B%20%22%20to%20%22%20%2B%20current%0D%0A%09%09%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20%7B%20state%3A%20%22success%22%2C%20data%3A%20response%20%7D%3B%0D%0A%7D%0D%0A%0D%0AjQuery.extend(%20%7B%0D%0A%0D%0A%09%2F%2F%20Counter%20for%20holding%20the%20number%20of%20active%20queries%0D%0A%09active%3A%200%2C%0D%0A%0D%0A%09%2F%2F%20Last-Modified%20header%20cache%20for%20next%20request%0D%0A%09lastModified%3A%20%7B%7D%2C%0D%0A%09etag%3A%20%7B%7D%2C%0D%0A%0D%0A%09ajaxSettings%3A%20%7B%0D%0A%09%09url%3A%20location.href%2C%0D%0A%09%09type%3A%20%22GET%22%2C%0D%0A%09%09isLocal%3A%20rlocalProtocol.test(%20location.protocol%20)%2C%0D%0A%09%09global%3A%20true%2C%0D%0A%09%09processData%3A%20true%2C%0D%0A%09%09async%3A%20true%2C%0D%0A%09%09contentType%3A%20%22application%2Fx-www-form-urlencoded%3B%20charset%3DUTF-8%22%2C%0D%0A%0D%0A%09%09%2F*%0D%0A%09%09timeout%3A%200%2C%0D%0A%09%09data%3A%20null%2C%0D%0A%09%09dataType%3A%20null%2C%0D%0A%09%09username%3A%20null%2C%0D%0A%09%09password%3A%20null%2C%0D%0A%09%09cache%3A%20null%2C%0D%0A%09%09throws%3A%20false%2C%0D%0A%09%09traditional%3A%20false%2C%0D%0A%09%09headers%3A%20%7B%7D%2C%0D%0A%09%09*%2F%0D%0A%0D%0A%09%09accepts%3A%20%7B%0D%0A%09%09%09%22*%22%3A%20allTypes%2C%0D%0A%09%09%09text%3A%20%22text%2Fplain%22%2C%0D%0A%09%09%09html%3A%20%22text%2Fhtml%22%2C%0D%0A%09%09%09xml%3A%20%22application%2Fxml%2C%20text%2Fxml%22%2C%0D%0A%09%09%09json%3A%20%22application%2Fjson%2C%20text%2Fjavascript%22%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09contents%3A%20%7B%0D%0A%09%09%09xml%3A%20%2F%5Cbxml%5Cb%2F%2C%0D%0A%09%09%09html%3A%20%2F%5Cbhtml%2F%2C%0D%0A%09%09%09json%3A%20%2F%5Cbjson%5Cb%2F%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09responseFields%3A%20%7B%0D%0A%09%09%09xml%3A%20%22responseXML%22%2C%0D%0A%09%09%09text%3A%20%22responseText%22%2C%0D%0A%09%09%09json%3A%20%22responseJSON%22%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20Data%20converters%0D%0A%09%09%2F%2F%20Keys%20separate%20source%20(or%20catchall%20%22*%22)%20and%20destination%20types%20with%20a%20single%20space%0D%0A%09%09converters%3A%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Convert%20anything%20to%20text%0D%0A%09%09%09%22*%20text%22%3A%20String%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Text%20to%20html%20(true%20%3D%20no%20transformation)%0D%0A%09%09%09%22text%20html%22%3A%20true%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Evaluate%20text%20as%20a%20json%20expression%0D%0A%09%09%09%22text%20json%22%3A%20JSON.parse%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Parse%20text%20as%20xml%0D%0A%09%09%09%22text%20xml%22%3A%20jQuery.parseXML%0D%0A%09%09%7D%2C%0D%0A%0D%0A%09%09%2F%2F%20For%20options%20that%20shouldn't%20be%20deep%20extended%3A%0D%0A%09%09%2F%2F%20you%20can%20add%20your%20own%20custom%20options%20here%20if%0D%0A%09%09%2F%2F%20and%20when%20you%20create%20one%20that%20shouldn't%20be%0D%0A%09%09%2F%2F%20deep%20extended%20(see%20ajaxExtend)%0D%0A%09%09flatOptions%3A%20%7B%0D%0A%09%09%09url%3A%20true%2C%0D%0A%09%09%09context%3A%20true%0D%0A%09%09%7D%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20Creates%20a%20full%20fledged%20settings%20object%20into%20target%0D%0A%09%2F%2F%20with%20both%20ajaxSettings%20and%20settings%20fields.%0D%0A%09%2F%2F%20If%20target%20is%20omitted%2C%20writes%20into%20ajaxSettings.%0D%0A%09ajaxSetup%3A%20function(%20target%2C%20settings%20)%20%7B%0D%0A%09%09return%20settings%20%3F%0D%0A%0D%0A%09%09%09%2F%2F%20Building%20a%20settings%20object%0D%0A%09%09%09ajaxExtend(%20ajaxExtend(%20target%2C%20jQuery.ajaxSettings%20)%2C%20settings%20)%20%3A%0D%0A%0D%0A%09%09%09%2F%2F%20Extending%20ajaxSettings%0D%0A%09%09%09ajaxExtend(%20jQuery.ajaxSettings%2C%20target%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09ajaxPrefilter%3A%20addToPrefiltersOrTransports(%20prefilters%20)%2C%0D%0A%09ajaxTransport%3A%20addToPrefiltersOrTransports(%20transports%20)%2C%0D%0A%0D%0A%09%2F%2F%20Main%20method%0D%0A%09ajax%3A%20function(%20url%2C%20options%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20If%20url%20is%20an%20object%2C%20simulate%20pre-1.5%20signature%0D%0A%09%09if%20(%20typeof%20url%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%09%09%09options%20%3D%20url%3B%0D%0A%09%09%09url%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Force%20options%20to%20be%20an%20object%0D%0A%09%09options%20%3D%20options%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%09%09var%20transport%2C%0D%0A%0D%0A%09%09%09%2F%2F%20URL%20without%20anti-cache%20param%0D%0A%09%09%09cacheURL%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Response%20headers%0D%0A%09%09%09responseHeadersString%2C%0D%0A%09%09%09responseHeaders%2C%0D%0A%0D%0A%09%09%09%2F%2F%20timeout%20handle%0D%0A%09%09%09timeoutTimer%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Url%20cleanup%20var%0D%0A%09%09%09urlAnchor%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Request%20state%20(becomes%20false%20upon%20send%20and%20true%20upon%20completion)%0D%0A%09%09%09completed%2C%0D%0A%0D%0A%09%09%09%2F%2F%20To%20know%20if%20global%20events%20are%20to%20be%20dispatched%0D%0A%09%09%09fireGlobals%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Loop%20variable%0D%0A%09%09%09i%2C%0D%0A%0D%0A%09%09%09%2F%2F%20uncached%20part%20of%20the%20url%0D%0A%09%09%09uncached%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Create%20the%20final%20options%20object%0D%0A%09%09%09s%20%3D%20jQuery.ajaxSetup(%20%7B%7D%2C%20options%20)%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Callbacks%20context%0D%0A%09%09%09callbackContext%20%3D%20s.context%20%7C%7C%20s%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Context%20for%20global%20events%20is%20callbackContext%20if%20it%20is%20a%20DOM%20node%20or%20jQuery%20collection%0D%0A%09%09%09globalEventContext%20%3D%20s.context%20%26%26%0D%0A%09%09%09%09(%20callbackContext.nodeType%20%7C%7C%20callbackContext.jquery%20)%20%3F%0D%0A%09%09%09%09%09jQuery(%20callbackContext%20)%20%3A%0D%0A%09%09%09%09%09jQuery.event%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Deferreds%0D%0A%09%09%09deferred%20%3D%20jQuery.Deferred()%2C%0D%0A%09%09%09completeDeferred%20%3D%20jQuery.Callbacks(%20%22once%20memory%22%20)%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Status-dependent%20callbacks%0D%0A%09%09%09statusCode%20%3D%20s.statusCode%20%7C%7C%20%7B%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Headers%20(they%20are%20sent%20all%20at%20once)%0D%0A%09%09%09requestHeaders%20%3D%20%7B%7D%2C%0D%0A%09%09%09requestHeadersNames%20%3D%20%7B%7D%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Default%20abort%20message%0D%0A%09%09%09strAbort%20%3D%20%22canceled%22%2C%0D%0A%0D%0A%09%09%09%2F%2F%20Fake%20xhr%0D%0A%09%09%09jqXHR%20%3D%20%7B%0D%0A%09%09%09%09readyState%3A%200%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Builds%20headers%20hashtable%20if%20needed%0D%0A%09%09%09%09getResponseHeader%3A%20function(%20key%20)%20%7B%0D%0A%09%09%09%09%09var%20match%3B%0D%0A%09%09%09%09%09if%20(%20completed%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20!responseHeaders%20)%20%7B%0D%0A%09%09%09%09%09%09%09responseHeaders%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09%09%09%09while%20(%20(%20match%20%3D%20rheaders.exec(%20responseHeadersString%20)%20)%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09responseHeaders%5B%20match%5B%201%20%5D.toLowerCase()%20%2B%20%22%20%22%20%5D%20%3D%0D%0A%09%09%09%09%09%09%09%09%09(%20responseHeaders%5B%20match%5B%201%20%5D.toLowerCase()%20%2B%20%22%20%22%20%5D%20%7C%7C%20%5B%5D%20)%0D%0A%09%09%09%09%09%09%09%09%09%09.concat(%20match%5B%202%20%5D%20)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09match%20%3D%20responseHeaders%5B%20key.toLowerCase()%20%2B%20%22%20%22%20%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20match%20%3D%3D%20null%20%3F%20null%20%3A%20match.join(%20%22%2C%20%22%20)%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Raw%20string%0D%0A%09%09%09%09getAllResponseHeaders%3A%20function()%20%7B%0D%0A%09%09%09%09%09return%20completed%20%3F%20responseHeadersString%20%3A%20null%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Caches%20the%20header%0D%0A%09%09%09%09setRequestHeader%3A%20function(%20name%2C%20value%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20completed%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09%09%09name%20%3D%20requestHeadersNames%5B%20name.toLowerCase()%20%5D%20%3D%0D%0A%09%09%09%09%09%09%09requestHeadersNames%5B%20name.toLowerCase()%20%5D%20%7C%7C%20name%3B%0D%0A%09%09%09%09%09%09requestHeaders%5B%20name%20%5D%20%3D%20value%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Overrides%20response%20content-type%20header%0D%0A%09%09%09%09overrideMimeType%3A%20function(%20type%20)%20%7B%0D%0A%09%09%09%09%09if%20(%20completed%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09%09%09%09s.mimeType%20%3D%20type%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Status-dependent%20callbacks%0D%0A%09%09%09%09statusCode%3A%20function(%20map%20)%20%7B%0D%0A%09%09%09%09%09var%20code%3B%0D%0A%09%09%09%09%09if%20(%20map%20)%20%7B%0D%0A%09%09%09%09%09%09if%20(%20completed%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Execute%20the%20appropriate%20callbacks%0D%0A%09%09%09%09%09%09%09jqXHR.always(%20map%5B%20jqXHR.status%20%5D%20)%3B%0D%0A%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Lazy-add%20the%20new%20callbacks%20in%20a%20way%20that%20preserves%20old%20ones%0D%0A%09%09%09%09%09%09%09for%20(%20code%20in%20map%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09statusCode%5B%20code%20%5D%20%3D%20%5B%20statusCode%5B%20code%20%5D%2C%20map%5B%20code%20%5D%20%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%09%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09%09%2F%2F%20Cancel%20the%20request%0D%0A%09%09%09%09abort%3A%20function(%20statusText%20)%20%7B%0D%0A%09%09%09%09%09var%20finalText%20%3D%20statusText%20%7C%7C%20strAbort%3B%0D%0A%09%09%09%09%09if%20(%20transport%20)%20%7B%0D%0A%09%09%09%09%09%09transport.abort(%20finalText%20)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09done(%200%2C%20finalText%20)%3B%0D%0A%09%09%09%09%09return%20this%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Attach%20deferreds%0D%0A%09%09deferred.promise(%20jqXHR%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Add%20protocol%20if%20not%20provided%20(prefilters%20might%20expect%20it)%0D%0A%09%09%2F%2F%20Handle%20falsy%20url%20in%20the%20settings%20object%20(%2310093%3A%20consistency%20with%20old%20signature)%0D%0A%09%09%2F%2F%20We%20also%20use%20the%20url%20parameter%20if%20available%0D%0A%09%09s.url%20%3D%20(%20(%20url%20%7C%7C%20s.url%20%7C%7C%20location.href%20)%20%2B%20%22%22%20)%0D%0A%09%09%09.replace(%20rprotocol%2C%20location.protocol%20%2B%20%22%2F%2F%22%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Alias%20method%20option%20to%20type%20as%20per%20ticket%20%2312004%0D%0A%09%09s.type%20%3D%20options.method%20%7C%7C%20options.type%20%7C%7C%20s.method%20%7C%7C%20s.type%3B%0D%0A%0D%0A%09%09%2F%2F%20Extract%20dataTypes%20list%0D%0A%09%09s.dataTypes%20%3D%20(%20s.dataType%20%7C%7C%20%22*%22%20).toLowerCase().match(%20rnothtmlwhite%20)%20%7C%7C%20%5B%20%22%22%20%5D%3B%0D%0A%0D%0A%09%09%2F%2F%20A%20cross-domain%20request%20is%20in%20order%20when%20the%20origin%20doesn't%20match%20the%20current%20origin.%0D%0A%09%09if%20(%20s.crossDomain%20%3D%3D%20null%20)%20%7B%0D%0A%09%09%09urlAnchor%20%3D%20document.createElement(%20%22a%22%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D8%20-%2011%2C%20Edge%2012%20-%2015%0D%0A%09%09%09%2F%2F%20IE%20throws%20exception%20on%20accessing%20the%20href%20property%20if%20url%20is%20malformed%2C%0D%0A%09%09%09%2F%2F%20e.g.%20http%3A%2F%2Fexample.com%3A80x%2F%0D%0A%09%09%09try%20%7B%0D%0A%09%09%09%09urlAnchor.href%20%3D%20s.url%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D8%20-%2011%20only%0D%0A%09%09%09%09%2F%2F%20Anchor's%20host%20property%20isn't%20correctly%20set%20when%20s.url%20is%20relative%0D%0A%09%09%09%09urlAnchor.href%20%3D%20urlAnchor.href%3B%0D%0A%09%09%09%09s.crossDomain%20%3D%20originAnchor.protocol%20%2B%20%22%2F%2F%22%20%2B%20originAnchor.host%20!%3D%3D%0D%0A%09%09%09%09%09urlAnchor.protocol%20%2B%20%22%2F%2F%22%20%2B%20urlAnchor.host%3B%0D%0A%09%09%09%7D%20catch%20(%20e%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20there%20is%20an%20error%20parsing%20the%20URL%2C%20assume%20it%20is%20crossDomain%2C%0D%0A%09%09%09%09%2F%2F%20it%20can%20be%20rejected%20by%20the%20transport%20if%20it%20is%20invalid%0D%0A%09%09%09%09s.crossDomain%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Convert%20data%20if%20not%20already%20a%20string%0D%0A%09%09if%20(%20s.data%20%26%26%20s.processData%20%26%26%20typeof%20s.data%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09%09s.data%20%3D%20jQuery.param(%20s.data%2C%20s.traditional%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Apply%20prefilters%0D%0A%09%09inspectPrefiltersOrTransports(%20prefilters%2C%20s%2C%20options%2C%20jqXHR%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20request%20was%20aborted%20inside%20a%20prefilter%2C%20stop%20there%0D%0A%09%09if%20(%20completed%20)%20%7B%0D%0A%09%09%09return%20jqXHR%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20We%20can%20fire%20global%20events%20as%20of%20now%20if%20asked%20to%0D%0A%09%09%2F%2F%20Don't%20fire%20events%20if%20jQuery.event%20is%20undefined%20in%20an%20AMD-usage%20scenario%20(%2315118)%0D%0A%09%09fireGlobals%20%3D%20jQuery.event%20%26%26%20s.global%3B%0D%0A%0D%0A%09%09%2F%2F%20Watch%20for%20a%20new%20set%20of%20requests%0D%0A%09%09if%20(%20fireGlobals%20%26%26%20jQuery.active%2B%2B%20%3D%3D%3D%200%20)%20%7B%0D%0A%09%09%09jQuery.event.trigger(%20%22ajaxStart%22%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Uppercase%20the%20type%0D%0A%09%09s.type%20%3D%20s.type.toUpperCase()%3B%0D%0A%0D%0A%09%09%2F%2F%20Determine%20if%20request%20has%20content%0D%0A%09%09s.hasContent%20%3D%20!rnoContent.test(%20s.type%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Save%20the%20URL%20in%20case%20we're%20toying%20with%20the%20If-Modified-Since%0D%0A%09%09%2F%2F%20and%2For%20If-None-Match%20header%20later%20on%0D%0A%09%09%2F%2F%20Remove%20hash%20to%20simplify%20url%20manipulation%0D%0A%09%09cacheURL%20%3D%20s.url.replace(%20rhash%2C%20%22%22%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20More%20options%20handling%20for%20requests%20with%20no%20content%0D%0A%09%09if%20(%20!s.hasContent%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Remember%20the%20hash%20so%20we%20can%20put%20it%20back%0D%0A%09%09%09uncached%20%3D%20s.url.slice(%20cacheURL.length%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20data%20is%20available%20and%20should%20be%20processed%2C%20append%20data%20to%20url%0D%0A%09%09%09if%20(%20s.data%20%26%26%20(%20s.processData%20%7C%7C%20typeof%20s.data%20%3D%3D%3D%20%22string%22%20)%20)%20%7B%0D%0A%09%09%09%09cacheURL%20%2B%3D%20(%20rquery.test(%20cacheURL%20)%20%3F%20%22%26%22%20%3A%20%22%3F%22%20)%20%2B%20s.data%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20%239682%3A%20remove%20data%20so%20that%20it's%20not%20used%20in%20an%20eventual%20retry%0D%0A%09%09%09%09delete%20s.data%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Add%20or%20update%20anti-cache%20param%20if%20needed%0D%0A%09%09%09if%20(%20s.cache%20%3D%3D%3D%20false%20)%20%7B%0D%0A%09%09%09%09cacheURL%20%3D%20cacheURL.replace(%20rantiCache%2C%20%22%241%22%20)%3B%0D%0A%09%09%09%09uncached%20%3D%20(%20rquery.test(%20cacheURL%20)%20%3F%20%22%26%22%20%3A%20%22%3F%22%20)%20%2B%20%22_%3D%22%20%2B%20(%20nonce%2B%2B%20)%20%2B%20uncached%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Put%20hash%20and%20anti-cache%20on%20the%20URL%20that%20will%20be%20requested%20(gh-1732)%0D%0A%09%09%09s.url%20%3D%20cacheURL%20%2B%20uncached%3B%0D%0A%0D%0A%09%09%2F%2F%20Change%20'%2520'%20to%20'%2B'%20if%20this%20is%20encoded%20form%20body%20content%20(gh-2658)%0D%0A%09%09%7D%20else%20if%20(%20s.data%20%26%26%20s.processData%20%26%26%0D%0A%09%09%09(%20s.contentType%20%7C%7C%20%22%22%20).indexOf(%20%22application%2Fx-www-form-urlencoded%22%20)%20%3D%3D%3D%200%20)%20%7B%0D%0A%09%09%09s.data%20%3D%20s.data.replace(%20r20%2C%20%22%2B%22%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Set%20the%20If-Modified-Since%20and%2For%20If-None-Match%20header%2C%20if%20in%20ifModified%20mode.%0D%0A%09%09if%20(%20s.ifModified%20)%20%7B%0D%0A%09%09%09if%20(%20jQuery.lastModified%5B%20cacheURL%20%5D%20)%20%7B%0D%0A%09%09%09%09jqXHR.setRequestHeader(%20%22If-Modified-Since%22%2C%20jQuery.lastModified%5B%20cacheURL%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%20jQuery.etag%5B%20cacheURL%20%5D%20)%20%7B%0D%0A%09%09%09%09jqXHR.setRequestHeader(%20%22If-None-Match%22%2C%20jQuery.etag%5B%20cacheURL%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Set%20the%20correct%20header%2C%20if%20data%20is%20being%20sent%0D%0A%09%09if%20(%20s.data%20%26%26%20s.hasContent%20%26%26%20s.contentType%20!%3D%3D%20false%20%7C%7C%20options.contentType%20)%20%7B%0D%0A%09%09%09jqXHR.setRequestHeader(%20%22Content-Type%22%2C%20s.contentType%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Set%20the%20Accepts%20header%20for%20the%20server%2C%20depending%20on%20the%20dataType%0D%0A%09%09jqXHR.setRequestHeader(%0D%0A%09%09%09%22Accept%22%2C%0D%0A%09%09%09s.dataTypes%5B%200%20%5D%20%26%26%20s.accepts%5B%20s.dataTypes%5B%200%20%5D%20%5D%20%3F%0D%0A%09%09%09%09s.accepts%5B%20s.dataTypes%5B%200%20%5D%20%5D%20%2B%0D%0A%09%09%09%09%09(%20s.dataTypes%5B%200%20%5D%20!%3D%3D%20%22*%22%20%3F%20%22%2C%20%22%20%2B%20allTypes%20%2B%20%22%3B%20q%3D0.01%22%20%3A%20%22%22%20)%20%3A%0D%0A%09%09%09%09s.accepts%5B%20%22*%22%20%5D%0D%0A%09%09)%3B%0D%0A%0D%0A%09%09%2F%2F%20Check%20for%20headers%20option%0D%0A%09%09for%20(%20i%20in%20s.headers%20)%20%7B%0D%0A%09%09%09jqXHR.setRequestHeader(%20i%2C%20s.headers%5B%20i%20%5D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Allow%20custom%20headers%2Fmimetypes%20and%20early%20abort%0D%0A%09%09if%20(%20s.beforeSend%20%26%26%0D%0A%09%09%09(%20s.beforeSend.call(%20callbackContext%2C%20jqXHR%2C%20s%20)%20%3D%3D%3D%20false%20%7C%7C%20completed%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Abort%20if%20not%20done%20already%20and%20return%0D%0A%09%09%09return%20jqXHR.abort()%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Aborting%20is%20no%20longer%20a%20cancellation%0D%0A%09%09strAbort%20%3D%20%22abort%22%3B%0D%0A%0D%0A%09%09%2F%2F%20Install%20callbacks%20on%20deferreds%0D%0A%09%09completeDeferred.add(%20s.complete%20)%3B%0D%0A%09%09jqXHR.done(%20s.success%20)%3B%0D%0A%09%09jqXHR.fail(%20s.error%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Get%20transport%0D%0A%09%09transport%20%3D%20inspectPrefiltersOrTransports(%20transports%2C%20s%2C%20options%2C%20jqXHR%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20no%20transport%2C%20we%20auto-abort%0D%0A%09%09if%20(%20!transport%20)%20%7B%0D%0A%09%09%09done(%20-1%2C%20%22No%20Transport%22%20)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09jqXHR.readyState%20%3D%201%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Send%20global%20event%0D%0A%09%09%09if%20(%20fireGlobals%20)%20%7B%0D%0A%09%09%09%09globalEventContext.trigger(%20%22ajaxSend%22%2C%20%5B%20jqXHR%2C%20s%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20If%20request%20was%20aborted%20inside%20ajaxSend%2C%20stop%20there%0D%0A%09%09%09if%20(%20completed%20)%20%7B%0D%0A%09%09%09%09return%20jqXHR%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Timeout%0D%0A%09%09%09if%20(%20s.async%20%26%26%20s.timeout%20%3E%200%20)%20%7B%0D%0A%09%09%09%09timeoutTimer%20%3D%20window.setTimeout(%20function()%20%7B%0D%0A%09%09%09%09%09jqXHR.abort(%20%22timeout%22%20)%3B%0D%0A%09%09%09%09%7D%2C%20s.timeout%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09try%20%7B%0D%0A%09%09%09%09completed%20%3D%20false%3B%0D%0A%09%09%09%09transport.send(%20requestHeaders%2C%20done%20)%3B%0D%0A%09%09%09%7D%20catch%20(%20e%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Rethrow%20post-completion%20exceptions%0D%0A%09%09%09%09if%20(%20completed%20)%20%7B%0D%0A%09%09%09%09%09throw%20e%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Propagate%20others%20as%20results%0D%0A%09%09%09%09done(%20-1%2C%20e%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Callback%20for%20when%20everything%20is%20done%0D%0A%09%09function%20done(%20status%2C%20nativeStatusText%2C%20responses%2C%20headers%20)%20%7B%0D%0A%09%09%09var%20isSuccess%2C%20success%2C%20error%2C%20response%2C%20modified%2C%0D%0A%09%09%09%09statusText%20%3D%20nativeStatusText%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Ignore%20repeat%20invocations%0D%0A%09%09%09if%20(%20completed%20)%20%7B%0D%0A%09%09%09%09return%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09completed%20%3D%20true%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Clear%20timeout%20if%20it%20exists%0D%0A%09%09%09if%20(%20timeoutTimer%20)%20%7B%0D%0A%09%09%09%09window.clearTimeout(%20timeoutTimer%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Dereference%20transport%20for%20early%20garbage%20collection%0D%0A%09%09%09%2F%2F%20(no%20matter%20how%20long%20the%20jqXHR%20object%20will%20be%20used)%0D%0A%09%09%09transport%20%3D%20undefined%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Cache%20response%20headers%0D%0A%09%09%09responseHeadersString%20%3D%20headers%20%7C%7C%20%22%22%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Set%20readyState%0D%0A%09%09%09jqXHR.readyState%20%3D%20status%20%3E%200%20%3F%204%20%3A%200%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Determine%20if%20successful%0D%0A%09%09%09isSuccess%20%3D%20status%20%3E%3D%20200%20%26%26%20status%20%3C%20300%20%7C%7C%20status%20%3D%3D%3D%20304%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Get%20response%20data%0D%0A%09%09%09if%20(%20responses%20)%20%7B%0D%0A%09%09%09%09response%20%3D%20ajaxHandleResponses(%20s%2C%20jqXHR%2C%20responses%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Convert%20no%20matter%20what%20(that%20way%20responseXXX%20fields%20are%20always%20set)%0D%0A%09%09%09response%20%3D%20ajaxConvert(%20s%2C%20response%2C%20jqXHR%2C%20isSuccess%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20successful%2C%20handle%20type%20chaining%0D%0A%09%09%09if%20(%20isSuccess%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Set%20the%20If-Modified-Since%20and%2For%20If-None-Match%20header%2C%20if%20in%20ifModified%20mode.%0D%0A%09%09%09%09if%20(%20s.ifModified%20)%20%7B%0D%0A%09%09%09%09%09modified%20%3D%20jqXHR.getResponseHeader(%20%22Last-Modified%22%20)%3B%0D%0A%09%09%09%09%09if%20(%20modified%20)%20%7B%0D%0A%09%09%09%09%09%09jQuery.lastModified%5B%20cacheURL%20%5D%20%3D%20modified%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09modified%20%3D%20jqXHR.getResponseHeader(%20%22etag%22%20)%3B%0D%0A%09%09%09%09%09if%20(%20modified%20)%20%7B%0D%0A%09%09%09%09%09%09jQuery.etag%5B%20cacheURL%20%5D%20%3D%20modified%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20if%20no%20content%0D%0A%09%09%09%09if%20(%20status%20%3D%3D%3D%20204%20%7C%7C%20s.type%20%3D%3D%3D%20%22HEAD%22%20)%20%7B%0D%0A%09%09%09%09%09statusText%20%3D%20%22nocontent%22%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20if%20not%20modified%0D%0A%09%09%09%09%7D%20else%20if%20(%20status%20%3D%3D%3D%20304%20)%20%7B%0D%0A%09%09%09%09%09statusText%20%3D%20%22notmodified%22%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20we%20have%20data%2C%20let's%20convert%20it%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09statusText%20%3D%20response.state%3B%0D%0A%09%09%09%09%09success%20%3D%20response.data%3B%0D%0A%09%09%09%09%09error%20%3D%20response.error%3B%0D%0A%09%09%09%09%09isSuccess%20%3D%20!error%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Extract%20error%20from%20statusText%20and%20normalize%20for%20non-aborts%0D%0A%09%09%09%09error%20%3D%20statusText%3B%0D%0A%09%09%09%09if%20(%20status%20%7C%7C%20!statusText%20)%20%7B%0D%0A%09%09%09%09%09statusText%20%3D%20%22error%22%3B%0D%0A%09%09%09%09%09if%20(%20status%20%3C%200%20)%20%7B%0D%0A%09%09%09%09%09%09status%20%3D%200%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Set%20data%20for%20the%20fake%20xhr%20object%0D%0A%09%09%09jqXHR.status%20%3D%20status%3B%0D%0A%09%09%09jqXHR.statusText%20%3D%20(%20nativeStatusText%20%7C%7C%20statusText%20)%20%2B%20%22%22%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Success%2FError%0D%0A%09%09%09if%20(%20isSuccess%20)%20%7B%0D%0A%09%09%09%09deferred.resolveWith(%20callbackContext%2C%20%5B%20success%2C%20statusText%2C%20jqXHR%20%5D%20)%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09deferred.rejectWith(%20callbackContext%2C%20%5B%20jqXHR%2C%20statusText%2C%20error%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Status-dependent%20callbacks%0D%0A%09%09%09jqXHR.statusCode(%20statusCode%20)%3B%0D%0A%09%09%09statusCode%20%3D%20undefined%3B%0D%0A%0D%0A%09%09%09if%20(%20fireGlobals%20)%20%7B%0D%0A%09%09%09%09globalEventContext.trigger(%20isSuccess%20%3F%20%22ajaxSuccess%22%20%3A%20%22ajaxError%22%2C%0D%0A%09%09%09%09%09%5B%20jqXHR%2C%20s%2C%20isSuccess%20%3F%20success%20%3A%20error%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Complete%0D%0A%09%09%09completeDeferred.fireWith(%20callbackContext%2C%20%5B%20jqXHR%2C%20statusText%20%5D%20)%3B%0D%0A%0D%0A%09%09%09if%20(%20fireGlobals%20)%20%7B%0D%0A%09%09%09%09globalEventContext.trigger(%20%22ajaxComplete%22%2C%20%5B%20jqXHR%2C%20s%20%5D%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Handle%20the%20global%20AJAX%20counter%0D%0A%09%09%09%09if%20(%20!(%20--jQuery.active%20)%20)%20%7B%0D%0A%09%09%09%09%09jQuery.event.trigger(%20%22ajaxStop%22%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20jqXHR%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09getJSON%3A%20function(%20url%2C%20data%2C%20callback%20)%20%7B%0D%0A%09%09return%20jQuery.get(%20url%2C%20data%2C%20callback%2C%20%22json%22%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09getScript%3A%20function(%20url%2C%20callback%20)%20%7B%0D%0A%09%09return%20jQuery.get(%20url%2C%20undefined%2C%20callback%2C%20%22script%22%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.each(%20%5B%20%22get%22%2C%20%22post%22%20%5D%2C%20function(%20i%2C%20method%20)%20%7B%0D%0A%09jQuery%5B%20method%20%5D%20%3D%20function(%20url%2C%20data%2C%20callback%2C%20type%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Shift%20arguments%20if%20data%20argument%20was%20omitted%0D%0A%09%09if%20(%20isFunction(%20data%20)%20)%20%7B%0D%0A%09%09%09type%20%3D%20type%20%7C%7C%20callback%3B%0D%0A%09%09%09callback%20%3D%20data%3B%0D%0A%09%09%09data%20%3D%20undefined%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20The%20url%20can%20be%20an%20options%20object%20(which%20then%20must%20have%20.url)%0D%0A%09%09return%20jQuery.ajax(%20jQuery.extend(%20%7B%0D%0A%09%09%09url%3A%20url%2C%0D%0A%09%09%09type%3A%20method%2C%0D%0A%09%09%09dataType%3A%20type%2C%0D%0A%09%09%09data%3A%20data%2C%0D%0A%09%09%09success%3A%20callback%0D%0A%09%09%7D%2C%20jQuery.isPlainObject(%20url%20)%20%26%26%20url%20)%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0AjQuery._evalUrl%20%3D%20function(%20url%2C%20options%20)%20%7B%0D%0A%09return%20jQuery.ajax(%20%7B%0D%0A%09%09url%3A%20url%2C%0D%0A%0D%0A%09%09%2F%2F%20Make%20this%20explicit%2C%20since%20user%20can%20override%20this%20through%20ajaxSetup%20(%2311264)%0D%0A%09%09type%3A%20%22GET%22%2C%0D%0A%09%09dataType%3A%20%22script%22%2C%0D%0A%09%09cache%3A%20true%2C%0D%0A%09%09async%3A%20false%2C%0D%0A%09%09global%3A%20false%2C%0D%0A%0D%0A%09%09%2F%2F%20Only%20evaluate%20the%20response%20if%20it%20is%20successful%20(gh-4126)%0D%0A%09%09%2F%2F%20dataFilter%20is%20not%20invoked%20for%20failure%20responses%2C%20so%20using%20it%20instead%0D%0A%09%09%2F%2F%20of%20the%20default%20converter%20is%20kludgy%20but%20it%20works.%0D%0A%09%09converters%3A%20%7B%0D%0A%09%09%09%22text%20script%22%3A%20function()%20%7B%7D%0D%0A%09%09%7D%2C%0D%0A%09%09dataFilter%3A%20function(%20response%20)%20%7B%0D%0A%09%09%09jQuery.globalEval(%20response%2C%20options%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09wrapAll%3A%20function(%20html%20)%20%7B%0D%0A%09%09var%20wrap%3B%0D%0A%0D%0A%09%09if%20(%20this%5B%200%20%5D%20)%20%7B%0D%0A%09%09%09if%20(%20isFunction(%20html%20)%20)%20%7B%0D%0A%09%09%09%09html%20%3D%20html.call(%20this%5B%200%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20The%20elements%20to%20wrap%20the%20target%20around%0D%0A%09%09%09wrap%20%3D%20jQuery(%20html%2C%20this%5B%200%20%5D.ownerDocument%20).eq(%200%20).clone(%20true%20)%3B%0D%0A%0D%0A%09%09%09if%20(%20this%5B%200%20%5D.parentNode%20)%20%7B%0D%0A%09%09%09%09wrap.insertBefore(%20this%5B%200%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09wrap.map(%20function()%20%7B%0D%0A%09%09%09%09var%20elem%20%3D%20this%3B%0D%0A%0D%0A%09%09%09%09while%20(%20elem.firstElementChild%20)%20%7B%0D%0A%09%09%09%09%09elem%20%3D%20elem.firstElementChild%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09return%20elem%3B%0D%0A%09%09%09%7D%20).append(%20this%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09wrapInner%3A%20function(%20html%20)%20%7B%0D%0A%09%09if%20(%20isFunction(%20html%20)%20)%20%7B%0D%0A%09%09%09return%20this.each(%20function(%20i%20)%20%7B%0D%0A%09%09%09%09jQuery(%20this%20).wrapInner(%20html.call(%20this%2C%20i%20)%20)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20this.each(%20function()%20%7B%0D%0A%09%09%09var%20self%20%3D%20jQuery(%20this%20)%2C%0D%0A%09%09%09%09contents%20%3D%20self.contents()%3B%0D%0A%0D%0A%09%09%09if%20(%20contents.length%20)%20%7B%0D%0A%09%09%09%09contents.wrapAll(%20html%20)%3B%0D%0A%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09self.append(%20html%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09wrap%3A%20function(%20html%20)%20%7B%0D%0A%09%09var%20htmlIsFunction%20%3D%20isFunction(%20html%20)%3B%0D%0A%0D%0A%09%09return%20this.each(%20function(%20i%20)%20%7B%0D%0A%09%09%09jQuery(%20this%20).wrapAll(%20htmlIsFunction%20%3F%20html.call(%20this%2C%20i%20)%20%3A%20html%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09unwrap%3A%20function(%20selector%20)%20%7B%0D%0A%09%09this.parent(%20selector%20).not(%20%22body%22%20).each(%20function()%20%7B%0D%0A%09%09%09jQuery(%20this%20).replaceWith(%20this.childNodes%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%09return%20this%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0AjQuery.expr.pseudos.hidden%20%3D%20function(%20elem%20)%20%7B%0D%0A%09return%20!jQuery.expr.pseudos.visible(%20elem%20)%3B%0D%0A%7D%3B%0D%0AjQuery.expr.pseudos.visible%20%3D%20function(%20elem%20)%20%7B%0D%0A%09return%20!!(%20elem.offsetWidth%20%7C%7C%20elem.offsetHeight%20%7C%7C%20elem.getClientRects().length%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0AjQuery.ajaxSettings.xhr%20%3D%20function()%20%7B%0D%0A%09try%20%7B%0D%0A%09%09return%20new%20window.XMLHttpRequest()%3B%0D%0A%09%7D%20catch%20(%20e%20)%20%7B%7D%0D%0A%7D%3B%0D%0A%0D%0Avar%20xhrSuccessStatus%20%3D%20%7B%0D%0A%0D%0A%09%09%2F%2F%20File%20protocol%20always%20yields%20status%20code%200%2C%20assume%20200%0D%0A%09%090%3A%20200%2C%0D%0A%0D%0A%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0A%09%09%2F%2F%20%231450%3A%20sometimes%20IE%20returns%201223%20when%20it%20should%20be%20204%0D%0A%09%091223%3A%20204%0D%0A%09%7D%2C%0D%0A%09xhrSupported%20%3D%20jQuery.ajaxSettings.xhr()%3B%0D%0A%0D%0Asupport.cors%20%3D%20!!xhrSupported%20%26%26%20(%20%22withCredentials%22%20in%20xhrSupported%20)%3B%0D%0Asupport.ajax%20%3D%20xhrSupported%20%3D%20!!xhrSupported%3B%0D%0A%0D%0AjQuery.ajaxTransport(%20function(%20options%20)%20%7B%0D%0A%09var%20callback%2C%20errorCallback%3B%0D%0A%0D%0A%09%2F%2F%20Cross%20domain%20only%20allowed%20if%20supported%20through%20XMLHttpRequest%0D%0A%09if%20(%20support.cors%20%7C%7C%20xhrSupported%20%26%26%20!options.crossDomain%20)%20%7B%0D%0A%09%09return%20%7B%0D%0A%09%09%09send%3A%20function(%20headers%2C%20complete%20)%20%7B%0D%0A%09%09%09%09var%20i%2C%0D%0A%09%09%09%09%09xhr%20%3D%20options.xhr()%3B%0D%0A%0D%0A%09%09%09%09xhr.open(%0D%0A%09%09%09%09%09options.type%2C%0D%0A%09%09%09%09%09options.url%2C%0D%0A%09%09%09%09%09options.async%2C%0D%0A%09%09%09%09%09options.username%2C%0D%0A%09%09%09%09%09options.password%0D%0A%09%09%09%09)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Apply%20custom%20fields%20if%20provided%0D%0A%09%09%09%09if%20(%20options.xhrFields%20)%20%7B%0D%0A%09%09%09%09%09for%20(%20i%20in%20options.xhrFields%20)%20%7B%0D%0A%09%09%09%09%09%09xhr%5B%20i%20%5D%20%3D%20options.xhrFields%5B%20i%20%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Override%20mime%20type%20if%20needed%0D%0A%09%09%09%09if%20(%20options.mimeType%20%26%26%20xhr.overrideMimeType%20)%20%7B%0D%0A%09%09%09%09%09xhr.overrideMimeType(%20options.mimeType%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20X-Requested-With%20header%0D%0A%09%09%09%09%2F%2F%20For%20cross-domain%20requests%2C%20seeing%20as%20conditions%20for%20a%20preflight%20are%0D%0A%09%09%09%09%2F%2F%20akin%20to%20a%20jigsaw%20puzzle%2C%20we%20simply%20never%20set%20it%20to%20be%20sure.%0D%0A%09%09%09%09%2F%2F%20(it%20can%20always%20be%20set%20on%20a%20per-request%20basis%20or%20even%20using%20ajaxSetup)%0D%0A%09%09%09%09%2F%2F%20For%20same-domain%20requests%2C%20won't%20change%20header%20if%20already%20provided.%0D%0A%09%09%09%09if%20(%20!options.crossDomain%20%26%26%20!headers%5B%20%22X-Requested-With%22%20%5D%20)%20%7B%0D%0A%09%09%09%09%09headers%5B%20%22X-Requested-With%22%20%5D%20%3D%20%22XMLHttpRequest%22%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Set%20headers%0D%0A%09%09%09%09for%20(%20i%20in%20headers%20)%20%7B%0D%0A%09%09%09%09%09xhr.setRequestHeader(%20i%2C%20headers%5B%20i%20%5D%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Callback%0D%0A%09%09%09%09callback%20%3D%20function(%20type%20)%20%7B%0D%0A%09%09%09%09%09return%20function()%20%7B%0D%0A%09%09%09%09%09%09if%20(%20callback%20)%20%7B%0D%0A%09%09%09%09%09%09%09callback%20%3D%20errorCallback%20%3D%20xhr.onload%20%3D%0D%0A%09%09%09%09%09%09%09%09xhr.onerror%20%3D%20xhr.onabort%20%3D%20xhr.ontimeout%20%3D%0D%0A%09%09%09%09%09%09%09%09%09xhr.onreadystatechange%20%3D%20null%3B%0D%0A%0D%0A%09%09%09%09%09%09%09if%20(%20type%20%3D%3D%3D%20%22abort%22%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09xhr.abort()%3B%0D%0A%09%09%09%09%09%09%09%7D%20else%20if%20(%20type%20%3D%3D%3D%20%22error%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20On%20a%20manual%20native%20abort%2C%20IE9%20throws%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20errors%20on%20any%20property%20access%20that%20is%20not%20readyState%0D%0A%09%09%09%09%09%09%09%09if%20(%20typeof%20xhr.status%20!%3D%3D%20%22number%22%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09complete(%200%2C%20%22error%22%20)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09complete(%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2F%20File%3A%20protocol%20always%20yields%20status%200%3B%20see%20%238605%2C%20%2314207%0D%0A%09%09%09%09%09%09%09%09%09%09xhr.status%2C%0D%0A%09%09%09%09%09%09%09%09%09%09xhr.statusText%0D%0A%09%09%09%09%09%09%09%09%09)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%09complete(%0D%0A%09%09%09%09%09%09%09%09%09xhrSuccessStatus%5B%20xhr.status%20%5D%20%7C%7C%20xhr.status%2C%0D%0A%09%09%09%09%09%09%09%09%09xhr.statusText%2C%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20Support%3A%20IE%20%3C%3D9%20only%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20IE9%20has%20no%20XHR2%20but%20throws%20on%20binary%20(trac-11426)%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20For%20XHR2%20non-text%2C%20let%20the%20caller%20handle%20it%20(gh-2498)%0D%0A%09%09%09%09%09%09%09%09%09(%20xhr.responseType%20%7C%7C%20%22text%22%20)%20!%3D%3D%20%22text%22%20%20%7C%7C%0D%0A%09%09%09%09%09%09%09%09%09typeof%20xhr.responseText%20!%3D%3D%20%22string%22%20%3F%0D%0A%09%09%09%09%09%09%09%09%09%09%7B%20binary%3A%20xhr.response%20%7D%20%3A%0D%0A%09%09%09%09%09%09%09%09%09%09%7B%20text%3A%20xhr.responseText%20%7D%2C%0D%0A%09%09%09%09%09%09%09%09%09xhr.getAllResponseHeaders()%0D%0A%09%09%09%09%09%09%09%09)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%7D%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Listen%20to%20events%0D%0A%09%09%09%09xhr.onload%20%3D%20callback()%3B%0D%0A%09%09%09%09errorCallback%20%3D%20xhr.onerror%20%3D%20xhr.ontimeout%20%3D%20callback(%20%22error%22%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Support%3A%20IE%209%20only%0D%0A%09%09%09%09%2F%2F%20Use%20onreadystatechange%20to%20replace%20onabort%0D%0A%09%09%09%09%2F%2F%20to%20handle%20uncaught%20aborts%0D%0A%09%09%09%09if%20(%20xhr.onabort%20!%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09%09xhr.onabort%20%3D%20errorCallback%3B%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09xhr.onreadystatechange%20%3D%20function()%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20Check%20readyState%20before%20timeout%20as%20it%20changes%0D%0A%09%09%09%09%09%09if%20(%20xhr.readyState%20%3D%3D%3D%204%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20Allow%20onerror%20to%20be%20called%20first%2C%0D%0A%09%09%09%09%09%09%09%2F%2F%20but%20that%20will%20not%20handle%20a%20native%20abort%0D%0A%09%09%09%09%09%09%09%2F%2F%20Also%2C%20save%20errorCallback%20to%20a%20variable%0D%0A%09%09%09%09%09%09%09%2F%2F%20as%20xhr.onerror%20cannot%20be%20accessed%0D%0A%09%09%09%09%09%09%09window.setTimeout(%20function()%20%7B%0D%0A%09%09%09%09%09%09%09%09if%20(%20callback%20)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09errorCallback()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Create%20the%20abort%20callback%0D%0A%09%09%09%09callback%20%3D%20callback(%20%22abort%22%20)%3B%0D%0A%0D%0A%09%09%09%09try%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Do%20send%20the%20request%20(this%20may%20raise%20an%20exception)%0D%0A%09%09%09%09%09xhr.send(%20options.hasContent%20%26%26%20options.data%20%7C%7C%20null%20)%3B%0D%0A%09%09%09%09%7D%20catch%20(%20e%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20%2314683%3A%20Only%20rethrow%20if%20this%20hasn't%20been%20notified%20as%20an%20error%20yet%0D%0A%09%09%09%09%09if%20(%20callback%20)%20%7B%0D%0A%09%09%09%09%09%09throw%20e%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%0D%0A%0D%0A%09%09%09abort%3A%20function()%20%7B%0D%0A%09%09%09%09if%20(%20callback%20)%20%7B%0D%0A%09%09%09%09%09callback()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Prevent%20auto-execution%20of%20scripts%20when%20no%20explicit%20dataType%20was%20provided%20(See%20gh-2432)%0D%0AjQuery.ajaxPrefilter(%20function(%20s%20)%20%7B%0D%0A%09if%20(%20s.crossDomain%20)%20%7B%0D%0A%09%09s.contents.script%20%3D%20false%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Install%20script%20dataType%0D%0AjQuery.ajaxSetup(%20%7B%0D%0A%09accepts%3A%20%7B%0D%0A%09%09script%3A%20%22text%2Fjavascript%2C%20application%2Fjavascript%2C%20%22%20%2B%0D%0A%09%09%09%22application%2Fecmascript%2C%20application%2Fx-ecmascript%22%0D%0A%09%7D%2C%0D%0A%09contents%3A%20%7B%0D%0A%09%09script%3A%20%2F%5Cb(%3F%3Ajava%7Cecma)script%5Cb%2F%0D%0A%09%7D%2C%0D%0A%09converters%3A%20%7B%0D%0A%09%09%22text%20script%22%3A%20function(%20text%20)%20%7B%0D%0A%09%09%09jQuery.globalEval(%20text%20)%3B%0D%0A%09%09%09return%20text%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Handle%20cache's%20special%20case%20and%20crossDomain%0D%0AjQuery.ajaxPrefilter(%20%22script%22%2C%20function(%20s%20)%20%7B%0D%0A%09if%20(%20s.cache%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09s.cache%20%3D%20false%3B%0D%0A%09%7D%0D%0A%09if%20(%20s.crossDomain%20)%20%7B%0D%0A%09%09s.type%20%3D%20%22GET%22%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Bind%20script%20tag%20hack%20transport%0D%0AjQuery.ajaxTransport(%20%22script%22%2C%20function(%20s%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20This%20transport%20only%20deals%20with%20cross%20domain%20or%20forced-by-attrs%20requests%0D%0A%09if%20(%20s.crossDomain%20%7C%7C%20s.scriptAttrs%20)%20%7B%0D%0A%09%09var%20script%2C%20callback%3B%0D%0A%09%09return%20%7B%0D%0A%09%09%09send%3A%20function(%20_%2C%20complete%20)%20%7B%0D%0A%09%09%09%09script%20%3D%20jQuery(%20%22%3Cscript%3E%22%20)%0D%0A%09%09%09%09%09.attr(%20s.scriptAttrs%20%7C%7C%20%7B%7D%20)%0D%0A%09%09%09%09%09.prop(%20%7B%20charset%3A%20s.scriptCharset%2C%20src%3A%20s.url%20%7D%20)%0D%0A%09%09%09%09%09.on(%20%22load%20error%22%2C%20callback%20%3D%20function(%20evt%20)%20%7B%0D%0A%09%09%09%09%09%09script.remove()%3B%0D%0A%09%09%09%09%09%09callback%20%3D%20null%3B%0D%0A%09%09%09%09%09%09if%20(%20evt%20)%20%7B%0D%0A%09%09%09%09%09%09%09complete(%20evt.type%20%3D%3D%3D%20%22error%22%20%3F%20404%20%3A%20200%2C%20evt.type%20)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Use%20native%20DOM%20manipulation%20to%20avoid%20our%20domManip%20AJAX%20trickery%0D%0A%09%09%09%09document.head.appendChild(%20script%5B%200%20%5D%20)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09abort%3A%20function()%20%7B%0D%0A%09%09%09%09if%20(%20callback%20)%20%7B%0D%0A%09%09%09%09%09callback()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Avar%20oldCallbacks%20%3D%20%5B%5D%2C%0D%0A%09rjsonp%20%3D%20%2F(%3D)%5C%3F(%3F%3D%26%7C%24)%7C%5C%3F%5C%3F%2F%3B%0D%0A%0D%0A%2F%2F%20Default%20jsonp%20settings%0D%0AjQuery.ajaxSetup(%20%7B%0D%0A%09jsonp%3A%20%22callback%22%2C%0D%0A%09jsonpCallback%3A%20function()%20%7B%0D%0A%09%09var%20callback%20%3D%20oldCallbacks.pop()%20%7C%7C%20(%20jQuery.expando%20%2B%20%22_%22%20%2B%20(%20nonce%2B%2B%20)%20)%3B%0D%0A%09%09this%5B%20callback%20%5D%20%3D%20true%3B%0D%0A%09%09return%20callback%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Detect%2C%20normalize%20options%20and%20install%20callbacks%20for%20jsonp%20requests%0D%0AjQuery.ajaxPrefilter(%20%22json%20jsonp%22%2C%20function(%20s%2C%20originalSettings%2C%20jqXHR%20)%20%7B%0D%0A%0D%0A%09var%20callbackName%2C%20overwritten%2C%20responseContainer%2C%0D%0A%09%09jsonProp%20%3D%20s.jsonp%20!%3D%3D%20false%20%26%26%20(%20rjsonp.test(%20s.url%20)%20%3F%0D%0A%09%09%09%22url%22%20%3A%0D%0A%09%09%09typeof%20s.data%20%3D%3D%3D%20%22string%22%20%26%26%0D%0A%09%09%09%09(%20s.contentType%20%7C%7C%20%22%22%20)%0D%0A%09%09%09%09%09.indexOf(%20%22application%2Fx-www-form-urlencoded%22%20)%20%3D%3D%3D%200%20%26%26%0D%0A%09%09%09%09rjsonp.test(%20s.data%20)%20%26%26%20%22data%22%0D%0A%09%09)%3B%0D%0A%0D%0A%09%2F%2F%20Handle%20iff%20the%20expected%20data%20type%20is%20%22jsonp%22%20or%20we%20have%20a%20parameter%20to%20set%0D%0A%09if%20(%20jsonProp%20%7C%7C%20s.dataTypes%5B%200%20%5D%20%3D%3D%3D%20%22jsonp%22%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Get%20callback%20name%2C%20remembering%20preexisting%20value%20associated%20with%20it%0D%0A%09%09callbackName%20%3D%20s.jsonpCallback%20%3D%20isFunction(%20s.jsonpCallback%20)%20%3F%0D%0A%09%09%09s.jsonpCallback()%20%3A%0D%0A%09%09%09s.jsonpCallback%3B%0D%0A%0D%0A%09%09%2F%2F%20Insert%20callback%20into%20url%20or%20form%20data%0D%0A%09%09if%20(%20jsonProp%20)%20%7B%0D%0A%09%09%09s%5B%20jsonProp%20%5D%20%3D%20s%5B%20jsonProp%20%5D.replace(%20rjsonp%2C%20%22%241%22%20%2B%20callbackName%20)%3B%0D%0A%09%09%7D%20else%20if%20(%20s.jsonp%20!%3D%3D%20false%20)%20%7B%0D%0A%09%09%09s.url%20%2B%3D%20(%20rquery.test(%20s.url%20)%20%3F%20%22%26%22%20%3A%20%22%3F%22%20)%20%2B%20s.jsonp%20%2B%20%22%3D%22%20%2B%20callbackName%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Use%20data%20converter%20to%20retrieve%20json%20after%20script%20execution%0D%0A%09%09s.converters%5B%20%22script%20json%22%20%5D%20%3D%20function()%20%7B%0D%0A%09%09%09if%20(%20!responseContainer%20)%20%7B%0D%0A%09%09%09%09jQuery.error(%20callbackName%20%2B%20%22%20was%20not%20called%22%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20responseContainer%5B%200%20%5D%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Force%20json%20dataType%0D%0A%09%09s.dataTypes%5B%200%20%5D%20%3D%20%22json%22%3B%0D%0A%0D%0A%09%09%2F%2F%20Install%20callback%0D%0A%09%09overwritten%20%3D%20window%5B%20callbackName%20%5D%3B%0D%0A%09%09window%5B%20callbackName%20%5D%20%3D%20function()%20%7B%0D%0A%09%09%09responseContainer%20%3D%20arguments%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Clean-up%20function%20(fires%20after%20converters)%0D%0A%09%09jqXHR.always(%20function()%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20If%20previous%20value%20didn't%20exist%20-%20remove%20it%0D%0A%09%09%09if%20(%20overwritten%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09jQuery(%20window%20).removeProp(%20callbackName%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Otherwise%20restore%20preexisting%20value%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09window%5B%20callbackName%20%5D%20%3D%20overwritten%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Save%20back%20as%20free%0D%0A%09%09%09if%20(%20s%5B%20callbackName%20%5D%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Make%20sure%20that%20re-using%20the%20options%20doesn't%20screw%20things%20around%0D%0A%09%09%09%09s.jsonpCallback%20%3D%20originalSettings.jsonpCallback%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Save%20the%20callback%20name%20for%20future%20use%0D%0A%09%09%09%09oldCallbacks.push(%20callbackName%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20Call%20if%20it%20was%20a%20function%20and%20we%20have%20a%20response%0D%0A%09%09%09if%20(%20responseContainer%20%26%26%20isFunction(%20overwritten%20)%20)%20%7B%0D%0A%09%09%09%09overwritten(%20responseContainer%5B%200%20%5D%20)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09responseContainer%20%3D%20overwritten%20%3D%20undefined%3B%0D%0A%09%09%7D%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20Delegate%20to%20script%0D%0A%09%09return%20%22script%22%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Support%3A%20Safari%208%20only%0D%0A%2F%2F%20In%20Safari%208%20documents%20created%20via%20document.implementation.createHTMLDocument%0D%0A%2F%2F%20collapse%20sibling%20forms%3A%20the%20second%20one%20becomes%20a%20child%20of%20the%20first%20one.%0D%0A%2F%2F%20Because%20of%20that%2C%20this%20security%20measure%20has%20to%20be%20disabled%20in%20Safari%208.%0D%0A%2F%2F%20https%3A%2F%2Fbugs.webkit.org%2Fshow_bug.cgi%3Fid%3D137337%0D%0Asupport.createHTMLDocument%20%3D%20(%20function()%20%7B%0D%0A%09var%20body%20%3D%20document.implementation.createHTMLDocument(%20%22%22%20).body%3B%0D%0A%09body.innerHTML%20%3D%20%22%3Cform%3E%3C%2Fform%3E%3Cform%3E%3C%2Fform%3E%22%3B%0D%0A%09return%20body.childNodes.length%20%3D%3D%3D%202%3B%0D%0A%7D%20)()%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Argument%20%22data%22%20should%20be%20string%20of%20html%0D%0A%2F%2F%20context%20(optional)%3A%20If%20specified%2C%20the%20fragment%20will%20be%20created%20in%20this%20context%2C%0D%0A%2F%2F%20defaults%20to%20document%0D%0A%2F%2F%20keepScripts%20(optional)%3A%20If%20true%2C%20will%20include%20scripts%20passed%20in%20the%20html%20string%0D%0AjQuery.parseHTML%20%3D%20function(%20data%2C%20context%2C%20keepScripts%20)%20%7B%0D%0A%09if%20(%20typeof%20data%20!%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09return%20%5B%5D%3B%0D%0A%09%7D%0D%0A%09if%20(%20typeof%20context%20%3D%3D%3D%20%22boolean%22%20)%20%7B%0D%0A%09%09keepScripts%20%3D%20context%3B%0D%0A%09%09context%20%3D%20false%3B%0D%0A%09%7D%0D%0A%0D%0A%09var%20base%2C%20parsed%2C%20scripts%3B%0D%0A%0D%0A%09if%20(%20!context%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Stop%20scripts%20or%20inline%20event%20handlers%20from%20being%20executed%20immediately%0D%0A%09%09%2F%2F%20by%20using%20document.implementation%0D%0A%09%09if%20(%20support.createHTMLDocument%20)%20%7B%0D%0A%09%09%09context%20%3D%20document.implementation.createHTMLDocument(%20%22%22%20)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Set%20the%20base%20href%20for%20the%20created%20document%0D%0A%09%09%09%2F%2F%20so%20any%20parsed%20elements%20with%20URLs%0D%0A%09%09%09%2F%2F%20are%20based%20on%20the%20document's%20URL%20(gh-2965)%0D%0A%09%09%09base%20%3D%20context.createElement(%20%22base%22%20)%3B%0D%0A%09%09%09base.href%20%3D%20document.location.href%3B%0D%0A%09%09%09context.head.appendChild(%20base%20)%3B%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09context%20%3D%20document%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09parsed%20%3D%20rsingleTag.exec(%20data%20)%3B%0D%0A%09scripts%20%3D%20!keepScripts%20%26%26%20%5B%5D%3B%0D%0A%0D%0A%09%2F%2F%20Single%20tag%0D%0A%09if%20(%20parsed%20)%20%7B%0D%0A%09%09return%20%5B%20context.createElement(%20parsed%5B%201%20%5D%20)%20%5D%3B%0D%0A%09%7D%0D%0A%0D%0A%09parsed%20%3D%20buildFragment(%20%5B%20data%20%5D%2C%20context%2C%20scripts%20)%3B%0D%0A%0D%0A%09if%20(%20scripts%20%26%26%20scripts.length%20)%20%7B%0D%0A%09%09jQuery(%20scripts%20).remove()%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20jQuery.merge(%20%5B%5D%2C%20parsed.childNodes%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20Load%20a%20url%20into%20a%20page%0D%0A%20*%2F%0D%0AjQuery.fn.load%20%3D%20function(%20url%2C%20params%2C%20callback%20)%20%7B%0D%0A%09var%20selector%2C%20type%2C%20response%2C%0D%0A%09%09self%20%3D%20this%2C%0D%0A%09%09off%20%3D%20url.indexOf(%20%22%20%22%20)%3B%0D%0A%0D%0A%09if%20(%20off%20%3E%20-1%20)%20%7B%0D%0A%09%09selector%20%3D%20stripAndCollapse(%20url.slice(%20off%20)%20)%3B%0D%0A%09%09url%20%3D%20url.slice(%200%2C%20off%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20If%20it's%20a%20function%0D%0A%09if%20(%20isFunction(%20params%20)%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20We%20assume%20that%20it's%20the%20callback%0D%0A%09%09callback%20%3D%20params%3B%0D%0A%09%09params%20%3D%20undefined%3B%0D%0A%0D%0A%09%2F%2F%20Otherwise%2C%20build%20a%20param%20string%0D%0A%09%7D%20else%20if%20(%20params%20%26%26%20typeof%20params%20%3D%3D%3D%20%22object%22%20)%20%7B%0D%0A%09%09type%20%3D%20%22POST%22%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20If%20we%20have%20elements%20to%20modify%2C%20make%20the%20request%0D%0A%09if%20(%20self.length%20%3E%200%20)%20%7B%0D%0A%09%09jQuery.ajax(%20%7B%0D%0A%09%09%09url%3A%20url%2C%0D%0A%0D%0A%09%09%09%2F%2F%20If%20%22type%22%20variable%20is%20undefined%2C%20then%20%22GET%22%20method%20will%20be%20used.%0D%0A%09%09%09%2F%2F%20Make%20value%20of%20this%20field%20explicit%20since%0D%0A%09%09%09%2F%2F%20user%20can%20override%20it%20through%20ajaxSetup%20method%0D%0A%09%09%09type%3A%20type%20%7C%7C%20%22GET%22%2C%0D%0A%09%09%09dataType%3A%20%22html%22%2C%0D%0A%09%09%09data%3A%20params%0D%0A%09%09%7D%20).done(%20function(%20responseText%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Save%20response%20for%20use%20in%20complete%20callback%0D%0A%09%09%09response%20%3D%20arguments%3B%0D%0A%0D%0A%09%09%09self.html(%20selector%20%3F%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20a%20selector%20was%20specified%2C%20locate%20the%20right%20elements%20in%20a%20dummy%20div%0D%0A%09%09%09%09%2F%2F%20Exclude%20scripts%20to%20avoid%20IE%20'Permission%20Denied'%20errors%0D%0A%09%09%09%09jQuery(%20%22%3Cdiv%3E%22%20).append(%20jQuery.parseHTML(%20responseText%20)%20).find(%20selector%20)%20%3A%0D%0A%0D%0A%09%09%09%09%2F%2F%20Otherwise%20use%20the%20full%20result%0D%0A%09%09%09%09responseText%20)%3B%0D%0A%0D%0A%09%09%2F%2F%20If%20the%20request%20succeeds%2C%20this%20function%20gets%20%22data%22%2C%20%22status%22%2C%20%22jqXHR%22%0D%0A%09%09%2F%2F%20but%20they%20are%20ignored%20because%20response%20was%20set%20above.%0D%0A%09%09%2F%2F%20If%20it%20fails%2C%20this%20function%20gets%20%22jqXHR%22%2C%20%22status%22%2C%20%22error%22%0D%0A%09%09%7D%20).always(%20callback%20%26%26%20function(%20jqXHR%2C%20status%20)%20%7B%0D%0A%09%09%09self.each(%20function()%20%7B%0D%0A%09%09%09%09callback.apply(%20this%2C%20response%20%7C%7C%20%5B%20jqXHR.responseText%2C%20status%2C%20jqXHR%20%5D%20)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20this%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Attach%20a%20bunch%20of%20functions%20for%20handling%20common%20AJAX%20events%0D%0AjQuery.each(%20%5B%0D%0A%09%22ajaxStart%22%2C%0D%0A%09%22ajaxStop%22%2C%0D%0A%09%22ajaxComplete%22%2C%0D%0A%09%22ajaxError%22%2C%0D%0A%09%22ajaxSuccess%22%2C%0D%0A%09%22ajaxSend%22%0D%0A%5D%2C%20function(%20i%2C%20type%20)%20%7B%0D%0A%09jQuery.fn%5B%20type%20%5D%20%3D%20function(%20fn%20)%20%7B%0D%0A%09%09return%20this.on(%20type%2C%20fn%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0AjQuery.expr.pseudos.animated%20%3D%20function(%20elem%20)%20%7B%0D%0A%09return%20jQuery.grep(%20jQuery.timers%2C%20function(%20fn%20)%20%7B%0D%0A%09%09return%20elem%20%3D%3D%3D%20fn.elem%3B%0D%0A%09%7D%20).length%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0AjQuery.offset%20%3D%20%7B%0D%0A%09setOffset%3A%20function(%20elem%2C%20options%2C%20i%20)%20%7B%0D%0A%09%09var%20curPosition%2C%20curLeft%2C%20curCSSTop%2C%20curTop%2C%20curOffset%2C%20curCSSLeft%2C%20calculatePosition%2C%0D%0A%09%09%09position%20%3D%20jQuery.css(%20elem%2C%20%22position%22%20)%2C%0D%0A%09%09%09curElem%20%3D%20jQuery(%20elem%20)%2C%0D%0A%09%09%09props%20%3D%20%7B%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20Set%20position%20first%2C%20in-case%20top%2Fleft%20are%20set%20even%20on%20static%20elem%0D%0A%09%09if%20(%20position%20%3D%3D%3D%20%22static%22%20)%20%7B%0D%0A%09%09%09elem.style.position%20%3D%20%22relative%22%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09curOffset%20%3D%20curElem.offset()%3B%0D%0A%09%09curCSSTop%20%3D%20jQuery.css(%20elem%2C%20%22top%22%20)%3B%0D%0A%09%09curCSSLeft%20%3D%20jQuery.css(%20elem%2C%20%22left%22%20)%3B%0D%0A%09%09calculatePosition%20%3D%20(%20position%20%3D%3D%3D%20%22absolute%22%20%7C%7C%20position%20%3D%3D%3D%20%22fixed%22%20)%20%26%26%0D%0A%09%09%09(%20curCSSTop%20%2B%20curCSSLeft%20).indexOf(%20%22auto%22%20)%20%3E%20-1%3B%0D%0A%0D%0A%09%09%2F%2F%20Need%20to%20be%20able%20to%20calculate%20position%20if%20either%0D%0A%09%09%2F%2F%20top%20or%20left%20is%20auto%20and%20position%20is%20either%20absolute%20or%20fixed%0D%0A%09%09if%20(%20calculatePosition%20)%20%7B%0D%0A%09%09%09curPosition%20%3D%20curElem.position()%3B%0D%0A%09%09%09curTop%20%3D%20curPosition.top%3B%0D%0A%09%09%09curLeft%20%3D%20curPosition.left%3B%0D%0A%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09curTop%20%3D%20parseFloat(%20curCSSTop%20)%20%7C%7C%200%3B%0D%0A%09%09%09curLeft%20%3D%20parseFloat(%20curCSSLeft%20)%20%7C%7C%200%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20isFunction(%20options%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Use%20jQuery.extend%20here%20to%20allow%20modification%20of%20coordinates%20argument%20(gh-1848)%0D%0A%09%09%09options%20%3D%20options.call(%20elem%2C%20i%2C%20jQuery.extend(%20%7B%7D%2C%20curOffset%20)%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20options.top%20!%3D%20null%20)%20%7B%0D%0A%09%09%09props.top%20%3D%20(%20options.top%20-%20curOffset.top%20)%20%2B%20curTop%3B%0D%0A%09%09%7D%0D%0A%09%09if%20(%20options.left%20!%3D%20null%20)%20%7B%0D%0A%09%09%09props.left%20%3D%20(%20options.left%20-%20curOffset.left%20)%20%2B%20curLeft%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%20%22using%22%20in%20options%20)%20%7B%0D%0A%09%09%09options.using.call(%20elem%2C%20props%20)%3B%0D%0A%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09curElem.css(%20props%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%0D%0A%09%2F%2F%20offset()%20relates%20an%20element's%20border%20box%20to%20the%20document%20origin%0D%0A%09offset%3A%20function(%20options%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Preserve%20chaining%20for%20setter%0D%0A%09%09if%20(%20arguments.length%20)%20%7B%0D%0A%09%09%09return%20options%20%3D%3D%3D%20undefined%20%3F%0D%0A%09%09%09%09this%20%3A%0D%0A%09%09%09%09this.each(%20function(%20i%20)%20%7B%0D%0A%09%09%09%09%09jQuery.offset.setOffset(%20this%2C%20options%2C%20i%20)%3B%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09var%20rect%2C%20win%2C%0D%0A%09%09%09elem%20%3D%20this%5B%200%20%5D%3B%0D%0A%0D%0A%09%09if%20(%20!elem%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Return%20zeros%20for%20disconnected%20and%20hidden%20(display%3A%20none)%20elements%20(gh-2310)%0D%0A%09%09%2F%2F%20Support%3A%20IE%20%3C%3D11%20only%0D%0A%09%09%2F%2F%20Running%20getBoundingClientRect%20on%20a%0D%0A%09%09%2F%2F%20disconnected%20node%20in%20IE%20throws%20an%20error%0D%0A%09%09if%20(%20!elem.getClientRects().length%20)%20%7B%0D%0A%09%09%09return%20%7B%20top%3A%200%2C%20left%3A%200%20%7D%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Get%20document-relative%20position%20by%20adding%20viewport%20scroll%20to%20viewport-relative%20gBCR%0D%0A%09%09rect%20%3D%20elem.getBoundingClientRect()%3B%0D%0A%09%09win%20%3D%20elem.ownerDocument.defaultView%3B%0D%0A%09%09return%20%7B%0D%0A%09%09%09top%3A%20rect.top%20%2B%20win.pageYOffset%2C%0D%0A%09%09%09left%3A%20rect.left%20%2B%20win.pageXOffset%0D%0A%09%09%7D%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20position()%20relates%20an%20element's%20margin%20box%20to%20its%20offset%20parent's%20padding%20box%0D%0A%09%2F%2F%20This%20corresponds%20to%20the%20behavior%20of%20CSS%20absolute%20positioning%0D%0A%09position%3A%20function()%20%7B%0D%0A%09%09if%20(%20!this%5B%200%20%5D%20)%20%7B%0D%0A%09%09%09return%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09var%20offsetParent%2C%20offset%2C%20doc%2C%0D%0A%09%09%09elem%20%3D%20this%5B%200%20%5D%2C%0D%0A%09%09%09parentOffset%20%3D%20%7B%20top%3A%200%2C%20left%3A%200%20%7D%3B%0D%0A%0D%0A%09%09%2F%2F%20position%3Afixed%20elements%20are%20offset%20from%20the%20viewport%2C%20which%20itself%20always%20has%20zero%20offset%0D%0A%09%09if%20(%20jQuery.css(%20elem%2C%20%22position%22%20)%20%3D%3D%3D%20%22fixed%22%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Assume%20position%3Afixed%20implies%20availability%20of%20getBoundingClientRect%0D%0A%09%09%09offset%20%3D%20elem.getBoundingClientRect()%3B%0D%0A%0D%0A%09%09%7D%20else%20%7B%0D%0A%09%09%09offset%20%3D%20this.offset()%3B%0D%0A%0D%0A%09%09%09%2F%2F%20Account%20for%20the%20*real*%20offset%20parent%2C%20which%20can%20be%20the%20document%20or%20its%20root%20element%0D%0A%09%09%09%2F%2F%20when%20a%20statically%20positioned%20element%20is%20identified%0D%0A%09%09%09doc%20%3D%20elem.ownerDocument%3B%0D%0A%09%09%09offsetParent%20%3D%20elem.offsetParent%20%7C%7C%20doc.documentElement%3B%0D%0A%09%09%09while%20(%20offsetParent%20%26%26%0D%0A%09%09%09%09(%20offsetParent%20%3D%3D%3D%20doc.body%20%7C%7C%20offsetParent%20%3D%3D%3D%20doc.documentElement%20)%20%26%26%0D%0A%09%09%09%09jQuery.css(%20offsetParent%2C%20%22position%22%20)%20%3D%3D%3D%20%22static%22%20)%20%7B%0D%0A%0D%0A%09%09%09%09offsetParent%20%3D%20offsetParent.parentNode%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%20offsetParent%20%26%26%20offsetParent%20!%3D%3D%20elem%20%26%26%20offsetParent.nodeType%20%3D%3D%3D%201%20)%20%7B%0D%0A%0D%0A%09%09%09%09%2F%2F%20Incorporate%20borders%20into%20its%20offset%2C%20since%20they%20are%20outside%20its%20content%20origin%0D%0A%09%09%09%09parentOffset%20%3D%20jQuery(%20offsetParent%20).offset()%3B%0D%0A%09%09%09%09parentOffset.top%20%2B%3D%20jQuery.css(%20offsetParent%2C%20%22borderTopWidth%22%2C%20true%20)%3B%0D%0A%09%09%09%09parentOffset.left%20%2B%3D%20jQuery.css(%20offsetParent%2C%20%22borderLeftWidth%22%2C%20true%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20Subtract%20parent%20offsets%20and%20element%20margins%0D%0A%09%09return%20%7B%0D%0A%09%09%09top%3A%20offset.top%20-%20parentOffset.top%20-%20jQuery.css(%20elem%2C%20%22marginTop%22%2C%20true%20)%2C%0D%0A%09%09%09left%3A%20offset.left%20-%20parentOffset.left%20-%20jQuery.css(%20elem%2C%20%22marginLeft%22%2C%20true%20)%0D%0A%09%09%7D%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09%2F%2F%20This%20method%20will%20return%20documentElement%20in%20the%20following%20cases%3A%0D%0A%09%2F%2F%201)%20For%20the%20element%20inside%20the%20iframe%20without%20offsetParent%2C%20this%20method%20will%20return%0D%0A%09%2F%2F%20%20%20%20documentElement%20of%20the%20parent%20window%0D%0A%09%2F%2F%202)%20For%20the%20hidden%20or%20detached%20element%0D%0A%09%2F%2F%203)%20For%20body%20or%20html%20element%2C%20i.e.%20in%20case%20of%20the%20html%20node%20-%20it%20will%20return%20itself%0D%0A%09%2F%2F%0D%0A%09%2F%2F%20but%20those%20exceptions%20were%20never%20presented%20as%20a%20real%20life%20use-cases%0D%0A%09%2F%2F%20and%20might%20be%20considered%20as%20more%20preferable%20results.%0D%0A%09%2F%2F%0D%0A%09%2F%2F%20This%20logic%2C%20however%2C%20is%20not%20guaranteed%20and%20can%20change%20at%20any%20point%20in%20the%20future%0D%0A%09offsetParent%3A%20function()%20%7B%0D%0A%09%09return%20this.map(%20function()%20%7B%0D%0A%09%09%09var%20offsetParent%20%3D%20this.offsetParent%3B%0D%0A%0D%0A%09%09%09while%20(%20offsetParent%20%26%26%20jQuery.css(%20offsetParent%2C%20%22position%22%20)%20%3D%3D%3D%20%22static%22%20)%20%7B%0D%0A%09%09%09%09offsetParent%20%3D%20offsetParent.offsetParent%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20offsetParent%20%7C%7C%20documentElement%3B%0D%0A%09%09%7D%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Create%20scrollLeft%20and%20scrollTop%20methods%0D%0AjQuery.each(%20%7B%20scrollLeft%3A%20%22pageXOffset%22%2C%20scrollTop%3A%20%22pageYOffset%22%20%7D%2C%20function(%20method%2C%20prop%20)%20%7B%0D%0A%09var%20top%20%3D%20%22pageYOffset%22%20%3D%3D%3D%20prop%3B%0D%0A%0D%0A%09jQuery.fn%5B%20method%20%5D%20%3D%20function(%20val%20)%20%7B%0D%0A%09%09return%20access(%20this%2C%20function(%20elem%2C%20method%2C%20val%20)%20%7B%0D%0A%0D%0A%09%09%09%2F%2F%20Coalesce%20documents%20and%20windows%0D%0A%09%09%09var%20win%3B%0D%0A%09%09%09if%20(%20isWindow(%20elem%20)%20)%20%7B%0D%0A%09%09%09%09win%20%3D%20elem%3B%0D%0A%09%09%09%7D%20else%20if%20(%20elem.nodeType%20%3D%3D%3D%209%20)%20%7B%0D%0A%09%09%09%09win%20%3D%20elem.defaultView%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20val%20%3D%3D%3D%20undefined%20)%20%7B%0D%0A%09%09%09%09return%20win%20%3F%20win%5B%20prop%20%5D%20%3A%20elem%5B%20method%20%5D%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(%20win%20)%20%7B%0D%0A%09%09%09%09win.scrollTo(%0D%0A%09%09%09%09%09!top%20%3F%20val%20%3A%20win.pageXOffset%2C%0D%0A%09%09%09%09%09top%20%3F%20val%20%3A%20win.pageYOffset%0D%0A%09%09%09%09)%3B%0D%0A%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09elem%5B%20method%20%5D%20%3D%20val%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%20method%2C%20val%2C%20arguments.length%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Support%3A%20Safari%20%3C%3D7%20-%209.1%2C%20Chrome%20%3C%3D37%20-%2049%0D%0A%2F%2F%20Add%20the%20top%2Fleft%20cssHooks%20using%20jQuery.fn.position%0D%0A%2F%2F%20Webkit%20bug%3A%20https%3A%2F%2Fbugs.webkit.org%2Fshow_bug.cgi%3Fid%3D29084%0D%0A%2F%2F%20Blink%20bug%3A%20https%3A%2F%2Fbugs.chromium.org%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D589347%0D%0A%2F%2F%20getComputedStyle%20returns%20percent%20when%20specified%20for%20top%2Fleft%2Fbottom%2Fright%3B%0D%0A%2F%2F%20rather%20than%20make%20the%20css%20module%20depend%20on%20the%20offset%20module%2C%20just%20check%20for%20it%20here%0D%0AjQuery.each(%20%5B%20%22top%22%2C%20%22left%22%20%5D%2C%20function(%20i%2C%20prop%20)%20%7B%0D%0A%09jQuery.cssHooks%5B%20prop%20%5D%20%3D%20addGetHookIf(%20support.pixelPosition%2C%0D%0A%09%09function(%20elem%2C%20computed%20)%20%7B%0D%0A%09%09%09if%20(%20computed%20)%20%7B%0D%0A%09%09%09%09computed%20%3D%20curCSS(%20elem%2C%20prop%20)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20If%20curCSS%20returns%20percentage%2C%20fallback%20to%20offset%0D%0A%09%09%09%09return%20rnumnonpx.test(%20computed%20)%20%3F%0D%0A%09%09%09%09%09jQuery(%20elem%20).position()%5B%20prop%20%5D%20%2B%20%22px%22%20%3A%0D%0A%09%09%09%09%09computed%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09)%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Create%20innerHeight%2C%20innerWidth%2C%20height%2C%20width%2C%20outerHeight%20and%20outerWidth%20methods%0D%0AjQuery.each(%20%7B%20Height%3A%20%22height%22%2C%20Width%3A%20%22width%22%20%7D%2C%20function(%20name%2C%20type%20)%20%7B%0D%0A%09jQuery.each(%20%7B%20padding%3A%20%22inner%22%20%2B%20name%2C%20content%3A%20type%2C%20%22%22%3A%20%22outer%22%20%2B%20name%20%7D%2C%0D%0A%09%09function(%20defaultExtra%2C%20funcName%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20Margin%20is%20only%20for%20outerHeight%2C%20outerWidth%0D%0A%09%09jQuery.fn%5B%20funcName%20%5D%20%3D%20function(%20margin%2C%20value%20)%20%7B%0D%0A%09%09%09var%20chainable%20%3D%20arguments.length%20%26%26%20(%20defaultExtra%20%7C%7C%20typeof%20margin%20!%3D%3D%20%22boolean%22%20)%2C%0D%0A%09%09%09%09extra%20%3D%20defaultExtra%20%7C%7C%20(%20margin%20%3D%3D%3D%20true%20%7C%7C%20value%20%3D%3D%3D%20true%20%3F%20%22margin%22%20%3A%20%22border%22%20)%3B%0D%0A%0D%0A%09%09%09return%20access(%20this%2C%20function(%20elem%2C%20type%2C%20value%20)%20%7B%0D%0A%09%09%09%09var%20doc%3B%0D%0A%0D%0A%09%09%09%09if%20(%20isWindow(%20elem%20)%20)%20%7B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20%24(%20window%20).outerWidth%2FHeight%20return%20w%2Fh%20including%20scrollbars%20(gh-1729)%0D%0A%09%09%09%09%09return%20funcName.indexOf(%20%22outer%22%20)%20%3D%3D%3D%200%20%3F%0D%0A%09%09%09%09%09%09elem%5B%20%22inner%22%20%2B%20name%20%5D%20%3A%0D%0A%09%09%09%09%09%09elem.document.documentElement%5B%20%22client%22%20%2B%20name%20%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20Get%20document%20width%20or%20height%0D%0A%09%09%09%09if%20(%20elem.nodeType%20%3D%3D%3D%209%20)%20%7B%0D%0A%09%09%09%09%09doc%20%3D%20elem.documentElement%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Either%20scroll%5BWidth%2FHeight%5D%20or%20offset%5BWidth%2FHeight%5D%20or%20client%5BWidth%2FHeight%5D%2C%0D%0A%09%09%09%09%09%2F%2F%20whichever%20is%20greatest%0D%0A%09%09%09%09%09return%20Math.max(%0D%0A%09%09%09%09%09%09elem.body%5B%20%22scroll%22%20%2B%20name%20%5D%2C%20doc%5B%20%22scroll%22%20%2B%20name%20%5D%2C%0D%0A%09%09%09%09%09%09elem.body%5B%20%22offset%22%20%2B%20name%20%5D%2C%20doc%5B%20%22offset%22%20%2B%20name%20%5D%2C%0D%0A%09%09%09%09%09%09doc%5B%20%22client%22%20%2B%20name%20%5D%0D%0A%09%09%09%09%09)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09return%20value%20%3D%3D%3D%20undefined%20%3F%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Get%20width%20or%20height%20on%20the%20element%2C%20requesting%20but%20not%20forcing%20parseFloat%0D%0A%09%09%09%09%09jQuery.css(%20elem%2C%20type%2C%20extra%20)%20%3A%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20Set%20width%20or%20height%20on%20the%20element%0D%0A%09%09%09%09%09jQuery.style(%20elem%2C%20type%2C%20value%2C%20extra%20)%3B%0D%0A%09%09%09%7D%2C%20type%2C%20chainable%20%3F%20margin%20%3A%20undefined%2C%20chainable%20)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%20)%3B%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0AjQuery.each(%20(%20%22blur%20focus%20focusin%20focusout%20resize%20scroll%20click%20dblclick%20%22%20%2B%0D%0A%09%22mousedown%20mouseup%20mousemove%20mouseover%20mouseout%20mouseenter%20mouseleave%20%22%20%2B%0D%0A%09%22change%20select%20submit%20keydown%20keypress%20keyup%20contextmenu%22%20).split(%20%22%20%22%20)%2C%0D%0A%09function(%20i%2C%20name%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20Handle%20event%20binding%0D%0A%09jQuery.fn%5B%20name%20%5D%20%3D%20function(%20data%2C%20fn%20)%20%7B%0D%0A%09%09return%20arguments.length%20%3E%200%20%3F%0D%0A%09%09%09this.on(%20name%2C%20null%2C%20data%2C%20fn%20)%20%3A%0D%0A%09%09%09this.trigger(%20name%20)%3B%0D%0A%09%7D%3B%0D%0A%7D%20)%3B%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%09hover%3A%20function(%20fnOver%2C%20fnOut%20)%20%7B%0D%0A%09%09return%20this.mouseenter(%20fnOver%20).mouseleave(%20fnOut%20%7C%7C%20fnOver%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0AjQuery.fn.extend(%20%7B%0D%0A%0D%0A%09bind%3A%20function(%20types%2C%20data%2C%20fn%20)%20%7B%0D%0A%09%09return%20this.on(%20types%2C%20null%2C%20data%2C%20fn%20)%3B%0D%0A%09%7D%2C%0D%0A%09unbind%3A%20function(%20types%2C%20fn%20)%20%7B%0D%0A%09%09return%20this.off(%20types%2C%20null%2C%20fn%20)%3B%0D%0A%09%7D%2C%0D%0A%0D%0A%09delegate%3A%20function(%20selector%2C%20types%2C%20data%2C%20fn%20)%20%7B%0D%0A%09%09return%20this.on(%20types%2C%20selector%2C%20data%2C%20fn%20)%3B%0D%0A%09%7D%2C%0D%0A%09undelegate%3A%20function(%20selector%2C%20types%2C%20fn%20)%20%7B%0D%0A%0D%0A%09%09%2F%2F%20(%20namespace%20)%20or%20(%20selector%2C%20types%20%5B%2C%20fn%5D%20)%0D%0A%09%09return%20arguments.length%20%3D%3D%3D%201%20%3F%0D%0A%09%09%09this.off(%20selector%2C%20%22**%22%20)%20%3A%0D%0A%09%09%09this.off(%20types%2C%20selector%20%7C%7C%20%22**%22%2C%20fn%20)%3B%0D%0A%09%7D%0D%0A%7D%20)%3B%0D%0A%0D%0A%2F%2F%20Bind%20a%20function%20to%20a%20context%2C%20optionally%20partially%20applying%20any%0D%0A%2F%2F%20arguments.%0D%0A%2F%2F%20jQuery.proxy%20is%20deprecated%20to%20promote%20standards%20(specifically%20Function%23bind)%0D%0A%2F%2F%20However%2C%20it%20is%20not%20slated%20for%20removal%20any%20time%20soon%0D%0AjQuery.proxy%20%3D%20function(%20fn%2C%20context%20)%20%7B%0D%0A%09var%20tmp%2C%20args%2C%20proxy%3B%0D%0A%0D%0A%09if%20(%20typeof%20context%20%3D%3D%3D%20%22string%22%20)%20%7B%0D%0A%09%09tmp%20%3D%20fn%5B%20context%20%5D%3B%0D%0A%09%09context%20%3D%20fn%3B%0D%0A%09%09fn%20%3D%20tmp%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Quick%20check%20to%20determine%20if%20target%20is%20callable%2C%20in%20the%20spec%0D%0A%09%2F%2F%20this%20throws%20a%20TypeError%2C%20but%20we%20will%20just%20return%20undefined.%0D%0A%09if%20(%20!isFunction(%20fn%20)%20)%20%7B%0D%0A%09%09return%20undefined%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20Simulated%20bind%0D%0A%09args%20%3D%20slice.call(%20arguments%2C%202%20)%3B%0D%0A%09proxy%20%3D%20function()%20%7B%0D%0A%09%09return%20fn.apply(%20context%20%7C%7C%20this%2C%20args.concat(%20slice.call(%20arguments%20)%20)%20)%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20Set%20the%20guid%20of%20unique%20handler%20to%20the%20same%20of%20original%20handler%2C%20so%20it%20can%20be%20removed%0D%0A%09proxy.guid%20%3D%20fn.guid%20%3D%20fn.guid%20%7C%7C%20jQuery.guid%2B%2B%3B%0D%0A%0D%0A%09return%20proxy%3B%0D%0A%7D%3B%0D%0A%0D%0AjQuery.holdReady%20%3D%20function(%20hold%20)%20%7B%0D%0A%09if%20(%20hold%20)%20%7B%0D%0A%09%09jQuery.readyWait%2B%2B%3B%0D%0A%09%7D%20else%20%7B%0D%0A%09%09jQuery.ready(%20true%20)%3B%0D%0A%09%7D%0D%0A%7D%3B%0D%0AjQuery.isArray%20%3D%20Array.isArray%3B%0D%0AjQuery.parseJSON%20%3D%20JSON.parse%3B%0D%0AjQuery.nodeName%20%3D%20nodeName%3B%0D%0AjQuery.isFunction%20%3D%20isFunction%3B%0D%0AjQuery.isWindow%20%3D%20isWindow%3B%0D%0AjQuery.camelCase%20%3D%20camelCase%3B%0D%0AjQuery.type%20%3D%20toType%3B%0D%0A%0D%0AjQuery.now%20%3D%20Date.now%3B%0D%0A%0D%0AjQuery.isNumeric%20%3D%20function(%20obj%20)%20%7B%0D%0A%0D%0A%09%2F%2F%20As%20of%20jQuery%203.0%2C%20isNumeric%20is%20limited%20to%0D%0A%09%2F%2F%20strings%20and%20numbers%20(primitives%20or%20objects)%0D%0A%09%2F%2F%20that%20can%20be%20coerced%20to%20finite%20numbers%20(gh-2662)%0D%0A%09var%20type%20%3D%20jQuery.type(%20obj%20)%3B%0D%0A%09return%20(%20type%20%3D%3D%3D%20%22number%22%20%7C%7C%20type%20%3D%3D%3D%20%22string%22%20)%20%26%26%0D%0A%0D%0A%09%09%2F%2F%20parseFloat%20NaNs%20numeric-cast%20false%20positives%20(%22%22)%0D%0A%09%09%2F%2F%20...but%20misinterprets%20leading-number%20strings%2C%20particularly%20hex%20literals%20(%220x...%22)%0D%0A%09%09%2F%2F%20subtraction%20forces%20infinities%20to%20NaN%0D%0A%09%09!isNaN(%20obj%20-%20parseFloat(%20obj%20)%20)%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%20Register%20as%20a%20named%20AMD%20module%2C%20since%20jQuery%20can%20be%20concatenated%20with%20other%0D%0A%2F%2F%20files%20that%20may%20use%20define%2C%20but%20not%20via%20a%20proper%20concatenation%20script%20that%0D%0A%2F%2F%20understands%20anonymous%20AMD%20modules.%20A%20named%20AMD%20is%20safest%20and%20most%20robust%0D%0A%2F%2F%20way%20to%20register.%20Lowercase%20jquery%20is%20used%20because%20AMD%20module%20names%20are%0D%0A%2F%2F%20derived%20from%20file%20names%2C%20and%20jQuery%20is%20normally%20delivered%20in%20a%20lowercase%0D%0A%2F%2F%20file%20name.%20Do%20this%20after%20creating%20the%20global%20so%20that%20if%20an%20AMD%20module%20wants%0D%0A%2F%2F%20to%20call%20noConflict%20to%20hide%20this%20version%20of%20jQuery%2C%20it%20will%20work.%0D%0A%0D%0A%2F%2F%20Note%20that%20for%20maximum%20portability%2C%20libraries%20that%20are%20not%20jQuery%20should%0D%0A%2F%2F%20declare%20themselves%20as%20anonymous%20modules%2C%20and%20avoid%20setting%20a%20global%20if%20an%0D%0A%2F%2F%20AMD%20loader%20is%20present.%20jQuery%20is%20a%20special%20case.%20For%20more%20information%2C%20see%0D%0A%2F%2F%20https%3A%2F%2Fgithub.com%2Fjrburke%2Frequirejs%2Fwiki%2FUpdating-existing-libraries%23wiki-anon%0D%0A%0D%0Aif%20(%20typeof%20define%20%3D%3D%3D%20%22function%22%20%26%26%20define.amd%20)%20%7B%0D%0A%09define(%20%22jquery%22%2C%20%5B%5D%2C%20function()%20%7B%0D%0A%09%09return%20jQuery%3B%0D%0A%09%7D%20)%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Avar%0D%0A%0D%0A%09%2F%2F%20Map%20over%20jQuery%20in%20case%20of%20overwrite%0D%0A%09_jQuery%20%3D%20window.jQuery%2C%0D%0A%0D%0A%09%2F%2F%20Map%20over%20the%20%24%20in%20case%20of%20overwrite%0D%0A%09_%24%20%3D%20window.%24%3B%0D%0A%0D%0AjQuery.noConflict%20%3D%20function(%20deep%20)%20%7B%0D%0A%09if%20(%20window.%24%20%3D%3D%3D%20jQuery%20)%20%7B%0D%0A%09%09window.%24%20%3D%20_%24%3B%0D%0A%09%7D%0D%0A%0D%0A%09if%20(%20deep%20%26%26%20window.jQuery%20%3D%3D%3D%20jQuery%20)%20%7B%0D%0A%09%09window.jQuery%20%3D%20_jQuery%3B%0D%0A%09%7D%0D%0A%0D%0A%09return%20jQuery%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Expose%20jQuery%20and%20%24%20identifiers%2C%20even%20in%20AMD%0D%0A%2F%2F%20(%237102%23comment%3A10%2C%20https%3A%2F%2Fgithub.com%2Fjquery%2Fjquery%2Fpull%2F557)%0D%0A%2F%2F%20and%20CommonJS%20for%20browser%20emulators%20(%2313566)%0D%0Aif%20(%20!noGlobal%20)%20%7B%0D%0A%09window.jQuery%20%3D%20window.%24%20%3D%20jQuery%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0Areturn%20jQuery%3B%0D%0A%7D%20)%3B%0D%0A"></script>
    <script type="text/javascript" data-savepage-src="lib/jstree/jstree.js" src="data:application/javascript;charset=utf-8,%2F*globals%20jQuery%2C%20define%2C%20module%2C%20exports%2C%20require%2C%20window%2C%20document%2C%20postMessage%20*%2F%0D%0A(function%20(factory)%20%7B%0D%0A%09%22use%20strict%22%3B%0D%0A%09if%20(typeof%20define%20%3D%3D%3D%20'function'%20%26%26%20define.amd)%20%7B%0D%0A%09%09define(%5B'jquery'%5D%2C%20factory)%3B%0D%0A%09%7D%0D%0A%09else%20if(typeof%20module%20!%3D%3D%20'undefined'%20%26%26%20module.exports)%20%7B%0D%0A%09%09module.exports%20%3D%20factory(require('jquery'))%3B%0D%0A%09%7D%0D%0A%09else%20%7B%0D%0A%09%09factory(jQuery)%3B%0D%0A%09%7D%0D%0A%7D(function%20(%24%2C%20undefined)%20%7B%0D%0A%09%22use%20strict%22%3B%0D%0A%2F*!%0D%0A%20*%20jsTree%203.3.7%0D%0A%20*%20http%3A%2F%2Fjstree.com%2F%0D%0A%20*%0D%0A%20*%20Copyright%20(c)%202014%20Ivan%20Bozhanov%20(http%3A%2F%2Fvakata.com)%0D%0A%20*%0D%0A%20*%20Licensed%20same%20as%20jquery%20-%20under%20the%20terms%20of%20the%20MIT%20License%0D%0A%20*%20%20%20http%3A%2F%2Fwww.opensource.org%2Flicenses%2Fmit-license.php%0D%0A%20*%2F%0D%0A%2F*!%0D%0A%20*%20if%20using%20jslint%20please%20allow%20for%20the%20jQuery%20global%20and%20use%20following%20options%3A%0D%0A%20*%20jslint%3A%20loopfunc%3A%20true%2C%20browser%3A%20true%2C%20ass%3A%20true%2C%20bitwise%3A%20true%2C%20continue%3A%20true%2C%20nomen%3A%20true%2C%20plusplus%3A%20true%2C%20regexp%3A%20true%2C%20unparam%3A%20true%2C%20todo%3A%20true%2C%20white%3A%20true%0D%0A%20*%2F%0D%0A%2F*jshint%20-W083%20*%2F%0D%0A%0D%0A%09%2F%2F%20prevent%20another%20load%3F%20maybe%20there%20is%20a%20better%20way%3F%0D%0A%09if(%24.jstree)%20%7B%0D%0A%09%09return%3B%0D%0A%09%7D%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20%23%23%23%20jsTree%20core%20functionality%0D%0A%09%20*%2F%0D%0A%0D%0A%09%2F%2F%20internal%20variables%0D%0A%09var%20instance_counter%20%3D%200%2C%0D%0A%09%09ccp_node%20%3D%20false%2C%0D%0A%09%09ccp_mode%20%3D%20false%2C%0D%0A%09%09ccp_inst%20%3D%20false%2C%0D%0A%09%09themes_loaded%20%3D%20%5B%5D%2C%0D%0A%09%09src%20%3D%20%24('script%3Alast').attr('src')%2C%0D%0A%09%09document%20%3D%20window.document%3B%20%2F%2F%20local%20variable%20is%20always%20faster%20to%20access%20then%20a%20global%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20holds%20all%20jstree%20related%20functions%20and%20variables%2C%20including%20the%20actual%20class%20and%20methods%20to%20create%2C%20access%20and%20manipulate%20instances.%0D%0A%09%20*%20%40name%20%24.jstree%0D%0A%09%20*%2F%0D%0A%09%24.jstree%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20specifies%20the%20jstree%20version%20in%20use%0D%0A%09%09%20*%20%40name%20%24.jstree.version%0D%0A%09%09%20*%2F%0D%0A%09%09version%20%3A%20'3.3.7'%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20holds%20all%20the%20default%20options%20used%20when%20creating%20new%20instances%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults%0D%0A%09%09%20*%2F%0D%0A%09%09defaults%20%3A%20%7B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20configure%20which%20plugins%20will%20be%20active%20on%20an%20instance.%20Should%20be%20an%20array%20of%20strings%2C%20where%20each%20element%20is%20a%20plugin%20name.%20The%20default%20is%20%60%5B%5D%60%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.plugins%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09plugins%20%3A%20%5B%5D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20stores%20all%20loaded%20jstree%20plugins%20(used%20internally)%0D%0A%09%09%20*%20%40name%20%24.jstree.plugins%0D%0A%09%09%20*%2F%0D%0A%09%09plugins%20%3A%20%7B%7D%2C%0D%0A%09%09path%20%3A%20src%20%26%26%20src.indexOf('%2F')%20!%3D%3D%20-1%20%3F%20src.replace(%2F%5C%2F%5B%5E%5C%2F%5D%2B%24%2F%2C'')%20%3A%20''%2C%0D%0A%09%09idregex%20%3A%20%2F%5B%5C%5C%3A%26!%5E%7C()%5C%5B%5C%5D%3C%3E%40*'%2B~%23%22%3B.%2C%3D%5C-%20%5C%2F%24%7B%7D%25%3F%60%5D%2Fg%2C%0D%0A%09%09root%20%3A%20'%23'%0D%0A%09%7D%3B%0D%0A%09%0D%0A%09%2F**%0D%0A%09%20*%20creates%20a%20jstree%20instance%0D%0A%09%20*%20%40name%20%24.jstree.create(el%20%5B%2C%20options%5D)%0D%0A%09%20*%20%40param%20%7BDOMElement%7CjQuery%7CString%7D%20el%20the%20element%20to%20create%20the%20instance%20on%2C%20can%20be%20jQuery%20extended%20or%20a%20selector%0D%0A%09%20*%20%40param%20%7BObject%7D%20options%20options%20for%20this%20instance%20(extends%20%60%24.jstree.defaults%60)%0D%0A%09%20*%20%40return%20%7BjsTree%7D%20the%20new%20instance%0D%0A%09%20*%2F%0D%0A%09%24.jstree.create%20%3D%20function%20(el%2C%20options)%20%7B%0D%0A%09%09var%20tmp%20%3D%20new%20%24.jstree.core(%2B%2Binstance_counter)%2C%0D%0A%09%09%09opt%20%3D%20options%3B%0D%0A%09%09options%20%3D%20%24.extend(true%2C%20%7B%7D%2C%20%24.jstree.defaults%2C%20options)%3B%0D%0A%09%09if(opt%20%26%26%20opt.plugins)%20%7B%0D%0A%09%09%09options.plugins%20%3D%20opt.plugins%3B%0D%0A%09%09%7D%0D%0A%09%09%24.each(options.plugins%2C%20function%20(i%2C%20k)%20%7B%0D%0A%09%09%09if(i%20!%3D%3D%20'core')%20%7B%0D%0A%09%09%09%09tmp%20%3D%20tmp.plugin(k%2C%20options%5Bk%5D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D)%3B%0D%0A%09%09%24(el).data('jstree'%2C%20tmp)%3B%0D%0A%09%09tmp.init(el%2C%20options)%3B%0D%0A%09%09return%20tmp%3B%0D%0A%09%7D%3B%0D%0A%09%2F**%0D%0A%09%20*%20remove%20all%20traces%20of%20jstree%20from%20the%20DOM%20and%20destroy%20all%20instances%0D%0A%09%20*%20%40name%20%24.jstree.destroy()%0D%0A%09%20*%2F%0D%0A%09%24.jstree.destroy%20%3D%20function%20()%20%7B%0D%0A%09%09%24('.jstree%3Ajstree').jstree('destroy')%3B%0D%0A%09%09%24(document).off('.jstree')%3B%0D%0A%09%7D%3B%0D%0A%09%2F**%0D%0A%09%20*%20the%20jstree%20class%20constructor%2C%20used%20only%20internally%0D%0A%09%20*%20%40private%0D%0A%09%20*%20%40name%20%24.jstree.core(id)%0D%0A%09%20*%20%40param%20%7BNumber%7D%20id%20this%20instance's%20index%0D%0A%09%20*%2F%0D%0A%09%24.jstree.core%20%3D%20function%20(id)%20%7B%0D%0A%09%09this._id%20%3D%20id%3B%0D%0A%09%09this._cnt%20%3D%200%3B%0D%0A%09%09this._wrk%20%3D%20null%3B%0D%0A%09%09this._data%20%3D%20%7B%0D%0A%09%09%09core%20%3A%20%7B%0D%0A%09%09%09%09themes%20%3A%20%7B%0D%0A%09%09%09%09%09name%20%3A%20false%2C%0D%0A%09%09%09%09%09dots%20%3A%20false%2C%0D%0A%09%09%09%09%09icons%20%3A%20false%2C%0D%0A%09%09%09%09%09ellipsis%20%3A%20false%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09selected%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09last_error%20%3A%20%7B%7D%2C%0D%0A%09%09%09%09working%20%3A%20false%2C%0D%0A%09%09%09%09worker_queue%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09focused%20%3A%20null%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%09%2F**%0D%0A%09%20*%20get%20a%20reference%20to%20an%20existing%20instance%0D%0A%09%20*%0D%0A%09%20*%20__Examples__%0D%0A%09%20*%0D%0A%09%20*%09%2F%2F%20provided%20a%20container%20with%20an%20ID%20of%20%22tree%22%2C%20and%20a%20nested%20node%20with%20an%20ID%20of%20%22branch%22%0D%0A%09%20*%09%2F%2F%20all%20of%20there%20will%20return%20the%20same%20instance%0D%0A%09%20*%09%24.jstree.reference('tree')%3B%0D%0A%09%20*%09%24.jstree.reference('%23tree')%3B%0D%0A%09%20*%09%24.jstree.reference(%24('%23tree'))%3B%0D%0A%09%20*%09%24.jstree.reference(document.getElementByID('tree'))%3B%0D%0A%09%20*%09%24.jstree.reference('branch')%3B%0D%0A%09%20*%09%24.jstree.reference('%23branch')%3B%0D%0A%09%20*%09%24.jstree.reference(%24('%23branch'))%3B%0D%0A%09%20*%09%24.jstree.reference(document.getElementByID('branch'))%3B%0D%0A%09%20*%0D%0A%09%20*%20%40name%20%24.jstree.reference(needle)%0D%0A%09%20*%20%40param%20%7BDOMElement%7CjQuery%7CString%7D%20needle%0D%0A%09%20*%20%40return%20%7BjsTree%7Cnull%7D%20the%20instance%20or%20%60null%60%20if%20not%20found%0D%0A%09%20*%2F%0D%0A%09%24.jstree.reference%20%3D%20function%20(needle)%20%7B%0D%0A%09%09var%20tmp%20%3D%20null%2C%0D%0A%09%09%09obj%20%3D%20null%3B%0D%0A%09%09if(needle%20%26%26%20needle.id%20%26%26%20(!needle.tagName%20%7C%7C%20!needle.nodeType))%20%7B%20needle%20%3D%20needle.id%3B%20%7D%0D%0A%0D%0A%09%09if(!obj%20%7C%7C%20!obj.length)%20%7B%0D%0A%09%09%09try%20%7B%20obj%20%3D%20%24(needle)%3B%20%7D%20catch%20(ignore)%20%7B%20%7D%0D%0A%09%09%7D%0D%0A%09%09if(!obj%20%7C%7C%20!obj.length)%20%7B%0D%0A%09%09%09try%20%7B%20obj%20%3D%20%24('%23'%20%2B%20needle.replace(%24.jstree.idregex%2C'%5C%5C%24%26'))%3B%20%7D%20catch%20(ignore)%20%7B%20%7D%0D%0A%09%09%7D%0D%0A%09%09if(obj%20%26%26%20obj.length%20%26%26%20(obj%20%3D%20obj.closest('.jstree')).length%20%26%26%20(obj%20%3D%20obj.data('jstree')))%20%7B%0D%0A%09%09%09tmp%20%3D%20obj%3B%0D%0A%09%09%7D%0D%0A%09%09else%20%7B%0D%0A%09%09%09%24('.jstree').each(function%20()%20%7B%0D%0A%09%09%09%09var%20inst%20%3D%20%24(this).data('jstree')%3B%0D%0A%09%09%09%09if(inst%20%26%26%20inst._model.data%5Bneedle%5D)%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20inst%3B%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%7D%0D%0A%09%09return%20tmp%3B%0D%0A%09%7D%3B%0D%0A%09%2F**%0D%0A%09%20*%20Create%20an%20instance%2C%20get%20an%20instance%20or%20invoke%20a%20command%20on%20a%20instance.%0D%0A%09%20*%0D%0A%09%20*%20If%20there%20is%20no%20instance%20associated%20with%20the%20current%20node%20a%20new%20one%20is%20created%20and%20%60arg%60%20is%20used%20to%20extend%20%60%24.jstree.defaults%60%20for%20this%20new%20instance.%20There%20would%20be%20no%20return%20value%20(chaining%20is%20not%20broken).%0D%0A%09%20*%0D%0A%09%20*%20If%20there%20is%20an%20existing%20instance%20and%20%60arg%60%20is%20a%20string%20the%20command%20specified%20by%20%60arg%60%20is%20executed%20on%20the%20instance%2C%20with%20any%20additional%20arguments%20passed%20to%20the%20function.%20If%20the%20function%20returns%20a%20value%20it%20will%20be%20returned%20(chaining%20could%20break%20depending%20on%20function).%0D%0A%09%20*%0D%0A%09%20*%20If%20there%20is%20an%20existing%20instance%20and%20%60arg%60%20is%20not%20a%20string%20the%20instance%20itself%20is%20returned%20(similar%20to%20%60%24.jstree.reference%60).%0D%0A%09%20*%0D%0A%09%20*%20In%20any%20other%20case%20-%20nothing%20is%20returned%20and%20chaining%20is%20not%20broken.%0D%0A%09%20*%0D%0A%09%20*%20__Examples__%0D%0A%09%20*%0D%0A%09%20*%09%24('%23tree1').jstree()%3B%20%2F%2F%20creates%20an%20instance%0D%0A%09%20*%09%24('%23tree2').jstree(%7B%20plugins%20%3A%20%5B%5D%20%7D)%3B%20%2F%2F%20create%20an%20instance%20with%20some%20options%0D%0A%09%20*%09%24('%23tree1').jstree('open_node'%2C%20'%23branch_1')%3B%20%2F%2F%20call%20a%20method%20on%20an%20existing%20instance%2C%20passing%20additional%20arguments%0D%0A%09%20*%09%24('%23tree2').jstree()%3B%20%2F%2F%20get%20an%20existing%20instance%20(or%20create%20an%20instance)%0D%0A%09%20*%09%24('%23tree2').jstree(true)%3B%20%2F%2F%20get%20an%20existing%20instance%20(will%20not%20create%20new%20instance)%0D%0A%09%20*%09%24('%23branch_1').jstree().select_node('%23branch_1')%3B%20%2F%2F%20get%20an%20instance%20(using%20a%20nested%20element%20and%20call%20a%20method)%0D%0A%09%20*%0D%0A%09%20*%20%40name%20%24().jstree(%5Barg%5D)%0D%0A%09%20*%20%40param%20%7BString%7CObject%7D%20arg%0D%0A%09%20*%20%40return%20%7BMixed%7D%0D%0A%09%20*%2F%0D%0A%09%24.fn.jstree%20%3D%20function%20(arg)%20%7B%0D%0A%09%09%2F%2F%20check%20for%20string%20argument%0D%0A%09%09var%20is_method%09%3D%20(typeof%20arg%20%3D%3D%3D%20'string')%2C%0D%0A%09%09%09args%09%09%3D%20Array.prototype.slice.call(arguments%2C%201)%2C%0D%0A%09%09%09result%09%09%3D%20null%3B%0D%0A%09%09if(arg%20%3D%3D%3D%20true%20%26%26%20!this.length)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09this.each(function%20()%20%7B%0D%0A%09%09%09%2F%2F%20get%20the%20instance%20(if%20there%20is%20one)%20and%20method%20(if%20it%20exists)%0D%0A%09%09%09var%20instance%20%3D%20%24.jstree.reference(this)%2C%0D%0A%09%09%09%09method%20%3D%20is_method%20%26%26%20instance%20%3F%20instance%5Barg%5D%20%3A%20null%3B%0D%0A%09%09%09%2F%2F%20if%20calling%20a%20method%2C%20and%20method%20is%20available%20-%20execute%20on%20the%20instance%0D%0A%09%09%09result%20%3D%20is_method%20%26%26%20method%20%3F%0D%0A%09%09%09%09method.apply(instance%2C%20args)%20%3A%0D%0A%09%09%09%09null%3B%0D%0A%09%09%09%2F%2F%20if%20there%20is%20no%20instance%20and%20no%20method%20is%20being%20called%20-%20create%20one%0D%0A%09%09%09if(!instance%20%26%26%20!is_method%20%26%26%20(arg%20%3D%3D%3D%20undefined%20%7C%7C%20%24.isPlainObject(arg)))%20%7B%0D%0A%09%09%09%09%24.jstree.create(this%2C%20arg)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F%2F%20if%20there%20is%20an%20instance%20and%20no%20method%20is%20called%20-%20return%20the%20instance%0D%0A%09%09%09if(%20(instance%20%26%26%20!is_method)%20%7C%7C%20arg%20%3D%3D%3D%20true%20)%20%7B%0D%0A%09%09%09%09result%20%3D%20instance%20%7C%7C%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F%2F%20if%20there%20was%20a%20method%20call%20which%20returned%20a%20result%20-%20break%20and%20return%20the%20value%0D%0A%09%09%09if(result%20!%3D%3D%20null%20%26%26%20result%20!%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D)%3B%0D%0A%09%09%2F%2F%20if%20there%20was%20a%20method%20call%20with%20a%20valid%20return%20value%20-%20return%20that%2C%20otherwise%20continue%20the%20chain%0D%0A%09%09return%20result%20!%3D%3D%20null%20%26%26%20result%20!%3D%3D%20undefined%20%3F%0D%0A%09%09%09result%20%3A%20this%3B%0D%0A%09%7D%3B%0D%0A%09%2F**%0D%0A%09%20*%20used%20to%20find%20elements%20containing%20an%20instance%0D%0A%09%20*%0D%0A%09%20*%20__Examples__%0D%0A%09%20*%0D%0A%09%20*%09%24('div%3Ajstree').each(function%20()%20%7B%0D%0A%09%20*%09%09%24(this).jstree('destroy')%3B%0D%0A%09%20*%09%7D)%3B%0D%0A%09%20*%0D%0A%09%20*%20%40name%20%24('%3Ajstree')%0D%0A%09%20*%20%40return%20%7BjQuery%7D%0D%0A%09%20*%2F%0D%0A%09%24.expr.pseudos.jstree%20%3D%20%24.expr.createPseudo(function(search)%20%7B%0D%0A%09%09return%20function(a)%20%7B%0D%0A%09%09%09return%20%24(a).hasClass('jstree')%20%26%26%0D%0A%09%09%09%09%24(a).data('jstree')%20!%3D%3D%20undefined%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D)%3B%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20stores%20all%20defaults%20for%20the%20core%0D%0A%09%20*%20%40name%20%24.jstree.defaults.core%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.core%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20data%20configuration%0D%0A%09%09%20*%0D%0A%09%09%20*%20If%20left%20as%20%60false%60%20the%20HTML%20inside%20the%20jstree%20container%20element%20is%20used%20to%20populate%20the%20tree%20(that%20should%20be%20an%20unordered%20list%20with%20list%20items).%0D%0A%09%09%20*%0D%0A%09%09%20*%20You%20can%20also%20pass%20in%20a%20HTML%20string%20or%20a%20JSON%20array%20here.%0D%0A%09%09%20*%0D%0A%09%09%20*%20It%20is%20possible%20to%20pass%20in%20a%20standard%20jQuery-like%20AJAX%20config%20and%20jstree%20will%20automatically%20determine%20if%20the%20response%20is%20JSON%20or%20HTML%20and%20use%20that%20to%20populate%20the%20tree.%0D%0A%09%09%20*%20In%20addition%20to%20the%20standard%20jQuery%20ajax%20options%20here%20you%20can%20suppy%20functions%20for%20%60data%60%20and%20%60url%60%2C%20the%20functions%20will%20be%20run%20in%20the%20current%20instance's%20scope%20and%20a%20param%20will%20be%20passed%20indicating%20which%20node%20is%20being%20loaded%2C%20the%20return%20value%20of%20those%20functions%20will%20be%20used.%0D%0A%09%09%20*%0D%0A%09%09%20*%20The%20last%20option%20is%20to%20specify%20a%20function%2C%20that%20function%20will%20receive%20the%20node%20being%20loaded%20as%20argument%20and%20a%20second%20param%20which%20is%20a%20function%20which%20should%20be%20called%20with%20the%20result.%0D%0A%09%09%20*%0D%0A%09%09%20*%20__Examples__%0D%0A%09%09%20*%0D%0A%09%09%20*%09%2F%2F%20AJAX%0D%0A%09%09%20*%09%24('%23tree').jstree(%7B%0D%0A%09%09%20*%09%09'core'%20%3A%20%7B%0D%0A%09%09%20*%09%09%09'data'%20%3A%20%7B%0D%0A%09%09%20*%09%09%09%09'url'%20%3A%20'%2Fget%2Fchildren%2F'%2C%0D%0A%09%09%20*%09%09%09%09'data'%20%3A%20function%20(node)%20%7B%0D%0A%09%09%20*%09%09%09%09%09return%20%7B%20'id'%20%3A%20node.id%20%7D%3B%0D%0A%09%09%20*%09%09%09%09%7D%0D%0A%09%09%20*%09%09%09%7D%0D%0A%09%09%20*%09%09%7D)%3B%0D%0A%09%09%20*%0D%0A%09%09%20*%09%2F%2F%20direct%20data%0D%0A%09%09%20*%09%24('%23tree').jstree(%7B%0D%0A%09%09%20*%09%09'core'%20%3A%20%7B%0D%0A%09%09%20*%09%09%09'data'%20%3A%20%5B%0D%0A%09%09%20*%09%09%09%09'Simple%20root%20node'%2C%0D%0A%09%09%20*%09%09%09%09%7B%0D%0A%09%09%20*%09%09%09%09%09'id'%20%3A%20'node_2'%2C%0D%0A%09%09%20*%09%09%09%09%09'text'%20%3A%20'Root%20node%20with%20options'%2C%0D%0A%09%09%20*%09%09%09%09%09'state'%20%3A%20%7B%20'opened'%20%3A%20true%2C%20'selected'%20%3A%20true%20%7D%2C%0D%0A%09%09%20*%09%09%09%09%09'children'%20%3A%20%5B%20%7B%20'text'%20%3A%20'Child%201'%20%7D%2C%20'Child%202'%5D%0D%0A%09%09%20*%09%09%09%09%7D%0D%0A%09%09%20*%09%09%09%5D%0D%0A%09%09%20*%09%09%7D%0D%0A%09%09%20*%09%7D)%3B%0D%0A%09%09%20*%0D%0A%09%09%20*%09%2F%2F%20function%0D%0A%09%09%20*%09%24('%23tree').jstree(%7B%0D%0A%09%09%20*%09%09'core'%20%3A%20%7B%0D%0A%09%09%20*%09%09%09'data'%20%3A%20function%20(obj%2C%20callback)%20%7B%0D%0A%09%09%20*%09%09%09%09callback.call(this%2C%20%5B'Root%201'%2C%20'Root%202'%5D)%3B%0D%0A%09%09%20*%09%09%09%7D%0D%0A%09%09%20*%09%09%7D)%3B%0D%0A%09%09%20*%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.data%0D%0A%09%09%20*%2F%0D%0A%09%09data%09%09%09%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20configure%20the%20various%20strings%20used%20throughout%20the%20tree%0D%0A%09%09%20*%0D%0A%09%09%20*%20You%20can%20use%20an%20object%20where%20the%20key%20is%20the%20string%20you%20need%20to%20replace%20and%20the%20value%20is%20your%20replacement.%0D%0A%09%09%20*%20Another%20option%20is%20to%20specify%20a%20function%20which%20will%20be%20called%20with%20an%20argument%20of%20the%20needed%20string%20and%20should%20return%20the%20replacement.%0D%0A%09%09%20*%20If%20left%20as%20%60false%60%20no%20replacement%20is%20made.%0D%0A%09%09%20*%0D%0A%09%09%20*%20__Examples__%0D%0A%09%09%20*%0D%0A%09%09%20*%09%24('%23tree').jstree(%7B%0D%0A%09%09%20*%09%09'core'%20%3A%20%7B%0D%0A%09%09%20*%09%09%09'strings'%20%3A%20%7B%0D%0A%09%09%20*%09%09%09%09'Loading%20...'%20%3A%20'Please%20wait%20...'%0D%0A%09%09%20*%09%09%09%7D%0D%0A%09%09%20*%09%09%7D%0D%0A%09%09%20*%09%7D)%3B%0D%0A%09%09%20*%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.strings%0D%0A%09%09%20*%2F%0D%0A%09%09strings%09%09%09%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20determines%20what%20happens%20when%20a%20user%20tries%20to%20modify%20the%20structure%20of%20the%20tree%0D%0A%09%09%20*%20If%20left%20as%20%60false%60%20all%20operations%20like%20create%2C%20rename%2C%20delete%2C%20move%20or%20copy%20are%20prevented.%0D%0A%09%09%20*%20You%20can%20set%20this%20to%20%60true%60%20to%20allow%20all%20interactions%20or%20use%20a%20function%20to%20have%20better%20control.%0D%0A%09%09%20*%0D%0A%09%09%20*%20__Examples__%0D%0A%09%09%20*%0D%0A%09%09%20*%09%24('%23tree').jstree(%7B%0D%0A%09%09%20*%09%09'core'%20%3A%20%7B%0D%0A%09%09%20*%09%09%09'check_callback'%20%3A%20function%20(operation%2C%20node%2C%20node_parent%2C%20node_position%2C%20more)%20%7B%0D%0A%09%09%20*%09%09%09%09%2F%2F%20operation%20can%20be%20'create_node'%2C%20'rename_node'%2C%20'delete_node'%2C%20'move_node'%2C%20'copy_node'%20or%20'edit'%0D%0A%09%09%20*%09%09%09%09%2F%2F%20in%20case%20of%20'rename_node'%20node_position%20is%20filled%20with%20the%20new%20node%20name%0D%0A%09%09%20*%09%09%09%09return%20operation%20%3D%3D%3D%20'rename_node'%20%3F%20true%20%3A%20false%3B%0D%0A%09%09%20*%09%09%09%7D%0D%0A%09%09%20*%09%09%7D%0D%0A%09%09%20*%09%7D)%3B%0D%0A%09%09%20*%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.check_callback%0D%0A%09%09%20*%2F%0D%0A%09%09check_callback%09%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20callback%20called%20with%20a%20single%20object%20parameter%20in%20the%20instance's%20scope%20when%20something%20goes%20wrong%20(operation%20prevented%2C%20ajax%20failed%2C%20etc)%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.error%0D%0A%09%09%20*%2F%0D%0A%09%09error%09%09%09%3A%20%24.noop%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20the%20open%20%2F%20close%20animation%20duration%20in%20milliseconds%20-%20set%20this%20to%20%60false%60%20to%20disable%20the%20animation%20(default%20is%20%60200%60)%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.animation%0D%0A%09%09%20*%2F%0D%0A%09%09animation%09%09%3A%20200%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20multiple%20nodes%20can%20be%20selected%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.multiple%0D%0A%09%09%20*%2F%0D%0A%09%09multiple%09%09%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20theme%20configuration%20object%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.themes%0D%0A%09%09%20*%2F%0D%0A%09%09themes%09%09%09%3A%20%7B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20the%20name%20of%20the%20theme%20to%20use%20(if%20left%20as%20%60false%60%20the%20default%20theme%20is%20used)%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.name%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09name%09%09%09%3A%20false%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20the%20URL%20of%20the%20theme's%20CSS%20file%2C%20leave%20this%20as%20%60false%60%20if%20you%20have%20manually%20included%20the%20theme%20CSS%20(recommended).%20You%20can%20set%20this%20to%20%60true%60%20too%20which%20will%20try%20to%20autoload%20the%20theme.%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.url%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09url%09%09%09%09%3A%20false%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20the%20location%20of%20all%20jstree%20themes%20-%20only%20used%20if%20%60url%60%20is%20set%20to%20%60true%60%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.dir%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09dir%09%09%09%09%3A%20false%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20a%20boolean%20indicating%20if%20connecting%20dots%20are%20shown%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.dots%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09dots%09%09%09%3A%20true%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20a%20boolean%20indicating%20if%20node%20icons%20are%20shown%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.icons%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09icons%09%09%09%3A%20true%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20a%20boolean%20indicating%20if%20node%20ellipsis%20should%20be%20shown%20-%20this%20only%20works%20with%20a%20fixed%20with%20on%20the%20container%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.ellipsis%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09ellipsis%09%09%3A%20false%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20a%20boolean%20indicating%20if%20the%20tree%20background%20is%20striped%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.stripes%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09stripes%09%09%09%3A%20false%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20a%20string%20(or%20boolean%20%60false%60)%20specifying%20the%20theme%20variant%20to%20use%20(if%20the%20theme%20supports%20variants)%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.variant%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09variant%09%09%09%3A%20false%2C%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20a%20boolean%20specifying%20if%20a%20reponsive%20version%20of%20the%20theme%20should%20kick%20in%20on%20smaller%20screens%20(if%20the%20theme%20supports%20it).%20Defaults%20to%20%60false%60.%0D%0A%09%09%09%20*%20%40name%20%24.jstree.defaults.core.themes.responsive%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09responsive%09%09%3A%20false%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20if%20left%20as%20%60true%60%20all%20parents%20of%20all%20selected%20nodes%20will%20be%20opened%20once%20the%20tree%20loads%20(so%20that%20all%20selected%20nodes%20are%20visible%20to%20the%20user)%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.expand_selected_onload%0D%0A%09%09%20*%2F%0D%0A%09%09expand_selected_onload%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20if%20left%20as%20%60true%60%20web%20workers%20will%20be%20used%20to%20parse%20incoming%20JSON%20data%20where%20possible%2C%20so%20that%20the%20UI%20will%20not%20be%20blocked%20by%20large%20requests.%20Workers%20are%20however%20about%2030%25%20slower.%20Defaults%20to%20%60true%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.worker%0D%0A%09%09%20*%2F%0D%0A%09%09worker%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Force%20node%20text%20to%20plain%20text%20(and%20escape%20HTML).%20Defaults%20to%20%60false%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.force_text%0D%0A%09%09%20*%2F%0D%0A%09%09force_text%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Should%20the%20node%20be%20toggled%20if%20the%20text%20is%20double%20clicked.%20Defaults%20to%20%60true%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.dblclick_toggle%0D%0A%09%09%20*%2F%0D%0A%09%09dblclick_toggle%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Should%20the%20loaded%20nodes%20be%20part%20of%20the%20state.%20Defaults%20to%20%60false%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.loaded_state%0D%0A%09%09%20*%2F%0D%0A%09%09loaded_state%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Should%20the%20last%20active%20node%20be%20focused%20when%20the%20tree%20container%20is%20blurred%20and%20the%20focused%20again.%20This%20helps%20working%20with%20screen%20readers.%20Defaults%20to%20%60true%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.restore_focus%0D%0A%09%09%20*%2F%0D%0A%09%09restore_focus%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Default%20keyboard%20shortcuts%20(an%20object%20where%20each%20key%20is%20the%20button%20name%20or%20combo%20-%20like%20'enter'%2C%20'ctrl-space'%2C%20'p'%2C%20etc%20and%20the%20value%20is%20the%20function%20to%20execute%20in%20the%20instance's%20scope)%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.core.keyboard%0D%0A%09%09%20*%2F%0D%0A%09%09keyboard%20%3A%20%7B%0D%0A%09%09%09'ctrl-space'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20aria%20defines%20space%20only%20with%20Ctrl%0D%0A%09%09%09%09e.type%20%3D%20%22click%22%3B%0D%0A%09%09%09%09%24(e.currentTarget).trigger(e)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'enter'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20enter%0D%0A%09%09%09%09e.type%20%3D%20%22click%22%3B%0D%0A%09%09%09%09%24(e.currentTarget).trigger(e)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'left'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20left%0D%0A%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09if(this.is_open(e.currentTarget))%20%7B%0D%0A%09%09%09%09%09this.close_node(e.currentTarget)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09var%20o%20%3D%20this.get_parent(e.currentTarget)%3B%0D%0A%09%09%09%09%09if(o%20%26%26%20o.id%20!%3D%3D%20%24.jstree.root)%20%7B%20this.get_node(o%2C%20true).children('.jstree-anchor').focus()%3B%20%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'up'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20up%0D%0A%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09var%20o%20%3D%20this.get_prev_dom(e.currentTarget)%3B%0D%0A%09%09%09%09if(o%20%26%26%20o.length)%20%7B%20o.children('.jstree-anchor').focus()%3B%20%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'right'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20right%0D%0A%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09if(this.is_closed(e.currentTarget))%20%7B%0D%0A%09%09%09%09%09this.open_node(e.currentTarget%2C%20function%20(o)%20%7B%20this.get_node(o%2C%20true).children('.jstree-anchor').focus()%3B%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20if%20(this.is_open(e.currentTarget))%20%7B%0D%0A%09%09%09%09%09var%20o%20%3D%20this.get_node(e.currentTarget%2C%20true).children('.jstree-children')%5B0%5D%3B%0D%0A%09%09%09%09%09if(o)%20%7B%20%24(this._firstChild(o)).children('.jstree-anchor').focus()%3B%20%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'down'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20down%0D%0A%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09var%20o%20%3D%20this.get_next_dom(e.currentTarget)%3B%0D%0A%09%09%09%09if(o%20%26%26%20o.length)%20%7B%20o.children('.jstree-anchor').focus()%3B%20%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'*'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20aria%20defines%20*%20on%20numpad%20as%20open_all%20-%20not%20very%20common%0D%0A%09%09%09%09this.open_all()%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'home'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20home%0D%0A%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09var%20o%20%3D%20this._firstChild(this.get_container_ul()%5B0%5D)%3B%0D%0A%09%09%09%09if(o)%20%7B%20%24(o).children('.jstree-anchor').filter('%3Avisible').focus()%3B%20%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'end'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20end%0D%0A%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09this.element.find('.jstree-anchor').filter('%3Avisible').last().focus()%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09'f2'%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%2F%2F%20f2%20-%20safe%20to%20include%20-%20if%20check_callback%20is%20false%20it%20will%20fail%0D%0A%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09this.edit(e.currentTarget)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%09%24.jstree.core.prototype%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20used%20to%20decorate%20an%20instance%20with%20a%20plugin.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20plugin(deco%20%5B%2C%20opts%5D)%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20deco%20the%20plugin%20to%20decorate%20with%0D%0A%09%09%20*%20%40param%20%20%7BObject%7D%20opts%20options%20for%20the%20plugin%0D%0A%09%09%20*%20%40return%20%7BjsTree%7D%0D%0A%09%09%20*%2F%0D%0A%09%09plugin%20%3A%20function%20(deco%2C%20opts)%20%7B%0D%0A%09%09%09var%20Child%20%3D%20%24.jstree.plugins%5Bdeco%5D%3B%0D%0A%09%09%09if(Child)%20%7B%0D%0A%09%09%09%09this._data%5Bdeco%5D%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09Child.prototype%20%3D%20this%3B%0D%0A%09%09%09%09return%20new%20Child(opts%2C%20this)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20this%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20initialize%20the%20instance.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20init(el%2C%20optons)%0D%0A%09%09%20*%20%40param%20%7BDOMElement%7CjQuery%7CString%7D%20el%20the%20element%20we%20are%20transforming%0D%0A%09%09%20*%20%40param%20%7BObject%7D%20options%20options%20for%20this%20instance%0D%0A%09%09%20*%20%40trigger%20init.jstree%2C%20loading.jstree%2C%20loaded.jstree%2C%20ready.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09init%20%3A%20function%20(el%2C%20options)%20%7B%0D%0A%09%09%09this._model%20%3D%20%7B%0D%0A%09%09%09%09data%20%3A%20%7B%7D%2C%0D%0A%09%09%09%09changed%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09force_full_redraw%20%3A%20false%2C%0D%0A%09%09%09%09redraw_timeout%20%3A%20false%2C%0D%0A%09%09%09%09default_state%20%3A%20%7B%0D%0A%09%09%09%09%09loaded%20%3A%20true%2C%0D%0A%09%09%09%09%09opened%20%3A%20false%2C%0D%0A%09%09%09%09%09selected%20%3A%20false%2C%0D%0A%09%09%09%09%09disabled%20%3A%20false%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09this._model.data%5B%24.jstree.root%5D%20%3D%20%7B%0D%0A%09%09%09%09id%20%3A%20%24.jstree.root%2C%0D%0A%09%09%09%09parent%20%3A%20null%2C%0D%0A%09%09%09%09parents%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09children%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09children_d%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09state%20%3A%20%7B%20loaded%20%3A%20false%20%7D%0D%0A%09%09%09%7D%3B%0D%0A%0D%0A%09%09%09this.element%20%3D%20%24(el).addClass('jstree%20jstree-'%20%2B%20this._id)%3B%0D%0A%09%09%09this.settings%20%3D%20options%3B%0D%0A%0D%0A%09%09%09this._data.core.ready%20%3D%20false%3B%0D%0A%09%09%09this._data.core.loaded%20%3D%20false%3B%0D%0A%09%09%09this._data.core.rtl%20%3D%20(this.element.css(%22direction%22)%20%3D%3D%3D%20%22rtl%22)%3B%0D%0A%09%09%09this.element%5Bthis._data.core.rtl%20%3F%20'addClass'%20%3A%20'removeClass'%5D(%22jstree-rtl%22)%3B%0D%0A%09%09%09this.element.attr('role'%2C'tree')%3B%0D%0A%09%09%09if(this.settings.core.multiple)%20%7B%0D%0A%09%09%09%09this.element.attr('aria-multiselectable'%2C%20true)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!this.element.attr('tabindex'))%20%7B%0D%0A%09%09%09%09this.element.attr('tabindex'%2C'0')%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09this.bind()%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20after%20all%20events%20are%20bound%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20init.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger(%22init%22)%3B%0D%0A%0D%0A%09%09%09this._data.core.original_container_html%20%3D%20this.element.find(%22%20%3E%20ul%20%3E%20li%22).clone(true)%3B%0D%0A%09%09%09this._data.core.original_container_html%0D%0A%09%09%09%09.find(%22li%22).addBack()%0D%0A%09%09%09%09.contents().filter(function()%20%7B%0D%0A%09%09%09%09%09return%20this.nodeType%20%3D%3D%3D%203%20%26%26%20(!this.nodeValue%20%7C%7C%20%2F%5E%5Cs%2B%24%2F.test(this.nodeValue))%3B%0D%0A%09%09%09%09%7D)%0D%0A%09%09%09%09.remove()%3B%0D%0A%09%09%09this.element.html(%22%3C%22%2B%22ul%20class%3D'jstree-container-ul%20jstree-children'%20role%3D'group'%3E%3C%22%2B%22li%20id%3D'j%22%2Bthis._id%2B%22_loading'%20class%3D'jstree-initial-node%20jstree-loading%20jstree-leaf%20jstree-last'%20role%3D'tree-item'%3E%3Ci%20class%3D'jstree-icon%20jstree-ocl'%3E%3C%2Fi%3E%3C%22%2B%22a%20class%3D'jstree-anchor'%20href%3D'%23'%3E%3Ci%20class%3D'jstree-icon%20jstree-themeicon-hidden'%3E%3C%2Fi%3E%22%20%2B%20this.get_string(%22Loading%20...%22)%20%2B%20%22%3C%2Fa%3E%3C%2Fli%3E%3C%2Ful%3E%22)%3B%0D%0A%09%09%09this.element.attr('aria-activedescendant'%2C'j'%20%2B%20this._id%20%2B%20'_loading')%3B%0D%0A%09%09%09this._data.core.li_height%20%3D%20this.get_container_ul().children(%22li%22).first().outerHeight()%20%7C%7C%2024%3B%0D%0A%09%09%09this._data.core.node%20%3D%20this._create_prototype_node()%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20after%20the%20loading%20text%20is%20shown%20and%20before%20loading%20starts%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20loading.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger(%22loading%22)%3B%0D%0A%09%09%09this.load_node(%24.jstree.root)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20destroy%20an%20instance%0D%0A%09%09%20*%20%40name%20destroy()%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20keep_html%20if%20not%20set%20to%20%60true%60%20the%20container%20will%20be%20emptied%2C%20otherwise%20the%20current%20DOM%20elements%20will%20be%20kept%20intact%0D%0A%09%09%20*%2F%0D%0A%09%09destroy%20%3A%20function%20(keep_html)%20%7B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20before%20the%20tree%20is%20destroyed%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20destroy.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger(%22destroy%22)%3B%0D%0A%09%09%09if(this._wrk)%20%7B%0D%0A%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09window.URL.revokeObjectURL(this._wrk)%3B%0D%0A%09%09%09%09%09this._wrk%20%3D%20null%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09catch%20(ignore)%20%7B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!keep_html)%20%7B%20this.element.empty()%3B%20%7D%0D%0A%09%09%09this.teardown()%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Create%20a%20prototype%20node%0D%0A%09%09%20*%20%40name%20_create_prototype_node()%0D%0A%09%09%20*%20%40return%20%7BDOMElement%7D%0D%0A%09%09%20*%2F%0D%0A%09%09_create_prototype_node%20%3A%20function%20()%20%7B%0D%0A%09%09%09var%20_node%20%3D%20document.createElement('LI')%2C%20_temp1%2C%20_temp2%3B%0D%0A%09%09%09_node.setAttribute('role'%2C%20'treeitem')%3B%0D%0A%09%09%09_temp1%20%3D%20document.createElement('I')%3B%0D%0A%09%09%09_temp1.className%20%3D%20'jstree-icon%20jstree-ocl'%3B%0D%0A%09%09%09_temp1.setAttribute('role'%2C%20'presentation')%3B%0D%0A%09%09%09_node.appendChild(_temp1)%3B%0D%0A%09%09%09_temp1%20%3D%20document.createElement('A')%3B%0D%0A%09%09%09_temp1.className%20%3D%20'jstree-anchor'%3B%0D%0A%09%09%09_temp1.setAttribute('href'%2C'%23')%3B%0D%0A%09%09%09_temp1.setAttribute('tabindex'%2C'-1')%3B%0D%0A%09%09%09_temp2%20%3D%20document.createElement('I')%3B%0D%0A%09%09%09_temp2.className%20%3D%20'jstree-icon%20jstree-themeicon'%3B%0D%0A%09%09%09_temp2.setAttribute('role'%2C%20'presentation')%3B%0D%0A%09%09%09_temp1.appendChild(_temp2)%3B%0D%0A%09%09%09_node.appendChild(_temp1)%3B%0D%0A%09%09%09_temp1%20%3D%20_temp2%20%3D%20null%3B%0D%0A%0D%0A%09%09%09return%20_node%3B%0D%0A%09%09%7D%2C%0D%0A%09%09_kbevent_to_func%20%3A%20function%20(e)%20%7B%0D%0A%09%09%09var%20keys%20%3D%20%7B%0D%0A%09%09%09%098%3A%20%22Backspace%22%2C%209%3A%20%22Tab%22%2C%2013%3A%20%22Return%22%2C%2019%3A%20%22Pause%22%2C%2027%3A%20%22Esc%22%2C%0D%0A%09%09%09%0932%3A%20%22Space%22%2C%2033%3A%20%22PageUp%22%2C%2034%3A%20%22PageDown%22%2C%2035%3A%20%22End%22%2C%2036%3A%20%22Home%22%2C%0D%0A%09%09%09%0937%3A%20%22Left%22%2C%2038%3A%20%22Up%22%2C%2039%3A%20%22Right%22%2C%2040%3A%20%22Down%22%2C%2044%3A%20%22Print%22%2C%2045%3A%20%22Insert%22%2C%0D%0A%09%09%09%0946%3A%20%22Delete%22%2C%2096%3A%20%22Numpad0%22%2C%2097%3A%20%22Numpad1%22%2C%2098%3A%20%22Numpad2%22%2C%2099%20%3A%20%22Numpad3%22%2C%0D%0A%09%09%09%09100%3A%20%22Numpad4%22%2C%20101%3A%20%22Numpad5%22%2C%20102%3A%20%22Numpad6%22%2C%20103%3A%20%22Numpad7%22%2C%0D%0A%09%09%09%09104%3A%20%22Numpad8%22%2C%20105%3A%20%22Numpad9%22%2C%20'-13'%3A%20%22NumpadEnter%22%2C%20112%3A%20%22F1%22%2C%0D%0A%09%09%09%09113%3A%20%22F2%22%2C%20114%3A%20%22F3%22%2C%20115%3A%20%22F4%22%2C%20116%3A%20%22F5%22%2C%20117%3A%20%22F6%22%2C%20118%3A%20%22F7%22%2C%0D%0A%09%09%09%09119%3A%20%22F8%22%2C%20120%3A%20%22F9%22%2C%20121%3A%20%22F10%22%2C%20122%3A%20%22F11%22%2C%20123%3A%20%22F12%22%2C%20144%3A%20%22Numlock%22%2C%0D%0A%09%09%09%09145%3A%20%22Scrolllock%22%2C%2016%3A%20'Shift'%2C%2017%3A%20'Ctrl'%2C%2018%3A%20'Alt'%2C%0D%0A%09%09%09%0948%3A%20'0'%2C%20%2049%3A%20'1'%2C%20%2050%3A%20'2'%2C%20%2051%3A%20'3'%2C%20%2052%3A%20'4'%2C%2053%3A%20%20'5'%2C%0D%0A%09%09%09%0954%3A%20'6'%2C%20%2055%3A%20'7'%2C%20%2056%3A%20'8'%2C%20%2057%3A%20'9'%2C%20%2059%3A%20'%3B'%2C%20%2061%3A%20'%3D'%2C%2065%3A%20%20'a'%2C%0D%0A%09%09%09%0966%3A%20'b'%2C%20%2067%3A%20'c'%2C%20%2068%3A%20'd'%2C%20%2069%3A%20'e'%2C%20%2070%3A%20'f'%2C%20%2071%3A%20'g'%2C%2072%3A%20%20'h'%2C%0D%0A%09%09%09%0973%3A%20'i'%2C%20%2074%3A%20'j'%2C%20%2075%3A%20'k'%2C%20%2076%3A%20'l'%2C%20%2077%3A%20'm'%2C%20%2078%3A%20'n'%2C%2079%3A%20%20'o'%2C%0D%0A%09%09%09%0980%3A%20'p'%2C%20%2081%3A%20'q'%2C%20%2082%3A%20'r'%2C%20%2083%3A%20's'%2C%20%2084%3A%20't'%2C%20%2085%3A%20'u'%2C%2086%3A%20%20'v'%2C%0D%0A%09%09%09%0987%3A%20'w'%2C%20%2088%3A%20'x'%2C%20%2089%3A%20'y'%2C%20%2090%3A%20'z'%2C%20107%3A%20'%2B'%2C%20109%3A%20'-'%2C%20110%3A%20'.'%2C%0D%0A%09%09%09%09186%3A%20'%3B'%2C%20187%3A%20'%3D'%2C%20188%3A%20'%2C'%2C%20189%3A%20'-'%2C%20190%3A%20'.'%2C%20191%3A%20'%2F'%2C%20192%3A%20'%60'%2C%0D%0A%09%09%09%09219%3A%20'%5B'%2C%20220%3A%20'%5C%5C'%2C221%3A%20'%5D'%2C%20222%3A%20%22'%22%2C%20111%3A%20'%2F'%2C%20106%3A%20'*'%2C%20173%3A%20'-'%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09var%20parts%20%3D%20%5B%5D%3B%0D%0A%09%09%09if%20(e.ctrlKey)%20%7B%20parts.push('ctrl')%3B%20%7D%0D%0A%09%09%09if%20(e.altKey)%20%7B%20parts.push('alt')%3B%20%7D%0D%0A%09%09%09if%20(e.shiftKey)%20%7B%20parts.push('shift')%3B%20%7D%0D%0A%09%09%09parts.push(keys%5Be.which%5D%20%7C%7C%20e.which)%3B%0D%0A%09%09%09parts%20%3D%20parts.sort().join('-').toLowerCase()%3B%0D%0A%0D%0A%09%09%09var%20kb%20%3D%20this.settings.core.keyboard%2C%20i%2C%20tmp%3B%0D%0A%09%09%09for%20(i%20in%20kb)%20%7B%0D%0A%09%09%09%09if%20(kb.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20i%3B%0D%0A%09%09%09%09%09if%20(tmp%20!%3D%3D%20'-'%20%26%26%20tmp%20!%3D%3D%20'%2B')%20%7B%0D%0A%09%09%09%09%09%09tmp%20%3D%20tmp.replace('--'%2C%20'-MINUS').replace('%2B-'%2C%20'-MINUS').replace('%2B%2B'%2C%20'-PLUS').replace('-%2B'%2C%20'-PLUS')%3B%0D%0A%09%09%09%09%09%09tmp%20%3D%20tmp.split(%2F-%7C%5C%2B%2F).sort().join('-').replace('MINUS'%2C%20'-').replace('PLUS'%2C%20'%2B').toLowerCase()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(tmp%20%3D%3D%3D%20parts)%20%7B%0D%0A%09%09%09%09%09%09return%20kb%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20null%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20part%20of%20the%20destroying%20of%20an%20instance.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20teardown()%0D%0A%09%09%20*%2F%0D%0A%09%09teardown%20%3A%20function%20()%20%7B%0D%0A%09%09%09this.unbind()%3B%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.removeClass('jstree')%0D%0A%09%09%09%09.removeData('jstree')%0D%0A%09%09%09%09.find(%22%5Bclass%5E%3D'jstree'%5D%22)%0D%0A%09%09%09%09%09.addBack()%0D%0A%09%09%09%09%09.attr(%22class%22%2C%20function%20()%20%7B%20return%20this.className.replace(%2Fjstree%5B%5E%20%5D*%7C%24%2Fig%2C'')%3B%20%7D)%3B%0D%0A%09%09%09this.element%20%3D%20null%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20bind%20all%20events.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20bind()%0D%0A%09%09%20*%2F%0D%0A%09%09bind%20%3A%20function%20()%20%7B%0D%0A%09%09%09var%20word%20%3D%20''%2C%0D%0A%09%09%09%09tout%20%3D%20null%2C%0D%0A%09%09%09%09was_click%20%3D%200%3B%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on(%22dblclick.jstree%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(e.target.tagName%20%26%26%20e.target.tagName.toLowerCase()%20%3D%3D%3D%20%22input%22)%20%7B%20return%20true%3B%20%7D%0D%0A%09%09%09%09%09%09if(document.selection%20%26%26%20document.selection.empty)%20%7B%0D%0A%09%09%09%09%09%09%09document.selection.empty()%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09if(window.getSelection)%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20sel%20%3D%20window.getSelection()%3B%0D%0A%09%09%09%09%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09%09%09%09%09sel.removeAllRanges()%3B%0D%0A%09%09%09%09%09%09%09%09%09sel.collapse()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%20catch%20(ignore)%20%7B%20%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09.on(%22mousedown.jstree%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(e.target%20%3D%3D%3D%20this.element%5B0%5D)%20%7B%0D%0A%09%09%09%09%09%09%09e.preventDefault()%3B%20%2F%2F%20prevent%20losing%20focus%20when%20clicking%20scroll%20arrows%20(FF%2C%20Chrome)%0D%0A%09%09%09%09%09%09%09was_click%20%3D%20%2B(new%20Date())%3B%20%2F%2F%20ie%20does%20not%20allow%20to%20prevent%20losing%20focus%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22mousedown.jstree%22%2C%20%22.jstree-ocl%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09e.preventDefault()%3B%20%2F%2F%20prevent%20any%20node%20inside%20from%20losing%20focus%20when%20clicking%20the%20open%2Fclose%20icon%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09.on(%22click.jstree%22%2C%20%22.jstree-ocl%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09this.toggle_node(e.target)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22dblclick.jstree%22%2C%20%22.jstree-anchor%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(e.target.tagName%20%26%26%20e.target.tagName.toLowerCase()%20%3D%3D%3D%20%22input%22)%20%7B%20return%20true%3B%20%7D%0D%0A%09%09%09%09%09%09if(this.settings.core.dblclick_toggle)%20%7B%0D%0A%09%09%09%09%09%09%09this.toggle_node(e.target)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22click.jstree%22%2C%20%22.jstree-anchor%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09if(e.currentTarget%20!%3D%3D%20document.activeElement)%20%7B%20%24(e.currentTarget).focus()%3B%20%7D%0D%0A%09%09%09%09%09%09this.activate_node(e.currentTarget%2C%20e)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on('keydown.jstree'%2C%20'.jstree-anchor'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(e.target.tagName%20%26%26%20e.target.tagName.toLowerCase()%20%3D%3D%3D%20%22input%22)%20%7B%20return%20true%3B%20%7D%0D%0A%09%09%09%09%09%09if(this._data.core.rtl)%20%7B%0D%0A%09%09%09%09%09%09%09if(e.which%20%3D%3D%3D%2037)%20%7B%20e.which%20%3D%2039%3B%20%7D%0D%0A%09%09%09%09%09%09%09else%20if(e.which%20%3D%3D%3D%2039)%20%7B%20e.which%20%3D%2037%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09var%20f%20%3D%20this._kbevent_to_func(e)%3B%0D%0A%09%09%09%09%09%09if%20(f)%20%7B%0D%0A%09%09%09%09%09%09%09var%20r%20%3D%20f.call(this%2C%20e)%3B%0D%0A%09%09%09%09%09%09%09if%20(r%20%3D%3D%3D%20false%20%7C%7C%20r%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09%09%09%09%09return%20r%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22load_node.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09if(data.status)%20%7B%0D%0A%09%09%09%09%09%09%09if(data.node.id%20%3D%3D%3D%20%24.jstree.root%20%26%26%20!this._data.core.loaded)%20%7B%0D%0A%09%09%09%09%09%09%09%09this._data.core.loaded%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09if(this._firstChild(this.get_container_ul()%5B0%5D))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09this.element.attr('aria-activedescendant'%2Cthis._firstChild(this.get_container_ul()%5B0%5D).id)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%09%09%09%20*%20triggered%20after%20the%20root%20node%20is%20loaded%20for%20the%20first%20time%0D%0A%09%09%09%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%09%09%09%20*%20%40name%20loaded.jstree%0D%0A%09%09%09%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09%09%09%09this.trigger(%22loaded%22)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(!this._data.core.ready)%20%7B%0D%0A%09%09%09%09%09%09%09%09setTimeout(%24.proxy(function()%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(this.element%20%26%26%20!this.get_container_ul().find('.jstree-loading').length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09this._data.core.ready%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09if(this._data.core.selected.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09if(this.settings.core.expand_selected_onload)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09var%20tmp%20%3D%20%5B%5D%2C%20i%2C%20j%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20this._data.core.selected.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09tmp%20%3D%20tmp.concat(this._model.data%5Bthis._data.core.selected%5Bi%5D%5D.parents)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09tmp%20%3D%20%24.vakata.array_unique(tmp)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09this.open_node(tmp%5Bi%5D%2C%20false%2C%200)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'ready'%2C%20'selected'%20%3A%20this._data.core.selected%20%7D)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%09%09%09%09%09%20*%20triggered%20after%20all%20nodes%20are%20finished%20loading%0D%0A%09%09%09%09%09%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%09%09%09%09%09%20*%20%40name%20ready.jstree%0D%0A%09%09%09%09%09%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09%09%09%09%09%09this.trigger(%22ready%22)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%2C%20this)%2C%200)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%2F%2F%20quick%20searching%20when%20the%20tree%20is%20focused%0D%0A%09%09%09%09.on('keypress.jstree'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(e.target.tagName%20%26%26%20e.target.tagName.toLowerCase()%20%3D%3D%3D%20%22input%22)%20%7B%20return%20true%3B%20%7D%0D%0A%09%09%09%09%09%09if(tout)%20%7B%20clearTimeout(tout)%3B%20%7D%0D%0A%09%09%09%09%09%09tout%20%3D%20setTimeout(function%20()%20%7B%0D%0A%09%09%09%09%09%09%09word%20%3D%20''%3B%0D%0A%09%09%09%09%09%09%7D%2C%20500)%3B%0D%0A%0D%0A%09%09%09%09%09%09var%20chr%20%3D%20String.fromCharCode(e.which).toLowerCase()%2C%0D%0A%09%09%09%09%09%09%09col%20%3D%20this.element.find('.jstree-anchor').filter('%3Avisible')%2C%0D%0A%09%09%09%09%09%09%09ind%20%3D%20col.index(document.activeElement)%20%7C%7C%200%2C%0D%0A%09%09%09%09%09%09%09end%20%3D%20false%3B%0D%0A%09%09%09%09%09%09word%20%2B%3D%20chr%3B%0D%0A%0D%0A%09%09%09%09%09%09%2F%2F%20match%20for%20whole%20word%20from%20current%20node%20down%20(including%20the%20current%20node)%0D%0A%09%09%09%09%09%09if(word.length%20%3E%201)%20%7B%0D%0A%09%09%09%09%09%09%09col.slice(ind).each(%24.proxy(function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(%24(v).text().toLowerCase().indexOf(word)%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%24(v).focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09end%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%09%09%09if(end)%20%7B%20return%3B%20%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20match%20for%20whole%20word%20from%20the%20beginning%20of%20the%20tree%0D%0A%09%09%09%09%09%09%09col.slice(0%2C%20ind).each(%24.proxy(function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(%24(v).text().toLowerCase().indexOf(word)%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%24(v).focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09end%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%09%09%09if(end)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%2F%2F%20list%20nodes%20that%20start%20with%20that%20letter%20(only%20if%20word%20consists%20of%20a%20single%20char)%0D%0A%09%09%09%09%09%09if(new%20RegExp('%5E'%20%2B%20chr.replace(%2F%5B-%5C%2F%5C%5C%5E%24*%2B%3F.()%7C%5B%5C%5D%7B%7D%5D%2Fg%2C%20'%5C%5C%24%26')%20%2B%20'%2B%24').test(word))%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20search%20for%20the%20next%20node%20starting%20with%20that%20letter%0D%0A%09%09%09%09%09%09%09col.slice(ind%20%2B%201).each(%24.proxy(function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(%24(v).text().toLowerCase().charAt(0)%20%3D%3D%3D%20chr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%24(v).focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09end%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%09%09%09if(end)%20%7B%20return%3B%20%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20search%20from%20the%20beginning%0D%0A%09%09%09%09%09%09%09col.slice(0%2C%20ind%20%2B%201).each(%24.proxy(function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(%24(v).text().toLowerCase().charAt(0)%20%3D%3D%3D%20chr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%24(v).focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09end%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%09%09%09if(end)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%2F%2F%20THEME%20RELATED%0D%0A%09%09%09%09.on(%22init.jstree%22%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09var%20s%20%3D%20this.settings.core.themes%3B%0D%0A%09%09%09%09%09%09this._data.core.themes.dots%09%09%09%3D%20s.dots%3B%0D%0A%09%09%09%09%09%09this._data.core.themes.stripes%09%09%3D%20s.stripes%3B%0D%0A%09%09%09%09%09%09this._data.core.themes.icons%09%09%3D%20s.icons%3B%0D%0A%09%09%09%09%09%09this._data.core.themes.ellipsis%09%09%3D%20s.ellipsis%3B%0D%0A%09%09%09%09%09%09this.set_theme(s.name%20%7C%7C%20%22default%22%2C%20s.url)%3B%0D%0A%09%09%09%09%09%09this.set_theme_variant(s.variant)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22loading.jstree%22%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09this%5B%20this._data.core.themes.dots%20%3F%20%22show_dots%22%20%3A%20%22hide_dots%22%20%5D()%3B%0D%0A%09%09%09%09%09%09this%5B%20this._data.core.themes.icons%20%3F%20%22show_icons%22%20%3A%20%22hide_icons%22%20%5D()%3B%0D%0A%09%09%09%09%09%09this%5B%20this._data.core.themes.stripes%20%3F%20%22show_stripes%22%20%3A%20%22hide_stripes%22%20%5D()%3B%0D%0A%09%09%09%09%09%09this%5B%20this._data.core.themes.ellipsis%20%3F%20%22show_ellipsis%22%20%3A%20%22hide_ellipsis%22%20%5D()%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on('blur.jstree'%2C%20'.jstree-anchor'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09this._data.core.focused%20%3D%20null%3B%0D%0A%09%09%09%09%09%09%24(e.currentTarget).filter('.jstree-hovered').mouseleave()%3B%0D%0A%09%09%09%09%09%09this.element.attr('tabindex'%2C%20'0')%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on('focus.jstree'%2C%20'.jstree-anchor'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09var%20tmp%20%3D%20this.get_node(e.currentTarget)%3B%0D%0A%09%09%09%09%09%09if(tmp%20%26%26%20tmp.id)%20%7B%0D%0A%09%09%09%09%09%09%09this._data.core.focused%20%3D%20tmp.id%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09this.element.find('.jstree-hovered').not(e.currentTarget).mouseleave()%3B%0D%0A%09%09%09%09%09%09%24(e.currentTarget).mouseenter()%3B%0D%0A%09%09%09%09%09%09this.element.attr('tabindex'%2C%20'-1')%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on('focus.jstree'%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09if(%2B(new%20Date())%20-%20was_click%20%3E%20500%20%26%26%20!this._data.core.focused%20%26%26%20this.settings.core.restore_focus)%20%7B%0D%0A%09%09%09%09%09%09%09was_click%20%3D%200%3B%0D%0A%09%09%09%09%09%09%09var%20act%20%3D%20this.get_node(this.element.attr('aria-activedescendant')%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09if(act)%20%7B%0D%0A%09%09%09%09%09%09%09%09act.find('%3E%20.jstree-anchor').focus()%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on('mouseenter.jstree'%2C%20'.jstree-anchor'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09this.hover_node(e.currentTarget)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on('mouseleave.jstree'%2C%20'.jstree-anchor'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09this.dehover_node(e.currentTarget)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20part%20of%20the%20destroying%20of%20an%20instance.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20unbind()%0D%0A%09%09%20*%2F%0D%0A%09%09unbind%20%3A%20function%20()%20%7B%0D%0A%09%09%09this.element.off('.jstree')%3B%0D%0A%09%09%09%24(document).off('.jstree-'%20%2B%20this._id)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20trigger%20an%20event.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20trigger(ev%20%5B%2C%20data%5D)%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20ev%20the%20name%20of%20the%20event%20to%20trigger%0D%0A%09%09%20*%20%40param%20%20%7BObject%7D%20data%20additional%20data%20to%20pass%20with%20the%20event%0D%0A%09%09%20*%2F%0D%0A%09%09trigger%20%3A%20function%20(ev%2C%20data)%20%7B%0D%0A%09%09%09if(!data)%20%7B%0D%0A%09%09%09%09data%20%3D%20%7B%7D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09data.instance%20%3D%20this%3B%0D%0A%09%09%09this.element.triggerHandler(ev.replace('.jstree'%2C'')%20%2B%20'.jstree'%2C%20data)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20returns%20the%20jQuery%20extended%20instance%20container%0D%0A%09%09%20*%20%40name%20get_container()%0D%0A%09%09%20*%20%40return%20%7BjQuery%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_container%20%3A%20function%20()%20%7B%0D%0A%09%09%09return%20this.element%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20returns%20the%20jQuery%20extended%20main%20UL%20node%20inside%20the%20instance%20container.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20get_container_ul()%0D%0A%09%09%20*%20%40return%20%7BjQuery%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_container_ul%20%3A%20function%20()%20%7B%0D%0A%09%09%09return%20this.element.children(%22.jstree-children%22).first()%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20string%20replacements%20(localization).%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20get_string(key)%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20key%0D%0A%09%09%20*%20%40return%20%7BString%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_string%20%3A%20function%20(key)%20%7B%0D%0A%09%09%09var%20a%20%3D%20this.settings.core.strings%3B%0D%0A%09%09%09if(%24.isFunction(a))%20%7B%20return%20a.call(this%2C%20key)%3B%20%7D%0D%0A%09%09%09if(a%20%26%26%20a%5Bkey%5D)%20%7B%20return%20a%5Bkey%5D%3B%20%7D%0D%0A%09%09%09return%20key%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20the%20first%20child%20of%20a%20DOM%20node.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_firstChild(dom)%0D%0A%09%09%20*%20%40param%20%20%7BDOMElement%7D%20dom%0D%0A%09%09%20*%20%40return%20%7BDOMElement%7D%0D%0A%09%09%20*%2F%0D%0A%09%09_firstChild%20%3A%20function%20(dom)%20%7B%0D%0A%09%09%09dom%20%3D%20dom%20%3F%20dom.firstChild%20%3A%20null%3B%0D%0A%09%09%09while(dom%20!%3D%3D%20null%20%26%26%20dom.nodeType%20!%3D%3D%201)%20%7B%0D%0A%09%09%09%09dom%20%3D%20dom.nextSibling%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20dom%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20the%20next%20sibling%20of%20a%20DOM%20node.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_nextSibling(dom)%0D%0A%09%09%20*%20%40param%20%20%7BDOMElement%7D%20dom%0D%0A%09%09%20*%20%40return%20%7BDOMElement%7D%0D%0A%09%09%20*%2F%0D%0A%09%09_nextSibling%20%3A%20function%20(dom)%20%7B%0D%0A%09%09%09dom%20%3D%20dom%20%3F%20dom.nextSibling%20%3A%20null%3B%0D%0A%09%09%09while(dom%20!%3D%3D%20null%20%26%26%20dom.nodeType%20!%3D%3D%201)%20%7B%0D%0A%09%09%09%09dom%20%3D%20dom.nextSibling%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20dom%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20the%20previous%20sibling%20of%20a%20DOM%20node.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_previousSibling(dom)%0D%0A%09%09%20*%20%40param%20%20%7BDOMElement%7D%20dom%0D%0A%09%09%20*%20%40return%20%7BDOMElement%7D%0D%0A%09%09%20*%2F%0D%0A%09%09_previousSibling%20%3A%20function%20(dom)%20%7B%0D%0A%09%09%09dom%20%3D%20dom%20%3F%20dom.previousSibling%20%3A%20null%3B%0D%0A%09%09%09while(dom%20!%3D%3D%20null%20%26%26%20dom.nodeType%20!%3D%3D%201)%20%7B%0D%0A%09%09%09%09dom%20%3D%20dom.previousSibling%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20dom%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20JSON%20representation%20of%20a%20node%20(or%20the%20actual%20jQuery%20extended%20DOM%20node)%20by%20using%20any%20input%20(child%20DOM%20element%2C%20ID%20string%2C%20selector%2C%20etc)%0D%0A%09%09%20*%20%40name%20get_node(obj%20%5B%2C%20as_dom%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20as_dom%0D%0A%09%09%20*%20%40return%20%7BObject%7CjQuery%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_node%20%3A%20function%20(obj%2C%20as_dom)%20%7B%0D%0A%09%09%09if(obj%20%26%26%20obj.id)%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(obj%20instanceof%20jQuery%20%26%26%20obj.length%20%26%26%20obj%5B0%5D.id)%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj%5B0%5D.id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09var%20dom%3B%0D%0A%09%09%09try%20%7B%0D%0A%09%09%09%09if(this._model.data%5Bobj%5D)%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20this._model.data%5Bobj%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20if(typeof%20obj%20%3D%3D%3D%20%22string%22%20%26%26%20this._model.data%5Bobj.replace(%2F%5E%23%2F%2C%20'')%5D)%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20this._model.data%5Bobj.replace(%2F%5E%23%2F%2C%20'')%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20if(typeof%20obj%20%3D%3D%3D%20%22string%22%20%26%26%20(dom%20%3D%20%24('%23'%20%2B%20obj.replace(%24.jstree.idregex%2C'%5C%5C%24%26')%2C%20this.element)).length%20%26%26%20this._model.data%5Bdom.closest('.jstree-node').attr('id')%5D)%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20this._model.data%5Bdom.closest('.jstree-node').attr('id')%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20if((dom%20%3D%20this.element.find(obj)).length%20%26%26%20this._model.data%5Bdom.closest('.jstree-node').attr('id')%5D)%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20this._model.data%5Bdom.closest('.jstree-node').attr('id')%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20if((dom%20%3D%20this.element.find(obj)).length%20%26%26%20dom.hasClass('jstree'))%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20this._model.data%5B%24.jstree.root%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09if(as_dom)%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20obj.id%20%3D%3D%3D%20%24.jstree.root%20%3F%20this.element%20%3A%20%24('%23'%20%2B%20obj.id.replace(%24.jstree.idregex%2C'%5C%5C%24%26')%2C%20this.element)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20obj%3B%0D%0A%09%09%09%7D%20catch%20(ex)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20path%20to%20a%20node%2C%20either%20consisting%20of%20node%20texts%2C%20or%20of%20node%20IDs%2C%20optionally%20glued%20together%20(otherwise%20an%20array)%0D%0A%09%09%20*%20%40name%20get_path(obj%20%5B%2C%20glue%2C%20ids%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20glue%20if%20you%20want%20the%20path%20as%20a%20string%20-%20pass%20the%20glue%20here%20(for%20example%20'%2F')%2C%20if%20a%20falsy%20value%20is%20supplied%20here%2C%20an%20array%20is%20returned%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20ids%20if%20set%20to%20true%20build%20the%20path%20using%20ID%2C%20otherwise%20node%20text%20is%20used%0D%0A%09%09%20*%20%40return%20%7Bmixed%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_path%20%3A%20function%20(obj%2C%20glue%2C%20ids)%20%7B%0D%0A%09%09%09obj%20%3D%20obj.parents%20%3F%20obj%20%3A%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root%20%7C%7C%20!obj.parents)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09var%20i%2C%20j%2C%20p%20%3D%20%5B%5D%3B%0D%0A%09%09%09p.push(ids%20%3F%20obj.id%20%3A%20obj.text)%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09p.push(ids%20%3F%20obj.parents%5Bi%5D%20%3A%20this.get_text(obj.parents%5Bi%5D))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09p%20%3D%20p.reverse().slice(1)%3B%0D%0A%09%09%09return%20glue%20%3F%20p.join(glue)%20%3A%20p%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20next%20visible%20node%20that%20is%20below%20the%20%60obj%60%20node.%20If%20%60strict%60%20is%20set%20to%20%60true%60%20only%20sibling%20nodes%20are%20returned.%0D%0A%09%09%20*%20%40name%20get_next_dom(obj%20%5B%2C%20strict%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20strict%0D%0A%09%09%20*%20%40return%20%7BjQuery%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_next_dom%20%3A%20function%20(obj%2C%20strict)%20%7B%0D%0A%09%09%09var%20tmp%3B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(obj%5B0%5D%20%3D%3D%3D%20this.element%5B0%5D)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this._firstChild(this.get_container_ul()%5B0%5D)%3B%0D%0A%09%09%09%09while%20(tmp%20%26%26%20tmp.offsetHeight%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20this._nextSibling(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20tmp%20%3F%20%24(tmp)%20%3A%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!obj%20%7C%7C%20!obj.length)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(strict)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20obj%5B0%5D%3B%0D%0A%09%09%09%09do%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20this._nextSibling(tmp)%3B%0D%0A%09%09%09%09%7D%20while%20(tmp%20%26%26%20tmp.offsetHeight%20%3D%3D%3D%200)%3B%0D%0A%09%09%09%09return%20tmp%20%3F%20%24(tmp)%20%3A%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(obj.hasClass(%22jstree-open%22))%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this._firstChild(obj.children('.jstree-children')%5B0%5D)%3B%0D%0A%09%09%09%09while%20(tmp%20%26%26%20tmp.offsetHeight%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20this._nextSibling(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(tmp%20!%3D%3D%20null)%20%7B%0D%0A%09%09%09%09%09return%20%24(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20obj%5B0%5D%3B%0D%0A%09%09%09do%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this._nextSibling(tmp)%3B%0D%0A%09%09%09%7D%20while%20(tmp%20%26%26%20tmp.offsetHeight%20%3D%3D%3D%200)%3B%0D%0A%09%09%09if(tmp%20!%3D%3D%20null)%20%7B%0D%0A%09%09%09%09return%20%24(tmp)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj.parentsUntil(%22.jstree%22%2C%22.jstree-node%22).nextAll(%22.jstree-node%3Avisible%22).first()%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20previous%20visible%20node%20that%20is%20above%20the%20%60obj%60%20node.%20If%20%60strict%60%20is%20set%20to%20%60true%60%20only%20sibling%20nodes%20are%20returned.%0D%0A%09%09%20*%20%40name%20get_prev_dom(obj%20%5B%2C%20strict%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20strict%0D%0A%09%09%20*%20%40return%20%7BjQuery%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_prev_dom%20%3A%20function%20(obj%2C%20strict)%20%7B%0D%0A%09%09%09var%20tmp%3B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(obj%5B0%5D%20%3D%3D%3D%20this.element%5B0%5D)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this.get_container_ul()%5B0%5D.lastChild%3B%0D%0A%09%09%09%09while%20(tmp%20%26%26%20tmp.offsetHeight%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20this._previousSibling(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20tmp%20%3F%20%24(tmp)%20%3A%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!obj%20%7C%7C%20!obj.length)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(strict)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20obj%5B0%5D%3B%0D%0A%09%09%09%09do%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20this._previousSibling(tmp)%3B%0D%0A%09%09%09%09%7D%20while%20(tmp%20%26%26%20tmp.offsetHeight%20%3D%3D%3D%200)%3B%0D%0A%09%09%09%09return%20tmp%20%3F%20%24(tmp)%20%3A%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20obj%5B0%5D%3B%0D%0A%09%09%09do%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this._previousSibling(tmp)%3B%0D%0A%09%09%09%7D%20while%20(tmp%20%26%26%20tmp.offsetHeight%20%3D%3D%3D%200)%3B%0D%0A%09%09%09if(tmp%20!%3D%3D%20null)%20%7B%0D%0A%09%09%09%09obj%20%3D%20%24(tmp)%3B%0D%0A%09%09%09%09while(obj.hasClass(%22jstree-open%22))%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20obj.children(%22.jstree-children%22).first().children(%22.jstree-node%3Avisible%3Alast%22)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20obj%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20obj%5B0%5D.parentNode.parentNode%3B%0D%0A%09%09%09return%20tmp%20%26%26%20tmp.className%20%26%26%20tmp.className.indexOf('jstree-node')%20!%3D%3D%20-1%20%3F%20%24(tmp)%20%3A%20false%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20parent%20ID%20of%20a%20node%0D%0A%09%09%20*%20%40name%20get_parent(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BString%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_parent%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj.parent%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20a%20jQuery%20collection%20of%20all%20the%20children%20of%20a%20node%20(node%20must%20be%20rendered)%2C%20returns%20false%20on%20error%0D%0A%09%09%20*%20%40name%20get_children_dom(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BjQuery%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_children_dom%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(obj%5B0%5D%20%3D%3D%3D%20this.element%5B0%5D)%20%7B%0D%0A%09%09%09%09return%20this.get_container_ul().children(%22.jstree-node%22)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!obj%20%7C%7C%20!obj.length)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj.children(%22.jstree-children%22).children(%22.jstree-node%22)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20checks%20if%20a%20node%20has%20children%0D%0A%09%09%20*%20%40name%20is_parent(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_parent%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20obj%20%26%26%20(obj.state.loaded%20%3D%3D%3D%20false%20%7C%7C%20obj.children.length%20%3E%200)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20checks%20if%20a%20node%20is%20loaded%20(its%20children%20are%20available)%0D%0A%09%09%20*%20%40name%20is_loaded(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_loaded%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20obj%20%26%26%20obj.state.loaded%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20check%20if%20a%20node%20is%20currently%20loading%20(fetching%20children)%0D%0A%09%09%20*%20%40name%20is_loading(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_loading%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20obj%20%26%26%20obj.state%20%26%26%20obj.state.loading%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20check%20if%20a%20node%20is%20opened%0D%0A%09%09%20*%20%40name%20is_open(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_open%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20obj%20%26%26%20obj.state.opened%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20check%20if%20a%20node%20is%20in%20a%20closed%20state%0D%0A%09%09%20*%20%40name%20is_closed(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_closed%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20obj%20%26%26%20this.is_parent(obj)%20%26%26%20!obj.state.opened%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20check%20if%20a%20node%20has%20no%20children%0D%0A%09%09%20*%20%40name%20is_leaf(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_leaf%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09return%20!this.is_parent(obj)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20loads%20a%20node%20(fetches%20its%20children%20using%20the%20%60core.data%60%20setting).%20Multiple%20nodes%20can%20be%20passed%20to%20by%20using%20an%20array.%0D%0A%09%09%20*%20%40name%20load_node(obj%20%5B%2C%20callback%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%20%7Bfunction%7D%20callback%20a%20function%20to%20be%20executed%20once%20loading%20is%20complete%2C%20the%20function%20is%20executed%20in%20the%20instance's%20scope%20and%20receives%20two%20arguments%20-%20the%20node%20and%20a%20boolean%20status%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%20%40trigger%20load_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09load_node%20%3A%20function%20(obj%2C%20callback)%20%7B%0D%0A%09%09%09var%20k%2C%20l%2C%20i%2C%20j%2C%20c%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09this._load_nodes(obj.slice()%2C%20callback)%3B%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj)%20%7B%0D%0A%09%09%09%09if(callback)%20%7B%20callback.call(this%2C%20obj%2C%20false)%3B%20%7D%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F%2F%20if(obj.state.loading)%20%7B%20%7D%20%2F%2F%20the%20node%20is%20already%20loading%20-%20just%20wait%20for%20it%20to%20load%20and%20invoke%20callback%3F%20but%20if%20called%20implicitly%20it%20should%20be%20loaded%20again%3F%0D%0A%09%09%09if(obj.state.loaded)%20%7B%0D%0A%09%09%09%09obj.state.loaded%20%3D%20false%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09this._model.data%5Bobj.parents%5Bi%5D%5D.children_d%20%3D%20%24.vakata.array_filter(this._model.data%5Bobj.parents%5Bi%5D%5D.children_d%2C%20function%20(v)%20%7B%0D%0A%09%09%09%09%09%09return%20%24.inArray(v%2C%20obj.children_d)%20%3D%3D%3D%20-1%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20obj.children_d.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(this._model.data%5Bobj.children_d%5Bk%5D%5D.state.selected)%20%7B%0D%0A%09%09%09%09%09%09c%20%3D%20true%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09delete%20this._model.data%5Bobj.children_d%5Bk%5D%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(c)%20%7B%0D%0A%09%09%09%09%09this._data.core.selected%20%3D%20%24.vakata.array_filter(this._data.core.selected%2C%20function%20(v)%20%7B%0D%0A%09%09%09%09%09%09return%20%24.inArray(v%2C%20obj.children_d)%20%3D%3D%3D%20-1%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09obj.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09obj.children_d%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09if(c)%20%7B%0D%0A%09%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'load_node'%2C%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.core.selected%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09obj.state.failed%20%3D%20false%3B%0D%0A%09%09%09obj.state.loading%20%3D%20true%3B%0D%0A%09%09%09this.get_node(obj%2C%20true).addClass(%22jstree-loading%22).attr('aria-busy'%2Ctrue)%3B%0D%0A%09%09%09this._load_node(obj%2C%20%24.proxy(function%20(status)%20%7B%0D%0A%09%09%09%09obj%20%3D%20this._model.data%5Bobj.id%5D%3B%0D%0A%09%09%09%09obj.state.loading%20%3D%20false%3B%0D%0A%09%09%09%09obj.state.loaded%20%3D%20status%3B%0D%0A%09%09%09%09obj.state.failed%20%3D%20!obj.state.loaded%3B%0D%0A%09%09%09%09var%20dom%20%3D%20this.get_node(obj%2C%20true)%2C%20i%20%3D%200%2C%20j%20%3D%200%2C%20m%20%3D%20this._model.data%2C%20has_children%20%3D%20false%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(m%5Bobj.children%5Bi%5D%5D%20%26%26%20!m%5Bobj.children%5Bi%5D%5D.state.hidden)%20%7B%0D%0A%09%09%09%09%09%09has_children%20%3D%20true%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(obj.state.loaded%20%26%26%20dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09dom.removeClass('jstree-closed%20jstree-open%20jstree-leaf')%3B%0D%0A%09%09%09%09%09if%20(!has_children)%20%7B%0D%0A%09%09%09%09%09%09dom.addClass('jstree-leaf')%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09if%20(obj.id%20!%3D%3D%20'%23')%20%7B%0D%0A%09%09%09%09%09%09%09dom.addClass(obj.state.opened%20%3F%20'jstree-open'%20%3A%20'jstree-closed')%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09dom.removeClass(%22jstree-loading%22).attr('aria-busy'%2Cfalse)%3B%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20after%20a%20node%20is%20loaded%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20load_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20node%20that%20was%20loading%0D%0A%09%09%09%09%20*%20%40param%20%7BBoolean%7D%20status%20was%20the%20node%20loaded%20successfully%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('load_node'%2C%20%7B%20%22node%22%20%3A%20obj%2C%20%22status%22%20%3A%20status%20%7D)%3B%0D%0A%09%09%09%09if(callback)%20%7B%0D%0A%09%09%09%09%09callback.call(this%2C%20obj%2C%20status)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20load%20an%20array%20of%20nodes%20(will%20also%20load%20unavailable%20nodes%20as%20soon%20as%20they%20appear%20in%20the%20structure).%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_load_nodes(nodes%20%5B%2C%20callback%5D)%0D%0A%09%09%20*%20%40param%20%20%7Barray%7D%20nodes%0D%0A%09%09%20*%20%40param%20%20%7Bfunction%7D%20callback%20a%20function%20to%20be%20executed%20once%20loading%20is%20complete%2C%20the%20function%20is%20executed%20in%20the%20instance's%20scope%20and%20receives%20one%20argument%20-%20the%20array%20passed%20to%20_load_nodes%0D%0A%09%09%20*%2F%0D%0A%09%09_load_nodes%20%3A%20function%20(nodes%2C%20callback%2C%20is_callback%2C%20force_reload)%20%7B%0D%0A%09%09%09var%20r%20%3D%20true%2C%0D%0A%09%09%09%09c%20%3D%20function%20()%20%7B%20this._load_nodes(nodes%2C%20callback%2C%20true)%3B%20%7D%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%20i%2C%20j%2C%20tmp%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20nodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(m%5Bnodes%5Bi%5D%5D%20%26%26%20(%20(!m%5Bnodes%5Bi%5D%5D.state.loaded%20%26%26%20!m%5Bnodes%5Bi%5D%5D.state.failed)%20%7C%7C%20(!is_callback%20%26%26%20force_reload)%20))%20%7B%0D%0A%09%09%09%09%09if(!this.is_loading(nodes%5Bi%5D))%20%7B%0D%0A%09%09%09%09%09%09this.load_node(nodes%5Bi%5D%2C%20c)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09r%20%3D%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(r)%20%7B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20nodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(m%5Bnodes%5Bi%5D%5D%20%26%26%20m%5Bnodes%5Bi%5D%5D.state.loaded)%20%7B%0D%0A%09%09%09%09%09%09tmp.push(nodes%5Bi%5D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(callback%20%26%26%20!callback.done)%20%7B%0D%0A%09%09%09%09%09callback.call(this%2C%20tmp)%3B%0D%0A%09%09%09%09%09callback.done%20%3D%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20loads%20all%20unloaded%20nodes%0D%0A%09%09%20*%20%40name%20load_all(%5Bobj%2C%20callback%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20load%20recursively%2C%20omit%20to%20load%20all%20nodes%20in%20the%20tree%0D%0A%09%09%20*%20%40param%20%7Bfunction%7D%20callback%20a%20function%20to%20be%20executed%20once%20loading%20all%20the%20nodes%20is%20complete%2C%0D%0A%09%09%20*%20%40trigger%20load_all.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09load_all%20%3A%20function%20(obj%2C%20callback)%20%7B%0D%0A%09%09%09if(!obj)%20%7B%20obj%20%3D%20%24.jstree.root%3B%20%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20to_load%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09c%20%3D%20m%5Bobj.id%5D.children_d%2C%0D%0A%09%09%09%09i%2C%20j%3B%0D%0A%09%09%09if(obj.state%20%26%26%20!obj.state.loaded)%20%7B%0D%0A%09%09%09%09to_load.push(obj.id)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20c.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(m%5Bc%5Bi%5D%5D%20%26%26%20m%5Bc%5Bi%5D%5D.state%20%26%26%20!m%5Bc%5Bi%5D%5D.state.loaded)%20%7B%0D%0A%09%09%09%09%09to_load.push(c%5Bi%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(to_load.length)%20%7B%0D%0A%09%09%09%09this._load_nodes(to_load%2C%20function%20()%20%7B%0D%0A%09%09%09%09%09this.load_all(obj%2C%20callback)%3B%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20after%20a%20load_all%20call%20completes%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20load_all.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20recursively%20loaded%20node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09if(callback)%20%7B%20callback.call(this%2C%20obj)%3B%20%7D%0D%0A%09%09%09%09this.trigger('load_all'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20handles%20the%20actual%20loading%20of%20a%20node.%20Used%20only%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_load_node(obj%20%5B%2C%20callback%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%20%7Bfunction%7D%20callback%20a%20function%20to%20be%20executed%20once%20loading%20is%20complete%2C%20the%20function%20is%20executed%20in%20the%20instance's%20scope%20and%20receives%20one%20argument%20-%20a%20boolean%20status%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09_load_node%20%3A%20function%20(obj%2C%20callback)%20%7B%0D%0A%09%09%09var%20s%20%3D%20this.settings.core.data%2C%20t%3B%0D%0A%09%09%09var%20notTextOrCommentNode%20%3D%20function%20notTextOrCommentNode%20()%20%7B%0D%0A%09%09%09%09return%20this.nodeType%20!%3D%3D%203%20%26%26%20this.nodeType%20!%3D%3D%208%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09%2F%2F%20use%20original%20HTML%0D%0A%09%09%09if(!s)%20%7B%0D%0A%09%09%09%09if(obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09return%20this._append_html_data(obj%2C%20this._data.core.original_container_html.clone(true)%2C%20function%20(status)%20%7B%0D%0A%09%09%09%09%09%09callback.call(this%2C%20status)%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09return%20callback.call(this%2C%20false)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F%2F%20return%20callback.call(this%2C%20obj.id%20%3D%3D%3D%20%24.jstree.root%20%3F%20this._append_html_data(obj%2C%20this._data.core.original_container_html.clone(true))%20%3A%20false)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(%24.isFunction(s))%20%7B%0D%0A%09%09%09%09return%20s.call(this%2C%20obj%2C%20%24.proxy(function%20(d)%20%7B%0D%0A%09%09%09%09%09if(d%20%3D%3D%3D%20false)%20%7B%0D%0A%09%09%09%09%09%09callback.call(this%2C%20false)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09this%5Btypeof%20d%20%3D%3D%3D%20'string'%20%3F%20'_append_html_data'%20%3A%20'_append_json_data'%5D(obj%2C%20typeof%20d%20%3D%3D%3D%20'string'%20%3F%20%24(%24.parseHTML(d)).filter(notTextOrCommentNode)%20%3A%20d%2C%20function%20(status)%20%7B%0D%0A%09%09%09%09%09%09%09callback.call(this%2C%20status)%3B%0D%0A%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%2F%2F%20return%20d%20%3D%3D%3D%20false%20%3F%20callback.call(this%2C%20false)%20%3A%20callback.call(this%2C%20this%5Btypeof%20d%20%3D%3D%3D%20'string'%20%3F%20'_append_html_data'%20%3A%20'_append_json_data'%5D(obj%2C%20typeof%20d%20%3D%3D%3D%20'string'%20%3F%20%24(d)%20%3A%20d))%3B%0D%0A%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(typeof%20s%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09if(s.url)%20%7B%0D%0A%09%09%09%09%09s%20%3D%20%24.extend(true%2C%20%7B%7D%2C%20s)%3B%0D%0A%09%09%09%09%09if(%24.isFunction(s.url))%20%7B%0D%0A%09%09%09%09%09%09s.url%20%3D%20s.url.call(this%2C%20obj)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(%24.isFunction(s.data))%20%7B%0D%0A%09%09%09%09%09%09s.data%20%3D%20s.data.call(this%2C%20obj)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20%24.ajax(s)%0D%0A%09%09%09%09%09%09.done(%24.proxy(function%20(d%2Ct%2Cx)%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20type%20%3D%20x.getResponseHeader('Content-Type')%3B%0D%0A%09%09%09%09%09%09%09%09if((type%20%26%26%20type.indexOf('json')%20!%3D%3D%20-1)%20%7C%7C%20typeof%20d%20%3D%3D%3D%20%22object%22)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09return%20this._append_json_data(obj%2C%20d%2C%20function%20(status)%20%7B%20callback.call(this%2C%20status)%3B%20%7D)%3B%0D%0A%09%09%09%09%09%09%09%09%09%2F%2Freturn%20callback.call(this%2C%20this._append_json_data(obj%2C%20d))%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09if((type%20%26%26%20type.indexOf('html')%20!%3D%3D%20-1)%20%7C%7C%20typeof%20d%20%3D%3D%3D%20%22string%22)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09return%20this._append_html_data(obj%2C%20%24(%24.parseHTML(d)).filter(notTextOrCommentNode)%2C%20function%20(status)%20%7B%20callback.call(this%2C%20status)%3B%20%7D)%3B%0D%0A%09%09%09%09%09%09%09%09%09%2F%2F%20return%20callback.call(this%2C%20this._append_html_data(obj%2C%20%24(d)))%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'ajax'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_04'%2C%20'reason'%20%3A%20'Could%20not%20load%20node'%2C%20'data'%20%3A%20JSON.stringify(%7B%20'id'%20%3A%20obj.id%2C%20'xhr'%20%3A%20x%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09%09%09%09%09return%20callback.call(this%2C%20false)%3B%0D%0A%09%09%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%09%09.fail(%24.proxy(function%20(f)%20%7B%0D%0A%09%09%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'ajax'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_04'%2C%20'reason'%20%3A%20'Could%20not%20load%20node'%2C%20'data'%20%3A%20JSON.stringify(%7B%20'id'%20%3A%20obj.id%2C%20'xhr'%20%3A%20f%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%09%09%09callback.call(this%2C%20false)%3B%0D%0A%09%09%09%09%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(%24.isArray(s))%20%7B%0D%0A%09%09%09%09%09t%20%3D%20%24.extend(true%2C%20%5B%5D%2C%20s)%3B%0D%0A%09%09%09%09%7D%20else%20if%20(%24.isPlainObject(s))%20%7B%0D%0A%09%09%09%09%09t%20%3D%20%24.extend(true%2C%20%7B%7D%2C%20s)%3B%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09t%20%3D%20s%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09return%20this._append_json_data(obj%2C%20t%2C%20function%20(status)%20%7B%0D%0A%09%09%09%09%09%09callback.call(this%2C%20status)%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'nodata'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_05'%2C%20'reason'%20%3A%20'Could%20not%20load%20node'%2C%20'data'%20%3A%20JSON.stringify(%7B%20'id'%20%3A%20obj.id%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09%09return%20callback.call(this%2C%20false)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F%2Freturn%20callback.call(this%2C%20(obj.id%20%3D%3D%3D%20%24.jstree.root%20%3F%20this._append_json_data(obj%2C%20t)%20%3A%20false)%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(typeof%20s%20%3D%3D%3D%20'string')%20%7B%0D%0A%09%09%09%09if(obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09return%20this._append_html_data(obj%2C%20%24(%24.parseHTML(s)).filter(notTextOrCommentNode)%2C%20function%20(status)%20%7B%0D%0A%09%09%09%09%09%09callback.call(this%2C%20status)%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'nodata'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_06'%2C%20'reason'%20%3A%20'Could%20not%20load%20node'%2C%20'data'%20%3A%20JSON.stringify(%7B%20'id'%20%3A%20obj.id%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09%09return%20callback.call(this%2C%20false)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F%2Freturn%20callback.call(this%2C%20(obj.id%20%3D%3D%3D%20%24.jstree.root%20%3F%20this._append_html_data(obj%2C%20%24(s))%20%3A%20false)%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20callback.call(this%2C%20false)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20adds%20a%20node%20to%20the%20list%20of%20nodes%20to%20redraw.%20Used%20only%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_node_changed(obj%20%5B%2C%20callback%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%2F%0D%0A%09%09_node_changed%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%20%20%20%20%20%20if%20(obj%20%26%26%20%24.inArray(obj.id%2C%20this._model.changed)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09this._model.changed.push(obj.id)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20appends%20HTML%20content%20to%20the%20tree.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_append_html_data(obj%2C%20data)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%20to%20append%20to%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20data%20the%20HTML%20string%20to%20parse%20and%20append%0D%0A%09%09%20*%20%40trigger%20model.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09_append_html_data%20%3A%20function%20(dom%2C%20data%2C%20cb)%20%7B%0D%0A%09%09%09dom%20%3D%20this.get_node(dom)%3B%0D%0A%09%09%09dom.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09dom.children_d%20%3D%20%5B%5D%3B%0D%0A%09%09%09var%20dat%20%3D%20data.is('ul')%20%3F%20data.children()%20%3A%20data%2C%0D%0A%09%09%09%09par%20%3D%20dom.id%2C%0D%0A%09%09%09%09chd%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09dpc%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09p%20%3D%20m%5Bpar%5D%2C%0D%0A%09%09%09%09s%20%3D%20this._data.core.selected.length%2C%0D%0A%09%09%09%09tmp%2C%20i%2C%20j%3B%0D%0A%09%09%09dat.each(%24.proxy(function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this._parse_model_from_html(%24(v)%2C%20par%2C%20p.parents.concat())%3B%0D%0A%09%09%09%09if(tmp)%20%7B%0D%0A%09%09%09%09%09chd.push(tmp)%3B%0D%0A%09%09%09%09%09dpc.push(tmp)%3B%0D%0A%09%09%09%09%09if(m%5Btmp%5D.children_d.length)%20%7B%0D%0A%09%09%09%09%09%09dpc%20%3D%20dpc.concat(m%5Btmp%5D.children_d)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09p.children%20%3D%20chd%3B%0D%0A%09%09%09p.children_d%20%3D%20dpc%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09m%5Bp.parents%5Bi%5D%5D.children_d%20%3D%20m%5Bp.parents%5Bi%5D%5D.children_d.concat(dpc)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20new%20data%20is%20inserted%20to%20the%20tree%20model%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20model.jstree%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20nodes%20an%20array%20of%20node%20IDs%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20parent%20the%20parent%20ID%20of%20the%20nodes%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('model'%2C%20%7B%20%22nodes%22%20%3A%20dpc%2C%20'parent'%20%3A%20par%20%7D)%3B%0D%0A%09%09%09if(par%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09this._node_changed(par)%3B%0D%0A%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09this.get_container_ul().children('.jstree-initial-node').remove()%3B%0D%0A%09%09%09%09this.redraw(true)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this._data.core.selected.length%20!%3D%3D%20s)%20%7B%0D%0A%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'model'%2C%20'selected'%20%3A%20this._data.core.selected%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09cb.call(this%2C%20true)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20appends%20JSON%20content%20to%20the%20tree.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_append_json_data(obj%2C%20data)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%20to%20append%20to%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20data%20the%20JSON%20object%20to%20parse%20and%20append%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20force_processing%20internal%20param%20-%20do%20not%20set%0D%0A%09%09%20*%20%40trigger%20model.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09_append_json_data%20%3A%20function%20(dom%2C%20data%2C%20cb%2C%20force_processing)%20%7B%0D%0A%09%09%09if(this.element%20%3D%3D%3D%20null)%20%7B%20return%3B%20%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(dom)%3B%0D%0A%09%09%09dom.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09dom.children_d%20%3D%20%5B%5D%3B%0D%0A%09%09%09%2F%2F%20*%25%24%40!!!%0D%0A%09%09%09if(data.d)%20%7B%0D%0A%09%09%09%09data%20%3D%20data.d%3B%0D%0A%09%09%09%09if(typeof%20data%20%3D%3D%3D%20%22string%22)%20%7B%0D%0A%09%09%09%09%09data%20%3D%20JSON.parse(data)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!%24.isArray(data))%20%7B%20data%20%3D%20%5Bdata%5D%3B%20%7D%0D%0A%09%09%09var%20w%20%3D%20null%2C%0D%0A%09%09%09%09args%20%3D%20%7B%0D%0A%09%09%09%09%09'df'%09%3A%20this._model.default_state%2C%0D%0A%09%09%09%09%09'dat'%09%3A%20data%2C%0D%0A%09%09%09%09%09'par'%09%3A%20dom.id%2C%0D%0A%09%09%09%09%09'm'%09%09%3A%20this._model.data%2C%0D%0A%09%09%09%09%09't_id'%09%3A%20this._id%2C%0D%0A%09%09%09%09%09't_cnt'%09%3A%20this._cnt%2C%0D%0A%09%09%09%09%09'sel'%09%3A%20this._data.core.selected%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09func%20%3D%20function%20(data%2C%20undefined)%20%7B%0D%0A%09%09%09%09%09if(data.data)%20%7B%20data%20%3D%20data.data%3B%20%7D%0D%0A%09%09%09%09%09var%20dat%20%3D%20data.dat%2C%0D%0A%09%09%09%09%09%09par%20%3D%20data.par%2C%0D%0A%09%09%09%09%09%09chd%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09%09%09dpc%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09%09%09add%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09%09%09df%20%3D%20data.df%2C%0D%0A%09%09%09%09%09%09t_id%20%3D%20data.t_id%2C%0D%0A%09%09%09%09%09%09t_cnt%20%3D%20data.t_cnt%2C%0D%0A%09%09%09%09%09%09m%20%3D%20data.m%2C%0D%0A%09%09%09%09%09%09p%20%3D%20m%5Bpar%5D%2C%0D%0A%09%09%09%09%09%09sel%20%3D%20data.sel%2C%0D%0A%09%09%09%09%09%09tmp%2C%20i%2C%20j%2C%20rslt%2C%0D%0A%09%09%09%09%09%09parse_flat%20%3D%20function%20(d%2C%20p%2C%20ps)%20%7B%0D%0A%09%09%09%09%09%09%09if(!ps)%20%7B%20ps%20%3D%20%5B%5D%3B%20%7D%0D%0A%09%09%09%09%09%09%09else%20%7B%20ps%20%3D%20ps.concat()%3B%20%7D%0D%0A%09%09%09%09%09%09%09if(p)%20%7B%20ps.unshift(p)%3B%20%7D%0D%0A%09%09%09%09%09%09%09var%20tid%20%3D%20d.id.toString()%2C%0D%0A%09%09%09%09%09%09%09%09i%2C%20j%2C%20c%2C%20e%2C%0D%0A%09%09%09%09%09%09%09%09tmp%20%3D%20%7B%0D%0A%09%09%09%09%09%09%09%09%09id%09%09%09%3A%20tid%2C%0D%0A%09%09%09%09%09%09%09%09%09text%09%09%3A%20d.text%20%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09%09%09%09icon%09%09%3A%20d.icon%20!%3D%3D%20undefined%20%3F%20d.icon%20%3A%20true%2C%0D%0A%09%09%09%09%09%09%09%09%09parent%09%09%3A%20p%2C%0D%0A%09%09%09%09%09%09%09%09%09parents%09%09%3A%20ps%2C%0D%0A%09%09%09%09%09%09%09%09%09children%09%3A%20d.children%20%7C%7C%20%5B%5D%2C%0D%0A%09%09%09%09%09%09%09%09%09children_d%09%3A%20d.children_d%20%7C%7C%20%5B%5D%2C%0D%0A%09%09%09%09%09%09%09%09%09data%09%09%3A%20d.data%2C%0D%0A%09%09%09%09%09%09%09%09%09state%09%09%3A%20%7B%20%7D%2C%0D%0A%09%09%09%09%09%09%09%09%09li_attr%09%09%3A%20%7B%20id%20%3A%20false%20%7D%2C%0D%0A%09%09%09%09%09%09%09%09%09a_attr%09%09%3A%20%7B%20href%20%3A%20'%23'%20%7D%2C%0D%0A%09%09%09%09%09%09%09%09%09original%09%3A%20false%0D%0A%09%09%09%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%09%09%09for(i%20in%20df)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(df.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20df%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.data%20%26%26%20d.data.jstree%20%26%26%20d.data.jstree.icon)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.icon%20%3D%20d.data.jstree.icon%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(tmp.icon%20%3D%3D%3D%20undefined%20%7C%7C%20tmp.icon%20%3D%3D%3D%20null%20%7C%7C%20tmp.icon%20%3D%3D%3D%20%22%22)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.icon%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.data)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.data%20%3D%20d.data%3B%0D%0A%09%09%09%09%09%09%09%09if(d.data.jstree)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09for(i%20in%20d.data.jstree)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09if(d.data.jstree.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.data.jstree%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20typeof%20d.state%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(i%20in%20d.state)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(d.state.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.state%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20typeof%20d.li_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(i%20in%20d.li_attr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(d.li_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.li_attr%5Bi%5D%20%3D%20d.li_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(!tmp.li_attr.id)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.li_attr.id%20%3D%20tid%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20typeof%20d.a_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(i%20in%20d.a_attr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(d.a_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.a_attr%5Bi%5D%20%3D%20d.a_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.children%20%26%26%20d.children%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.state.loaded%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%09tmp.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09%09tmp.children_d%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09m%5Btmp.id%5D%20%3D%20tmp%3B%0D%0A%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09c%20%3D%20parse_flat(m%5Btmp.children%5Bi%5D%5D%2C%20tmp.id%2C%20ps)%3B%0D%0A%09%09%09%09%09%09%09%09e%20%3D%20m%5Bc%5D%3B%0D%0A%09%09%09%09%09%09%09%09tmp.children_d.push(c)%3B%0D%0A%09%09%09%09%09%09%09%09if(e.children_d.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09tmp.children_d%20%3D%20tmp.children_d.concat(e.children_d)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09delete%20d.data%3B%0D%0A%09%09%09%09%09%09%09delete%20d.children%3B%0D%0A%09%09%09%09%09%09%09m%5Btmp.id%5D.original%20%3D%20d%3B%0D%0A%09%09%09%09%09%09%09if(tmp.state.selected)%20%7B%0D%0A%09%09%09%09%09%09%09%09add.push(tmp.id)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09return%20tmp.id%3B%0D%0A%09%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%09parse_nest%20%3D%20function%20(d%2C%20p%2C%20ps)%20%7B%0D%0A%09%09%09%09%09%09%09if(!ps)%20%7B%20ps%20%3D%20%5B%5D%3B%20%7D%0D%0A%09%09%09%09%09%09%09else%20%7B%20ps%20%3D%20ps.concat()%3B%20%7D%0D%0A%09%09%09%09%09%09%09if(p)%20%7B%20ps.unshift(p)%3B%20%7D%0D%0A%09%09%09%09%09%09%09var%20tid%20%3D%20false%2C%20i%2C%20j%2C%20c%2C%20e%2C%20tmp%3B%0D%0A%09%09%09%09%09%09%09do%20%7B%0D%0A%09%09%09%09%09%09%09%09tid%20%3D%20'j'%20%2B%20t_id%20%2B%20'_'%20%2B%20(%2B%2Bt_cnt)%3B%0D%0A%09%09%09%09%09%09%09%7D%20while(m%5Btid%5D)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09tmp%20%3D%20%7B%0D%0A%09%09%09%09%09%09%09%09id%09%09%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%09text%09%09%3A%20typeof%20d%20%3D%3D%3D%20'string'%20%3F%20d%20%3A%20''%2C%0D%0A%09%09%09%09%09%09%09%09icon%09%09%3A%20typeof%20d%20%3D%3D%3D%20'object'%20%26%26%20d.icon%20!%3D%3D%20undefined%20%3F%20d.icon%20%3A%20true%2C%0D%0A%09%09%09%09%09%09%09%09parent%09%09%3A%20p%2C%0D%0A%09%09%09%09%09%09%09%09parents%09%09%3A%20ps%2C%0D%0A%09%09%09%09%09%09%09%09children%09%3A%20%5B%5D%2C%0D%0A%09%09%09%09%09%09%09%09children_d%09%3A%20%5B%5D%2C%0D%0A%09%09%09%09%09%09%09%09data%09%09%3A%20null%2C%0D%0A%09%09%09%09%09%09%09%09state%09%09%3A%20%7B%20%7D%2C%0D%0A%09%09%09%09%09%09%09%09li_attr%09%09%3A%20%7B%20id%20%3A%20false%20%7D%2C%0D%0A%09%09%09%09%09%09%09%09a_attr%09%09%3A%20%7B%20href%20%3A%20'%23'%20%7D%2C%0D%0A%09%09%09%09%09%09%09%09original%09%3A%20false%0D%0A%09%09%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%09%09%09for(i%20in%20df)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(df.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20df%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.id)%20%7B%20tmp.id%20%3D%20d.id.toString()%3B%20%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.text)%20%7B%20tmp.text%20%3D%20d.text%3B%20%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.data%20%26%26%20d.data.jstree%20%26%26%20d.data.jstree.icon)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.icon%20%3D%20d.data.jstree.icon%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(tmp.icon%20%3D%3D%3D%20undefined%20%7C%7C%20tmp.icon%20%3D%3D%3D%20null%20%7C%7C%20tmp.icon%20%3D%3D%3D%20%22%22)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.icon%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.data)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.data%20%3D%20d.data%3B%0D%0A%09%09%09%09%09%09%09%09if(d.data.jstree)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09for(i%20in%20d.data.jstree)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09if(d.data.jstree.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.data.jstree%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20typeof%20d.state%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(i%20in%20d.state)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(d.state.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.state%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20typeof%20d.li_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(i%20in%20d.li_attr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(d.li_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.li_attr%5Bi%5D%20%3D%20d.li_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(tmp.li_attr.id%20%26%26%20!tmp.id)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.id%20%3D%20tmp.li_attr.id.toString()%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(!tmp.id)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.id%20%3D%20tid%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(!tmp.li_attr.id)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.li_attr.id%20%3D%20tmp.id%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20typeof%20d.a_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(i%20in%20d.a_attr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(d.a_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.a_attr%5Bi%5D%20%3D%20d.a_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.children%20%26%26%20d.children.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20d.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09c%20%3D%20parse_nest(d.children%5Bi%5D%2C%20tmp.id%2C%20ps)%3B%0D%0A%09%09%09%09%09%09%09%09%09e%20%3D%20m%5Bc%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09tmp.children.push(c)%3B%0D%0A%09%09%09%09%09%09%09%09%09if(e.children_d.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.children_d%20%3D%20tmp.children_d.concat(e.children_d)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09tmp.children_d%20%3D%20tmp.children_d.concat(tmp.children)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.children%20%26%26%20d.children%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.state.loaded%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%09tmp.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09%09tmp.children_d%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09delete%20d.data%3B%0D%0A%09%09%09%09%09%09%09delete%20d.children%3B%0D%0A%09%09%09%09%09%09%09tmp.original%20%3D%20d%3B%0D%0A%09%09%09%09%09%09%09m%5Btmp.id%5D%20%3D%20tmp%3B%0D%0A%09%09%09%09%09%09%09if(tmp.state.selected)%20%7B%0D%0A%09%09%09%09%09%09%09%09add.push(tmp.id)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09return%20tmp.id%3B%0D%0A%09%09%09%09%09%09%7D%3B%0D%0A%0D%0A%09%09%09%09%09if(dat.length%20%26%26%20dat%5B0%5D.id%20!%3D%3D%20undefined%20%26%26%20dat%5B0%5D.parent%20!%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%2F%2F%20Flat%20JSON%20support%20(for%20easy%20import%20from%20DB)%3A%0D%0A%09%09%09%09%09%09%2F%2F%201)%20convert%20to%20object%20(foreach)%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dat.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09if(!dat%5Bi%5D.children)%20%7B%0D%0A%09%09%09%09%09%09%09%09dat%5Bi%5D.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(!dat%5Bi%5D.state)%20%7B%0D%0A%09%09%09%09%09%09%09%09dat%5Bi%5D.state%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09m%5Bdat%5Bi%5D.id.toString()%5D%20%3D%20dat%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%2F%2F%202)%20populate%20children%20(foreach)%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dat.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09if%20(!m%5Bdat%5Bi%5D.parent.toString()%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09%2F%2Fthis._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'parse'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_07'%2C%20'reason'%20%3A%20'Node%20with%20invalid%20parent'%2C%20'data'%20%3A%20JSON.stringify(%7B%20'id'%20%3A%20dat%5Bi%5D.id.toString()%2C%20'parent'%20%3A%20dat%5Bi%5D.parent.toString()%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%09%09%09%2F%2Fthis.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09m%5Bdat%5Bi%5D.parent.toString()%5D.children.push(dat%5Bi%5D.id.toString())%3B%0D%0A%09%09%09%09%09%09%09%2F%2F%20populate%20parent.children_d%0D%0A%09%09%09%09%09%09%09p.children_d.push(dat%5Bi%5D.id.toString())%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%2F%2F%203)%20normalize%20%26%26%20populate%20parents%20and%20children_d%20with%20recursion%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09tmp%20%3D%20parse_flat(m%5Bp.children%5Bi%5D%5D%2C%20par%2C%20p.parents.concat())%3B%0D%0A%09%09%09%09%09%09%09dpc.push(tmp)%3B%0D%0A%09%09%09%09%09%09%09if(m%5Btmp%5D.children_d.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09dpc%20%3D%20dpc.concat(m%5Btmp%5D.children_d)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bp.parents%5Bi%5D%5D.children_d%20%3D%20m%5Bp.parents%5Bi%5D%5D.children_d.concat(dpc)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%2F%2F%20%3F)%20three_state%20selection%20-%20p.state.selected%20%26%26%20t%20-%20(if%20three_state%20foreach(dat%20%3D%3E%20ch)%20-%3E%20foreach(parents)%20if(parent.selected)%20child.selected%20%3D%20true%3B%0D%0A%09%09%09%09%09%09rslt%20%3D%20%7B%0D%0A%09%09%09%09%09%09%09'cnt'%20%3A%20t_cnt%2C%0D%0A%09%09%09%09%09%09%09'mod'%20%3A%20m%2C%0D%0A%09%09%09%09%09%09%09'sel'%20%3A%20sel%2C%0D%0A%09%09%09%09%09%09%09'par'%20%3A%20par%2C%0D%0A%09%09%09%09%09%09%09'dpc'%20%3A%20dpc%2C%0D%0A%09%09%09%09%09%09%09'add'%20%3A%20add%0D%0A%09%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dat.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09tmp%20%3D%20parse_nest(dat%5Bi%5D%2C%20par%2C%20p.parents.concat())%3B%0D%0A%09%09%09%09%09%09%09if(tmp)%20%7B%0D%0A%09%09%09%09%09%09%09%09chd.push(tmp)%3B%0D%0A%09%09%09%09%09%09%09%09dpc.push(tmp)%3B%0D%0A%09%09%09%09%09%09%09%09if(m%5Btmp%5D.children_d.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09dpc%20%3D%20dpc.concat(m%5Btmp%5D.children_d)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09p.children%20%3D%20chd%3B%0D%0A%09%09%09%09%09%09p.children_d%20%3D%20dpc%3B%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bp.parents%5Bi%5D%5D.children_d%20%3D%20m%5Bp.parents%5Bi%5D%5D.children_d.concat(dpc)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09rslt%20%3D%20%7B%0D%0A%09%09%09%09%09%09%09'cnt'%20%3A%20t_cnt%2C%0D%0A%09%09%09%09%09%09%09'mod'%20%3A%20m%2C%0D%0A%09%09%09%09%09%09%09'sel'%20%3A%20sel%2C%0D%0A%09%09%09%09%09%09%09'par'%20%3A%20par%2C%0D%0A%09%09%09%09%09%09%09'dpc'%20%3A%20dpc%2C%0D%0A%09%09%09%09%09%09%09'add'%20%3A%20add%0D%0A%09%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(typeof%20window%20%3D%3D%3D%20'undefined'%20%7C%7C%20typeof%20window.document%20%3D%3D%3D%20'undefined')%20%7B%0D%0A%09%09%09%09%09%09postMessage(rslt)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09return%20rslt%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09rslt%20%3D%20function%20(rslt%2C%20worker)%20%7B%0D%0A%09%09%09%09%09if(this.element%20%3D%3D%3D%20null)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%09this._cnt%20%3D%20rslt.cnt%3B%0D%0A%09%09%09%09%09var%20i%2C%20m%20%3D%20this._model.data%3B%0D%0A%09%09%09%09%09for%20(i%20in%20m)%20%7B%0D%0A%09%09%09%09%09%09if%20(m.hasOwnProperty(i)%20%26%26%20m%5Bi%5D.state%20%26%26%20m%5Bi%5D.state.loading%20%26%26%20rslt.mod%5Bi%5D)%20%7B%0D%0A%09%09%09%09%09%09%09rslt.mod%5Bi%5D.state.loading%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09this._model.data%20%3D%20rslt.mod%3B%20%2F%2F%20breaks%20the%20reference%20in%20load_node%20-%20careful%0D%0A%0D%0A%09%09%09%09%09if(worker)%20%7B%0D%0A%09%09%09%09%09%09var%20j%2C%20a%20%3D%20rslt.add%2C%20r%20%3D%20rslt.sel%2C%20s%20%3D%20this._data.core.selected.slice()%3B%0D%0A%09%09%09%09%09%09m%20%3D%20this._model.data%3B%0D%0A%09%09%09%09%09%09%2F%2F%20if%20selection%20was%20changed%20while%20calculating%20in%20worker%0D%0A%09%09%09%09%09%09if(r.length%20!%3D%3D%20s.length%20%7C%7C%20%24.vakata.array_unique(r.concat(s)).length%20!%3D%3D%20r.length)%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20deselect%20nodes%20that%20are%20no%20longer%20selected%0D%0A%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20r.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(%24.inArray(r%5Bi%5D%2C%20a)%20%3D%3D%3D%20-1%20%26%26%20%24.inArray(r%5Bi%5D%2C%20s)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09m%5Br%5Bi%5D%5D.state.selected%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%2F%2F%20select%20nodes%20that%20were%20selected%20in%20the%20mean%20time%0D%0A%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20s.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(%24.inArray(s%5Bi%5D%2C%20r)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09m%5Bs%5Bi%5D%5D.state.selected%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(rslt.add.length)%20%7B%0D%0A%09%09%09%09%09%09this._data.core.selected%20%3D%20this._data.core.selected.concat(rslt.add)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09this.trigger('model'%2C%20%7B%20%22nodes%22%20%3A%20rslt.dpc%2C%20'parent'%20%3A%20rslt.par%20%7D)%3B%0D%0A%0D%0A%09%09%09%09%09if(rslt.par%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09this._node_changed(rslt.par)%3B%0D%0A%09%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%2F%2F%20this.get_container_ul().children('.jstree-initial-node').remove()%3B%0D%0A%09%09%09%09%09%09this.redraw(true)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(rslt.add.length)%20%7B%0D%0A%09%09%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'model'%2C%20'selected'%20%3A%20this._data.core.selected%20%7D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09cb.call(this%2C%20true)%3B%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09if(this.settings.core.worker%20%26%26%20window.Blob%20%26%26%20window.URL%20%26%26%20window.Worker)%20%7B%0D%0A%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09if(this._wrk%20%3D%3D%3D%20null)%20%7B%0D%0A%09%09%09%09%09%09this._wrk%20%3D%20window.URL.createObjectURL(%0D%0A%09%09%09%09%09%09%09new%20window.Blob(%0D%0A%09%09%09%09%09%09%09%09%5B'self.onmessage%20%3D%20'%20%2B%20func.toString()%5D%2C%0D%0A%09%09%09%09%09%09%09%09%7Btype%3A%22text%2Fjavascript%22%7D%0D%0A%09%09%09%09%09%09%09)%0D%0A%09%09%09%09%09%09)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(!this._data.core.working%20%7C%7C%20force_processing)%20%7B%0D%0A%09%09%09%09%09%09this._data.core.working%20%3D%20true%3B%0D%0A%09%09%09%09%09%09w%20%3D%20new%20window.Worker(this._wrk)%3B%0D%0A%09%09%09%09%09%09w.onmessage%20%3D%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09%09rslt.call(this%2C%20e.data%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09try%20%7B%20w.terminate()%3B%20w%20%3D%20null%3B%20%7D%20catch(ignore)%20%7B%20%7D%0D%0A%09%09%09%09%09%09%09if(this._data.core.worker_queue.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09this._append_json_data.apply(this%2C%20this._data.core.worker_queue.shift())%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09this._data.core.working%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%2C%20this)%3B%0D%0A%09%09%09%09%09%09if(!args.par)%20%7B%0D%0A%09%09%09%09%09%09%09if(this._data.core.worker_queue.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09this._append_json_data.apply(this%2C%20this._data.core.worker_queue.shift())%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09this._data.core.working%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09w.postMessage(args)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09this._data.core.worker_queue.push(%5Bdom%2C%20data%2C%20cb%2C%20true%5D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09catch(e)%20%7B%0D%0A%09%09%09%09%09rslt.call(this%2C%20func(args)%2C%20false)%3B%0D%0A%09%09%09%09%09if(this._data.core.worker_queue.length)%20%7B%0D%0A%09%09%09%09%09%09this._append_json_data.apply(this%2C%20this._data.core.worker_queue.shift())%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09this._data.core.working%20%3D%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09rslt.call(this%2C%20func(args)%2C%20false)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20parses%20a%20node%20from%20a%20jQuery%20object%20and%20appends%20them%20to%20the%20in%20memory%20tree%20model.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_parse_model_from_html(d%20%5B%2C%20p%2C%20ps%5D)%0D%0A%09%09%20*%20%40param%20%20%7BjQuery%7D%20d%20the%20jQuery%20object%20to%20parse%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20p%20the%20parent%20ID%0D%0A%09%09%20*%20%40param%20%20%7BArray%7D%20ps%20list%20of%20all%20parents%0D%0A%09%09%20*%20%40return%20%7BString%7D%20the%20ID%20of%20the%20object%20added%20to%20the%20model%0D%0A%09%09%20*%2F%0D%0A%09%09_parse_model_from_html%20%3A%20function%20(d%2C%20p%2C%20ps)%20%7B%0D%0A%09%09%09if(!ps)%20%7B%20ps%20%3D%20%5B%5D%3B%20%7D%0D%0A%09%09%09else%20%7B%20ps%20%3D%20%5B%5D.concat(ps)%3B%20%7D%0D%0A%09%09%09if(p)%20%7B%20ps.unshift(p)%3B%20%7D%0D%0A%09%09%09var%20c%2C%20e%2C%20m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09data%20%3D%20%7B%0D%0A%09%09%09%09%09id%09%09%09%3A%20false%2C%0D%0A%09%09%09%09%09text%09%09%3A%20false%2C%0D%0A%09%09%09%09%09icon%09%09%3A%20true%2C%0D%0A%09%09%09%09%09parent%09%09%3A%20p%2C%0D%0A%09%09%09%09%09parents%09%09%3A%20ps%2C%0D%0A%09%09%09%09%09children%09%3A%20%5B%5D%2C%0D%0A%09%09%09%09%09children_d%09%3A%20%5B%5D%2C%0D%0A%09%09%09%09%09data%09%09%3A%20null%2C%0D%0A%09%09%09%09%09state%09%09%3A%20%7B%20%7D%2C%0D%0A%09%09%09%09%09li_attr%09%09%3A%20%7B%20id%20%3A%20false%20%7D%2C%0D%0A%09%09%09%09%09a_attr%09%09%3A%20%7B%20href%20%3A%20'%23'%20%7D%2C%0D%0A%09%09%09%09%09original%09%3A%20false%0D%0A%09%09%09%09%7D%2C%20i%2C%20tmp%2C%20tid%3B%0D%0A%09%09%09for(i%20in%20this._model.default_state)%20%7B%0D%0A%09%09%09%09if(this._model.default_state.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09data.state%5Bi%5D%20%3D%20this._model.default_state%5Bi%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20%24.vakata.attributes(d%2C%20true)%3B%0D%0A%09%09%09%24.each(tmp%2C%20function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09v%20%3D%20%24.trim(v)%3B%0D%0A%09%09%09%09if(!v.length)%20%7B%20return%20true%3B%20%7D%0D%0A%09%09%09%09data.li_attr%5Bi%5D%20%3D%20v%3B%0D%0A%09%09%09%09if(i%20%3D%3D%3D%20'id')%20%7B%0D%0A%09%09%09%09%09data.id%20%3D%20v.toString()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%09tmp%20%3D%20d.children('a').first()%3B%0D%0A%09%09%09if(tmp.length)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20%24.vakata.attributes(tmp%2C%20true)%3B%0D%0A%09%09%09%09%24.each(tmp%2C%20function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09v%20%3D%20%24.trim(v)%3B%0D%0A%09%09%09%09%09if(v.length)%20%7B%0D%0A%09%09%09%09%09%09data.a_attr%5Bi%5D%20%3D%20v%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20d.children(%22a%22).first().length%20%3F%20d.children(%22a%22).first().clone()%20%3A%20d.clone()%3B%0D%0A%09%09%09tmp.children(%22ins%2C%20i%2C%20ul%22).remove()%3B%0D%0A%09%09%09tmp%20%3D%20tmp.html()%3B%0D%0A%09%09%09tmp%20%3D%20%24('%3Cdiv%20%2F%3E').html(tmp)%3B%0D%0A%09%09%09data.text%20%3D%20this.settings.core.force_text%20%3F%20tmp.text()%20%3A%20tmp.html()%3B%0D%0A%09%09%09tmp%20%3D%20d.data()%3B%0D%0A%09%09%09data.data%20%3D%20tmp%20%3F%20%24.extend(true%2C%20%7B%7D%2C%20tmp)%20%3A%20null%3B%0D%0A%09%09%09data.state.opened%20%3D%20d.hasClass('jstree-open')%3B%0D%0A%09%09%09data.state.selected%20%3D%20d.children('a').hasClass('jstree-clicked')%3B%0D%0A%09%09%09data.state.disabled%20%3D%20d.children('a').hasClass('jstree-disabled')%3B%0D%0A%09%09%09if(data.data%20%26%26%20data.data.jstree)%20%7B%0D%0A%09%09%09%09for(i%20in%20data.data.jstree)%20%7B%0D%0A%09%09%09%09%09if(data.data.jstree.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09data.state%5Bi%5D%20%3D%20data.data.jstree%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20d.children(%22a%22).children(%22.jstree-themeicon%22)%3B%0D%0A%09%09%09if(tmp.length)%20%7B%0D%0A%09%09%09%09data.icon%20%3D%20tmp.hasClass('jstree-themeicon-hidden')%20%3F%20false%20%3A%20tmp.attr('rel')%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(data.state.icon%20!%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09data.icon%20%3D%20data.state.icon%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(data.icon%20%3D%3D%3D%20undefined%20%7C%7C%20data.icon%20%3D%3D%3D%20null%20%7C%7C%20data.icon%20%3D%3D%3D%20%22%22)%20%7B%0D%0A%09%09%09%09data.icon%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20d.children(%22ul%22).children(%22li%22)%3B%0D%0A%09%09%09do%20%7B%0D%0A%09%09%09%09tid%20%3D%20'j'%20%2B%20this._id%20%2B%20'_'%20%2B%20(%2B%2Bthis._cnt)%3B%0D%0A%09%09%09%7D%20while(m%5Btid%5D)%3B%0D%0A%09%09%09data.id%20%3D%20data.li_attr.id%20%3F%20data.li_attr.id.toString()%20%3A%20tid%3B%0D%0A%09%09%09if(tmp.length)%20%7B%0D%0A%09%09%09%09tmp.each(%24.proxy(function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09c%20%3D%20this._parse_model_from_html(%24(v)%2C%20data.id%2C%20ps)%3B%0D%0A%09%09%09%09%09e%20%3D%20this._model.data%5Bc%5D%3B%0D%0A%09%09%09%09%09data.children.push(c)%3B%0D%0A%09%09%09%09%09if(e.children_d.length)%20%7B%0D%0A%09%09%09%09%09%09data.children_d%20%3D%20data.children_d.concat(e.children_d)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09data.children_d%20%3D%20data.children_d.concat(data.children)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09if(d.hasClass('jstree-closed'))%20%7B%0D%0A%09%09%09%09%09data.state.loaded%20%3D%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(data.li_attr%5B'class'%5D)%20%7B%0D%0A%09%09%09%09data.li_attr%5B'class'%5D%20%3D%20data.li_attr%5B'class'%5D.replace('jstree-closed'%2C'').replace('jstree-open'%2C'')%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(data.a_attr%5B'class'%5D)%20%7B%0D%0A%09%09%09%09data.a_attr%5B'class'%5D%20%3D%20data.a_attr%5B'class'%5D.replace('jstree-clicked'%2C'').replace('jstree-disabled'%2C'')%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09m%5Bdata.id%5D%20%3D%20data%3B%0D%0A%09%09%09if(data.state.selected)%20%7B%0D%0A%09%09%09%09this._data.core.selected.push(data.id)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20data.id%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20parses%20a%20node%20from%20a%20JSON%20object%20(used%20when%20dealing%20with%20flat%20data%2C%20which%20has%20no%20nesting%20of%20children%2C%20but%20has%20id%20and%20parent%20properties)%20and%20appends%20it%20to%20the%20in%20memory%20tree%20model.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_parse_model_from_flat_json(d%20%5B%2C%20p%2C%20ps%5D)%0D%0A%09%09%20*%20%40param%20%20%7BObject%7D%20d%20the%20JSON%20object%20to%20parse%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20p%20the%20parent%20ID%0D%0A%09%09%20*%20%40param%20%20%7BArray%7D%20ps%20list%20of%20all%20parents%0D%0A%09%09%20*%20%40return%20%7BString%7D%20the%20ID%20of%20the%20object%20added%20to%20the%20model%0D%0A%09%09%20*%2F%0D%0A%09%09_parse_model_from_flat_json%20%3A%20function%20(d%2C%20p%2C%20ps)%20%7B%0D%0A%09%09%09if(!ps)%20%7B%20ps%20%3D%20%5B%5D%3B%20%7D%0D%0A%09%09%09else%20%7B%20ps%20%3D%20ps.concat()%3B%20%7D%0D%0A%09%09%09if(p)%20%7B%20ps.unshift(p)%3B%20%7D%0D%0A%09%09%09var%20tid%20%3D%20d.id.toString()%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09df%20%3D%20this._model.default_state%2C%0D%0A%09%09%09%09i%2C%20j%2C%20c%2C%20e%2C%0D%0A%09%09%09%09tmp%20%3D%20%7B%0D%0A%09%09%09%09%09id%09%09%09%3A%20tid%2C%0D%0A%09%09%09%09%09text%09%09%3A%20d.text%20%7C%7C%20''%2C%0D%0A%09%09%09%09%09icon%09%09%3A%20d.icon%20!%3D%3D%20undefined%20%3F%20d.icon%20%3A%20true%2C%0D%0A%09%09%09%09%09parent%09%09%3A%20p%2C%0D%0A%09%09%09%09%09parents%09%09%3A%20ps%2C%0D%0A%09%09%09%09%09children%09%3A%20d.children%20%7C%7C%20%5B%5D%2C%0D%0A%09%09%09%09%09children_d%09%3A%20d.children_d%20%7C%7C%20%5B%5D%2C%0D%0A%09%09%09%09%09data%09%09%3A%20d.data%2C%0D%0A%09%09%09%09%09state%09%09%3A%20%7B%20%7D%2C%0D%0A%09%09%09%09%09li_attr%09%09%3A%20%7B%20id%20%3A%20false%20%7D%2C%0D%0A%09%09%09%09%09a_attr%09%09%3A%20%7B%20href%20%3A%20'%23'%20%7D%2C%0D%0A%09%09%09%09%09original%09%3A%20false%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09for(i%20in%20df)%20%7B%0D%0A%09%09%09%09if(df.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20df%5Bi%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20d.data%20%26%26%20d.data.jstree%20%26%26%20d.data.jstree.icon)%20%7B%0D%0A%09%09%09%09tmp.icon%20%3D%20d.data.jstree.icon%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(tmp.icon%20%3D%3D%3D%20undefined%20%7C%7C%20tmp.icon%20%3D%3D%3D%20null%20%7C%7C%20tmp.icon%20%3D%3D%3D%20%22%22)%20%7B%0D%0A%09%09%09%09tmp.icon%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20d.data)%20%7B%0D%0A%09%09%09%09tmp.data%20%3D%20d.data%3B%0D%0A%09%09%09%09if(d.data.jstree)%20%7B%0D%0A%09%09%09%09%09for(i%20in%20d.data.jstree)%20%7B%0D%0A%09%09%09%09%09%09if(d.data.jstree.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.data.jstree%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20typeof%20d.state%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(i%20in%20d.state)%20%7B%0D%0A%09%09%09%09%09if(d.state.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.state%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20typeof%20d.li_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(i%20in%20d.li_attr)%20%7B%0D%0A%09%09%09%09%09if(d.li_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09tmp.li_attr%5Bi%5D%20%3D%20d.li_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!tmp.li_attr.id)%20%7B%0D%0A%09%09%09%09tmp.li_attr.id%20%3D%20tid%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20typeof%20d.a_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(i%20in%20d.a_attr)%20%7B%0D%0A%09%09%09%09%09if(d.a_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09tmp.a_attr%5Bi%5D%20%3D%20d.a_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20d.children%20%26%26%20d.children%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09tmp.state.loaded%20%3D%20false%3B%0D%0A%09%09%09%09tmp.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09tmp.children_d%20%3D%20%5B%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09m%5Btmp.id%5D%20%3D%20tmp%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09c%20%3D%20this._parse_model_from_flat_json(m%5Btmp.children%5Bi%5D%5D%2C%20tmp.id%2C%20ps)%3B%0D%0A%09%09%09%09e%20%3D%20m%5Bc%5D%3B%0D%0A%09%09%09%09tmp.children_d.push(c)%3B%0D%0A%09%09%09%09if(e.children_d.length)%20%7B%0D%0A%09%09%09%09%09tmp.children_d%20%3D%20tmp.children_d.concat(e.children_d)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09delete%20d.data%3B%0D%0A%09%09%09delete%20d.children%3B%0D%0A%09%09%09m%5Btmp.id%5D.original%20%3D%20d%3B%0D%0A%09%09%09if(tmp.state.selected)%20%7B%0D%0A%09%09%09%09this._data.core.selected.push(tmp.id)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20tmp.id%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20parses%20a%20node%20from%20a%20JSON%20object%20and%20appends%20it%20to%20the%20in%20memory%20tree%20model.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_parse_model_from_json(d%20%5B%2C%20p%2C%20ps%5D)%0D%0A%09%09%20*%20%40param%20%20%7BObject%7D%20d%20the%20JSON%20object%20to%20parse%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20p%20the%20parent%20ID%0D%0A%09%09%20*%20%40param%20%20%7BArray%7D%20ps%20list%20of%20all%20parents%0D%0A%09%09%20*%20%40return%20%7BString%7D%20the%20ID%20of%20the%20object%20added%20to%20the%20model%0D%0A%09%09%20*%2F%0D%0A%09%09_parse_model_from_json%20%3A%20function%20(d%2C%20p%2C%20ps)%20%7B%0D%0A%09%09%09if(!ps)%20%7B%20ps%20%3D%20%5B%5D%3B%20%7D%0D%0A%09%09%09else%20%7B%20ps%20%3D%20ps.concat()%3B%20%7D%0D%0A%09%09%09if(p)%20%7B%20ps.unshift(p)%3B%20%7D%0D%0A%09%09%09var%20tid%20%3D%20false%2C%20i%2C%20j%2C%20c%2C%20e%2C%20m%20%3D%20this._model.data%2C%20df%20%3D%20this._model.default_state%2C%20tmp%3B%0D%0A%09%09%09do%20%7B%0D%0A%09%09%09%09tid%20%3D%20'j'%20%2B%20this._id%20%2B%20'_'%20%2B%20(%2B%2Bthis._cnt)%3B%0D%0A%09%09%09%7D%20while(m%5Btid%5D)%3B%0D%0A%0D%0A%09%09%09tmp%20%3D%20%7B%0D%0A%09%09%09%09id%09%09%09%3A%20false%2C%0D%0A%09%09%09%09text%09%09%3A%20typeof%20d%20%3D%3D%3D%20'string'%20%3F%20d%20%3A%20''%2C%0D%0A%09%09%09%09icon%09%09%3A%20typeof%20d%20%3D%3D%3D%20'object'%20%26%26%20d.icon%20!%3D%3D%20undefined%20%3F%20d.icon%20%3A%20true%2C%0D%0A%09%09%09%09parent%09%09%3A%20p%2C%0D%0A%09%09%09%09parents%09%09%3A%20ps%2C%0D%0A%09%09%09%09children%09%3A%20%5B%5D%2C%0D%0A%09%09%09%09children_d%09%3A%20%5B%5D%2C%0D%0A%09%09%09%09data%09%09%3A%20null%2C%0D%0A%09%09%09%09state%09%09%3A%20%7B%20%7D%2C%0D%0A%09%09%09%09li_attr%09%09%3A%20%7B%20id%20%3A%20false%20%7D%2C%0D%0A%09%09%09%09a_attr%09%09%3A%20%7B%20href%20%3A%20'%23'%20%7D%2C%0D%0A%09%09%09%09original%09%3A%20false%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09for(i%20in%20df)%20%7B%0D%0A%09%09%09%09if(df.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20df%5Bi%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20d.id)%20%7B%20tmp.id%20%3D%20d.id.toString()%3B%20%7D%0D%0A%09%09%09if(d%20%26%26%20d.text)%20%7B%20tmp.text%20%3D%20d.text%3B%20%7D%0D%0A%09%09%09if(d%20%26%26%20d.data%20%26%26%20d.data.jstree%20%26%26%20d.data.jstree.icon)%20%7B%0D%0A%09%09%09%09tmp.icon%20%3D%20d.data.jstree.icon%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(tmp.icon%20%3D%3D%3D%20undefined%20%7C%7C%20tmp.icon%20%3D%3D%3D%20null%20%7C%7C%20tmp.icon%20%3D%3D%3D%20%22%22)%20%7B%0D%0A%09%09%09%09tmp.icon%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20d.data)%20%7B%0D%0A%09%09%09%09tmp.data%20%3D%20d.data%3B%0D%0A%09%09%09%09if(d.data.jstree)%20%7B%0D%0A%09%09%09%09%09for(i%20in%20d.data.jstree)%20%7B%0D%0A%09%09%09%09%09%09if(d.data.jstree.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.data.jstree%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20typeof%20d.state%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(i%20in%20d.state)%20%7B%0D%0A%09%09%09%09%09if(d.state.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20d.state%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20typeof%20d.li_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(i%20in%20d.li_attr)%20%7B%0D%0A%09%09%09%09%09if(d.li_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09tmp.li_attr%5Bi%5D%20%3D%20d.li_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(tmp.li_attr.id%20%26%26%20!tmp.id)%20%7B%0D%0A%09%09%09%09tmp.id%20%3D%20tmp.li_attr.id.toString()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!tmp.id)%20%7B%0D%0A%09%09%09%09tmp.id%20%3D%20tid%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!tmp.li_attr.id)%20%7B%0D%0A%09%09%09%09tmp.li_attr.id%20%3D%20tmp.id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20typeof%20d.a_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(i%20in%20d.a_attr)%20%7B%0D%0A%09%09%09%09%09if(d.a_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09tmp.a_attr%5Bi%5D%20%3D%20d.a_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20d.children%20%26%26%20d.children.length)%20%7B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20d.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09c%20%3D%20this._parse_model_from_json(d.children%5Bi%5D%2C%20tmp.id%2C%20ps)%3B%0D%0A%09%09%09%09%09e%20%3D%20m%5Bc%5D%3B%0D%0A%09%09%09%09%09tmp.children.push(c)%3B%0D%0A%09%09%09%09%09if(e.children_d.length)%20%7B%0D%0A%09%09%09%09%09%09tmp.children_d%20%3D%20tmp.children_d.concat(e.children_d)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09tmp.children_d%20%3D%20tmp.children_d.concat(tmp.children)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(d%20%26%26%20d.children%20%26%26%20d.children%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09tmp.state.loaded%20%3D%20false%3B%0D%0A%09%09%09%09tmp.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09tmp.children_d%20%3D%20%5B%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09delete%20d.data%3B%0D%0A%09%09%09delete%20d.children%3B%0D%0A%09%09%09tmp.original%20%3D%20d%3B%0D%0A%09%09%09m%5Btmp.id%5D%20%3D%20tmp%3B%0D%0A%09%09%09if(tmp.state.selected)%20%7B%0D%0A%09%09%09%09this._data.core.selected.push(tmp.id)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20tmp.id%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20redraws%20all%20nodes%20that%20need%20to%20be%20redrawn.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_redraw()%0D%0A%09%09%20*%20%40trigger%20redraw.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09_redraw%20%3A%20function%20()%20%7B%0D%0A%09%09%09var%20nodes%20%3D%20this._model.force_full_redraw%20%3F%20this._model.data%5B%24.jstree.root%5D.children.concat(%5B%5D)%20%3A%20this._model.changed.concat(%5B%5D)%2C%0D%0A%09%09%09%09f%20%3D%20document.createElement('UL')%2C%20tmp%2C%20i%2C%20j%2C%20fe%20%3D%20this._data.core.focused%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20nodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this.redraw_node(nodes%5Bi%5D%2C%20true%2C%20this._model.force_full_redraw)%3B%0D%0A%09%09%09%09if(tmp%20%26%26%20this._model.force_full_redraw)%20%7B%0D%0A%09%09%09%09%09f.appendChild(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this._model.force_full_redraw)%20%7B%0D%0A%09%09%09%09f.className%20%3D%20this.get_container_ul()%5B0%5D.className%3B%0D%0A%09%09%09%09f.setAttribute('role'%2C'group')%3B%0D%0A%09%09%09%09this.element.empty().append(f)%3B%0D%0A%09%09%09%09%2F%2Fthis.get_container_ul()%5B0%5D.appendChild(f)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(fe%20!%3D%3D%20null%20%26%26%20this.settings.core.restore_focus)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this.get_node(fe%2C%20true)%3B%0D%0A%09%09%09%09if(tmp%20%26%26%20tmp.length%20%26%26%20tmp.children('.jstree-anchor')%5B0%5D%20!%3D%3D%20document.activeElement)%20%7B%0D%0A%09%09%09%09%09tmp.children('.jstree-anchor').focus()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09this._data.core.focused%20%3D%20null%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09this._model.force_full_redraw%20%3D%20false%3B%0D%0A%09%09%09this._model.changed%20%3D%20%5B%5D%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20after%20nodes%20are%20redrawn%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20redraw.jstree%0D%0A%09%09%09%20*%20%40param%20%7Barray%7D%20nodes%20the%20redrawn%20nodes%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('redraw'%2C%20%7B%20%22nodes%22%20%3A%20nodes%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20redraws%20all%20nodes%20that%20need%20to%20be%20redrawn%20or%20optionally%20-%20the%20whole%20tree%0D%0A%09%09%20*%20%40name%20redraw(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20full%20if%20set%20to%20%60true%60%20all%20nodes%20are%20redrawn.%0D%0A%09%09%20*%2F%0D%0A%09%09redraw%20%3A%20function%20(full)%20%7B%0D%0A%09%09%09if(full)%20%7B%0D%0A%09%09%09%09this._model.force_full_redraw%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F%2Fif(this._model.redraw_timeout)%20%7B%0D%0A%09%09%09%2F%2F%09clearTimeout(this._model.redraw_timeout)%3B%0D%0A%09%09%09%2F%2F%7D%0D%0A%09%09%09%2F%2Fthis._model.redraw_timeout%20%3D%20setTimeout(%24.proxy(this._redraw%2C%20this)%2C0)%3B%0D%0A%09%09%09this._redraw()%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20redraws%20a%20single%20node's%20children.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20draw_children(node)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20node%20the%20node%20whose%20children%20will%20be%20redrawn%0D%0A%09%09%20*%2F%0D%0A%09%09draw_children%20%3A%20function%20(node)%20%7B%0D%0A%09%09%09var%20obj%20%3D%20this.get_node(node)%2C%0D%0A%09%09%09%09i%20%3D%20false%2C%0D%0A%09%09%09%09j%20%3D%20false%2C%0D%0A%09%09%09%09k%20%3D%20false%2C%0D%0A%09%09%09%09d%20%3D%20document%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20this.redraw(true)%3B%20%7D%0D%0A%09%09%09node%20%3D%20this.get_node(node%2C%20true)%3B%0D%0A%09%09%09if(!node%20%7C%7C%20!node.length)%20%7B%20return%20false%3B%20%7D%20%2F%2F%20TODO%3A%20quick%20toggle%0D%0A%0D%0A%09%09%09node.children('.jstree-children').remove()%3B%0D%0A%09%09%09node%20%3D%20node%5B0%5D%3B%0D%0A%09%09%09if(obj.children.length%20%26%26%20obj.state.loaded)%20%7B%0D%0A%09%09%09%09k%20%3D%20d.createElement('UL')%3B%0D%0A%09%09%09%09k.setAttribute('role'%2C%20'group')%3B%0D%0A%09%09%09%09k.className%20%3D%20'jstree-children'%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09k.appendChild(this.redraw_node(obj.children%5Bi%5D%2C%20true%2C%20true))%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09node.appendChild(k)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20redraws%20a%20single%20node.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20redraw_node(node%2C%20deep%2C%20is_callback%2C%20force_render)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20node%20the%20node%20to%20redraw%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20deep%20should%20child%20nodes%20be%20redrawn%20too%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20is_callback%20is%20this%20a%20recursion%20call%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20force_render%20should%20children%20of%20closed%20parents%20be%20drawn%20anyway%0D%0A%09%09%20*%2F%0D%0A%09%09redraw_node%20%3A%20function%20(node%2C%20deep%2C%20is_callback%2C%20force_render)%20%7B%0D%0A%09%09%09var%20obj%20%3D%20this.get_node(node)%2C%0D%0A%09%09%09%09par%20%3D%20false%2C%0D%0A%09%09%09%09ind%20%3D%20false%2C%0D%0A%09%09%09%09old%20%3D%20false%2C%0D%0A%09%09%09%09i%20%3D%20false%2C%0D%0A%09%09%09%09j%20%3D%20false%2C%0D%0A%09%09%09%09k%20%3D%20false%2C%0D%0A%09%09%09%09c%20%3D%20''%2C%0D%0A%09%09%09%09d%20%3D%20document%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09f%20%3D%20false%2C%0D%0A%09%09%09%09s%20%3D%20false%2C%0D%0A%09%09%09%09tmp%20%3D%20null%2C%0D%0A%09%09%09%09t%20%3D%200%2C%0D%0A%09%09%09%09l%20%3D%200%2C%0D%0A%09%09%09%09has_children%20%3D%20false%2C%0D%0A%09%09%09%09last_sibling%20%3D%20false%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20%20return%20this.redraw(true)%3B%20%7D%0D%0A%09%09%09deep%20%3D%20deep%20%7C%7C%20obj.children.length%20%3D%3D%3D%200%3B%0D%0A%09%09%09node%20%3D%20!document.querySelector%20%3F%20document.getElementById(obj.id)%20%3A%20this.element%5B0%5D.querySelector('%23'%20%2B%20(%220123456789%22.indexOf(obj.id%5B0%5D)%20!%3D%3D%20-1%20%3F%20'%5C%5C3'%20%2B%20obj.id%5B0%5D%20%2B%20'%20'%20%2B%20obj.id.substr(1).replace(%24.jstree.idregex%2C'%5C%5C%24%26')%20%3A%20obj.id.replace(%24.jstree.idregex%2C'%5C%5C%24%26'))%20)%3B%20%2F%2F%2C%20this.element)%3B%0D%0A%09%09%09if(!node)%20%7B%0D%0A%09%09%09%09deep%20%3D%20true%3B%0D%0A%09%09%09%09%2F%2Fnode%20%3D%20d.createElement('LI')%3B%0D%0A%09%09%09%09if(!is_callback)%20%7B%0D%0A%09%09%09%09%09par%20%3D%20obj.parent%20!%3D%3D%20%24.jstree.root%20%3F%20%24('%23'%20%2B%20obj.parent.replace(%24.jstree.idregex%2C'%5C%5C%24%26')%2C%20this.element)%5B0%5D%20%3A%20null%3B%0D%0A%09%09%09%09%09if(par%20!%3D%3D%20null%20%26%26%20(!par%20%7C%7C%20!m%5Bobj.parent%5D.state.opened))%20%7B%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09ind%20%3D%20%24.inArray(obj.id%2C%20par%20%3D%3D%3D%20null%20%3F%20m%5B%24.jstree.root%5D.children%20%3A%20m%5Bobj.parent%5D.children)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09node%20%3D%20%24(node)%3B%0D%0A%09%09%09%09if(!is_callback)%20%7B%0D%0A%09%09%09%09%09par%20%3D%20node.parent().parent()%5B0%5D%3B%0D%0A%09%09%09%09%09if(par%20%3D%3D%3D%20this.element%5B0%5D)%20%7B%0D%0A%09%09%09%09%09%09par%20%3D%20null%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09ind%20%3D%20node.index()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F%2F%20m%5Bobj.id%5D.data%20%3D%20node.data()%3B%20%2F%2F%20use%20only%20node's%20data%2C%20no%20need%20to%20touch%20jquery%20storage%0D%0A%09%09%09%09if(!deep%20%26%26%20obj.children.length%20%26%26%20!node.children('.jstree-children').length)%20%7B%0D%0A%09%09%09%09%09deep%20%3D%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!deep)%20%7B%0D%0A%09%09%09%09%09old%20%3D%20node.children('.jstree-children')%5B0%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09f%20%3D%20node.children('.jstree-anchor')%5B0%5D%20%3D%3D%3D%20document.activeElement%3B%0D%0A%09%09%09%09node.remove()%3B%0D%0A%09%09%09%09%2F%2Fnode%20%3D%20d.createElement('LI')%3B%0D%0A%09%09%09%09%2F%2Fnode%20%3D%20node%5B0%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09node%20%3D%20this._data.core.node.cloneNode(true)%3B%0D%0A%09%09%09%2F%2F%20node%20is%20DOM%2C%20deep%20is%20boolean%0D%0A%0D%0A%09%09%09c%20%3D%20'jstree-node%20'%3B%0D%0A%09%09%09for(i%20in%20obj.li_attr)%20%7B%0D%0A%09%09%09%09if(obj.li_attr.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09if(i%20%3D%3D%3D%20'id')%20%7B%20continue%3B%20%7D%0D%0A%09%09%09%09%09if(i%20!%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09node.setAttribute(i%2C%20obj.li_attr%5Bi%5D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09c%20%2B%3D%20obj.li_attr%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!obj.a_attr.id)%20%7B%0D%0A%09%09%09%09obj.a_attr.id%20%3D%20obj.id%20%2B%20'_anchor'%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09node.setAttribute('aria-selected'%2C%20!!obj.state.selected)%3B%0D%0A%09%09%09node.setAttribute('aria-level'%2C%20obj.parents.length)%3B%0D%0A%09%09%09node.setAttribute('aria-labelledby'%2C%20obj.a_attr.id)%3B%0D%0A%09%09%09if(obj.state.disabled)%20%7B%0D%0A%09%09%09%09node.setAttribute('aria-disabled'%2C%20true)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(!m%5Bobj.children%5Bi%5D%5D.state.hidden)%20%7B%0D%0A%09%09%09%09%09has_children%20%3D%20true%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(obj.parent%20!%3D%3D%20null%20%26%26%20m%5Bobj.parent%5D%20%26%26%20!obj.state.hidden)%20%7B%0D%0A%09%09%09%09i%20%3D%20%24.inArray(obj.id%2C%20m%5Bobj.parent%5D.children)%3B%0D%0A%09%09%09%09last_sibling%20%3D%20obj.id%3B%0D%0A%09%09%09%09if(i%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09i%2B%2B%3B%0D%0A%09%09%09%09%09for(j%20%3D%20m%5Bobj.parent%5D.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if(!m%5Bm%5Bobj.parent%5D.children%5Bi%5D%5D.state.hidden)%20%7B%0D%0A%09%09%09%09%09%09%09last_sibling%20%3D%20m%5Bobj.parent%5D.children%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(last_sibling%20!%3D%3D%20obj.id)%20%7B%0D%0A%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if(obj.state.hidden)%20%7B%0D%0A%09%09%09%09c%20%2B%3D%20'%20jstree-hidden'%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(obj.state.loading)%20%7B%0D%0A%09%09%09%09c%20%2B%3D%20'%20jstree-loading'%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(obj.state.loaded%20%26%26%20!has_children)%20%7B%0D%0A%09%09%09%09c%20%2B%3D%20'%20jstree-leaf'%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09c%20%2B%3D%20obj.state.opened%20%26%26%20obj.state.loaded%20%3F%20'%20jstree-open'%20%3A%20'%20jstree-closed'%3B%0D%0A%09%09%09%09node.setAttribute('aria-expanded'%2C%20(obj.state.opened%20%26%26%20obj.state.loaded)%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(last_sibling%20%3D%3D%3D%20obj.id)%20%7B%0D%0A%09%09%09%09c%20%2B%3D%20'%20jstree-last'%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09node.id%20%3D%20obj.id%3B%0D%0A%09%09%09node.className%20%3D%20c%3B%0D%0A%09%09%09c%20%3D%20(%20obj.state.selected%20%3F%20'%20jstree-clicked'%20%3A%20'')%20%2B%20(%20obj.state.disabled%20%3F%20'%20jstree-disabled'%20%3A%20'')%3B%0D%0A%09%09%09for(j%20in%20obj.a_attr)%20%7B%0D%0A%09%09%09%09if(obj.a_attr.hasOwnProperty(j))%20%7B%0D%0A%09%09%09%09%09if(j%20%3D%3D%3D%20'href'%20%26%26%20obj.a_attr%5Bj%5D%20%3D%3D%3D%20'%23')%20%7B%20continue%3B%20%7D%0D%0A%09%09%09%09%09if(j%20!%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09node.childNodes%5B1%5D.setAttribute(j%2C%20obj.a_attr%5Bj%5D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09c%20%2B%3D%20'%20'%20%2B%20obj.a_attr%5Bj%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(c.length)%20%7B%0D%0A%09%09%09%09node.childNodes%5B1%5D.className%20%3D%20'jstree-anchor%20'%20%2B%20c%3B%0D%0A%09%09%09%7D%0D%0A%20%20%20%20%09%09if((obj.icon%20%26%26%20obj.icon%20!%3D%3D%20true)%20%7C%7C%20obj.icon%20%3D%3D%3D%20false)%20%7B%0D%0A%09%09%09%09if(obj.icon%20%3D%3D%3D%20false)%20%7B%0D%0A%09%09%09%09%09node.childNodes%5B1%5D.childNodes%5B0%5D.className%20%2B%3D%20'%20jstree-themeicon-hidden'%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20if(obj.icon.indexOf('%2F')%20%3D%3D%3D%20-1%20%26%26%20obj.icon.indexOf('.')%20%3D%3D%3D%20-1%20%26%26%20!obj.icon.startsWith(%22var(%22))%20%7B%0D%0A%09%09%09%09%09node.childNodes%5B1%5D.childNodes%5B0%5D.className%20%2B%3D%20'%20'%20%2B%20obj.icon%20%2B%20'%20jstree-themeicon-custom'%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%20%20%20%20%09%09%09%09node.childNodes%5B1%5D.childNodes%5B0%5D.style.backgroundImage%20%3D%20(obj.icon.startsWith(%22var(%22)%3F%20obj.icon%3A%20'url(%22'%20%2B%20obj.icon%20%2B%20'%22)')%20%2B%20(obj.fallbackIcon%3F%20'%2C%20'%20%2B%20obj.fallbackIcon%3A%20'')%3B%0D%0A%09%09%09%09%09node.childNodes%5B1%5D.childNodes%5B0%5D.style.backgroundPosition%20%3D%20'center%20center'%3B%0D%0A%09%09%09%09%09node.childNodes%5B1%5D.childNodes%5B0%5D.style.backgroundSize%20%3D%20'16px%2016px'%3B%0D%0A%09%09%09%09%09node.childNodes%5B1%5D.childNodes%5B0%5D.className%20%2B%3D%20'%20jstree-themeicon-custom'%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(this.__icon_check_hook)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.__icon_check_hook(node.childNodes%5B1%5D%2C%20obj)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if(this.settings.core.force_text)%20%7B%0D%0A%09%09%09%09node.childNodes%5B1%5D.appendChild(d.createTextNode(obj.text))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09node.childNodes%5B1%5D.innerHTML%20%2B%3D%20obj.text%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%0D%0A%09%09%09if(deep%20%26%26%20obj.children.length%20%26%26%20(obj.state.opened%20%7C%7C%20force_render)%20%26%26%20obj.state.loaded)%20%7B%0D%0A%09%09%09%09k%20%3D%20d.createElement('UL')%3B%0D%0A%09%09%09%09k.setAttribute('role'%2C%20'group')%3B%0D%0A%09%09%09%09k.className%20%3D%20'jstree-children'%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09k.appendChild(this.redraw_node(obj.children%5Bi%5D%2C%20deep%2C%20true))%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09node.appendChild(k)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(old)%20%7B%0D%0A%09%09%09%09node.appendChild(old)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!is_callback)%20%7B%0D%0A%09%09%09%09%2F%2F%20append%20back%20using%20par%20%2F%20ind%0D%0A%09%09%09%09if(!par)%20%7B%0D%0A%09%09%09%09%09par%20%3D%20this.element%5B0%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20par.childNodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(par.childNodes%5Bi%5D%20%26%26%20par.childNodes%5Bi%5D.className%20%26%26%20par.childNodes%5Bi%5D.className.indexOf('jstree-children')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09tmp%20%3D%20par.childNodes%5Bi%5D%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!tmp)%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20d.createElement('UL')%3B%0D%0A%09%09%09%09%09tmp.setAttribute('role'%2C%20'group')%3B%0D%0A%09%09%09%09%09tmp.className%20%3D%20'jstree-children'%3B%0D%0A%09%09%09%09%09par.appendChild(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09par%20%3D%20tmp%3B%0D%0A%0D%0A%09%09%09%09if(ind%20%3C%20par.childNodes.length)%20%7B%0D%0A%09%09%09%09%09par.insertBefore(node%2C%20par.childNodes%5Bind%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09par.appendChild(node)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(f)%20%7B%0D%0A%09%09%09%09%09t%20%3D%20this.element%5B0%5D.scrollTop%3B%0D%0A%09%09%09%09%09l%20%3D%20this.element%5B0%5D.scrollLeft%3B%0D%0A%09%09%09%09%09node.childNodes%5B1%5D.focus()%3B%0D%0A%09%09%09%09%09this.element%5B0%5D.scrollTop%20%3D%20t%3B%0D%0A%09%09%09%09%09this.element%5B0%5D.scrollLeft%20%3D%20l%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(obj.state.opened%20%26%26%20!obj.state.loaded)%20%7B%0D%0A%09%09%09%09obj.state.opened%20%3D%20false%3B%0D%0A%09%09%09%09setTimeout(%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09this.open_node(obj.id%2C%20false%2C%200)%3B%0D%0A%09%09%09%09%7D%2C%20this)%2C%200)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20node%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20opens%20a%20node%2C%20revealing%20its%20children.%20If%20the%20node%20is%20not%20loaded%20it%20will%20be%20loaded%20and%20opened%20once%20ready.%0D%0A%09%09%20*%20%40name%20open_node(obj%20%5B%2C%20callback%2C%20animation%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20open%0D%0A%09%09%20*%20%40param%20%7BFunction%7D%20callback%20a%20function%20to%20execute%20once%20the%20node%20is%20opened%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20animation%20the%20animation%20duration%20in%20milliseconds%20when%20opening%20the%20node%20(overrides%20the%20%60core.animation%60%20setting).%20Use%20%60false%60%20for%20no%20animation.%0D%0A%09%09%20*%20%40trigger%20open_node.jstree%2C%20after_open.jstree%2C%20before_open.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09open_node%20%3A%20function%20(obj%2C%20callback%2C%20animation)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20d%2C%20t%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.open_node(obj%5Bt1%5D%2C%20callback%2C%20animation)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09animation%20%3D%20animation%20%3D%3D%3D%20undefined%20%3F%20this.settings.core.animation%20%3A%20animation%3B%0D%0A%09%09%09if(!this.is_closed(obj))%20%7B%0D%0A%09%09%09%09if(callback)%20%7B%0D%0A%09%09%09%09%09callback.call(this%2C%20obj%2C%20false)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!this.is_loaded(obj))%20%7B%0D%0A%09%09%09%09if(this.is_loading(obj))%20%7B%0D%0A%09%09%09%09%09return%20setTimeout(%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09this.open_node(obj%2C%20callback%2C%20animation)%3B%0D%0A%09%09%09%09%09%7D%2C%20this)%2C%20500)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09this.load_node(obj%2C%20function%20(o%2C%20ok)%20%7B%0D%0A%09%09%09%09%09return%20ok%20%3F%20this.open_node(o%2C%20callback%2C%20animation)%20%3A%20(callback%20%3F%20callback.call(this%2C%20o%2C%20false)%20%3A%20false)%3B%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09d%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09%09t%20%3D%20this%3B%0D%0A%09%09%09%09if(d.length)%20%7B%0D%0A%09%09%09%09%09if(animation%20%26%26%20d.children(%22.jstree-children%22).length)%20%7B%0D%0A%09%09%09%09%09%09d.children(%22.jstree-children%22).stop(true%2C%20true)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(obj.children.length%20%26%26%20!this._firstChild(d.children('.jstree-children')%5B0%5D))%20%7B%0D%0A%09%09%09%09%09%09this.draw_children(obj)%3B%0D%0A%09%09%09%09%09%09%2F%2Fd%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(!animation)%20%7B%0D%0A%09%09%09%09%09%09this.trigger('before_open'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09%09%09d%5B0%5D.className%20%3D%20d%5B0%5D.className.replace('jstree-closed'%2C%20'jstree-open')%3B%0D%0A%09%09%09%09%09%09d%5B0%5D.setAttribute(%22aria-expanded%22%2C%20true)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09this.trigger('before_open'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09%09%09d%0D%0A%09%09%09%09%09%09%09.children(%22.jstree-children%22).css(%22display%22%2C%22none%22).end()%0D%0A%09%09%09%09%09%09%09.removeClass(%22jstree-closed%22).addClass(%22jstree-open%22).attr(%22aria-expanded%22%2C%20true)%0D%0A%09%09%09%09%09%09%09.children(%22.jstree-children%22).stop(true%2C%20true)%0D%0A%09%09%09%09%09%09%09%09.slideDown(animation%2C%20function%20()%20%7B%0D%0A%09%09%09%09%09%09%09%09%09this.style.display%20%3D%20%22%22%3B%0D%0A%09%09%09%09%09%09%09%09%09if%20(t.element)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09t.trigger(%22after_open%22%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09obj.state.opened%20%3D%20true%3B%0D%0A%09%09%09%09if(callback)%20%7B%0D%0A%09%09%09%09%09callback.call(this%2C%20obj%2C%20true)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!d.length)%20%7B%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20when%20a%20node%20is%20about%20to%20be%20opened%20(if%20the%20node%20is%20supposed%20to%20be%20in%20the%20DOM%2C%20it%20will%20be%2C%20but%20it%20won't%20be%20visible%20yet)%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40name%20before_open.jstree%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20opened%20node%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09this.trigger('before_open'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20a%20node%20is%20opened%20(if%20there%20is%20an%20animation%20it%20will%20not%20be%20completed%20yet)%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20open_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20opened%20node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('open_node'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09if(!animation%20%7C%7C%20!d.length)%20%7B%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20when%20a%20node%20is%20opened%20and%20the%20animation%20is%20complete%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40name%20after_open.jstree%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20opened%20node%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09this.trigger(%22after_open%22%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20opens%20every%20parent%20of%20a%20node%20(node%20should%20be%20loaded)%0D%0A%09%09%20*%20%40name%20_open_to(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20reveal%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%2F%0D%0A%09%09_open_to%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09var%20i%2C%20j%2C%20p%20%3D%20obj.parents%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.length%3B%20i%20%3C%20j%3B%20i%2B%3D1)%20%7B%0D%0A%09%09%09%09if(i%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09this.open_node(p%5Bi%5D%2C%20false%2C%200)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20%24('%23'%20%2B%20obj.id.replace(%24.jstree.idregex%2C'%5C%5C%24%26')%2C%20this.element)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20closes%20a%20node%2C%20hiding%20its%20children%0D%0A%09%09%20*%20%40name%20close_node(obj%20%5B%2C%20animation%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20close%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20animation%20the%20animation%20duration%20in%20milliseconds%20when%20closing%20the%20node%20(overrides%20the%20%60core.animation%60%20setting).%20Use%20%60false%60%20for%20no%20animation.%0D%0A%09%09%20*%20%40trigger%20close_node.jstree%2C%20after_close.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09close_node%20%3A%20function%20(obj%2C%20animation)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20t%2C%20d%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.close_node(obj%5Bt1%5D%2C%20animation)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.is_closed(obj))%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09animation%20%3D%20animation%20%3D%3D%3D%20undefined%20%3F%20this.settings.core.animation%20%3A%20animation%3B%0D%0A%09%09%09t%20%3D%20this%3B%0D%0A%09%09%09d%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%0D%0A%09%09%09obj.state.opened%20%3D%20false%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20is%20closed%20(if%20there%20is%20an%20animation%20it%20will%20not%20be%20complete%20yet)%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20close_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20closed%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('close_node'%2C%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09if(!d.length)%20%7B%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20a%20node%20is%20closed%20and%20the%20animation%20is%20complete%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20after_close.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20closed%20node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger(%22after_close%22%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09if(!animation)%20%7B%0D%0A%09%09%09%09%09d%5B0%5D.className%20%3D%20d%5B0%5D.className.replace('jstree-open'%2C%20'jstree-closed')%3B%0D%0A%09%09%09%09%09d.attr(%22aria-expanded%22%2C%20false).children('.jstree-children').remove()%3B%0D%0A%09%09%09%09%09this.trigger(%22after_close%22%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09d%0D%0A%09%09%09%09%09%09.children(%22.jstree-children%22).attr(%22style%22%2C%22display%3Ablock%20!important%22).end()%0D%0A%09%09%09%09%09%09.removeClass(%22jstree-open%22).addClass(%22jstree-closed%22).attr(%22aria-expanded%22%2C%20false)%0D%0A%09%09%09%09%09%09.children(%22.jstree-children%22).stop(true%2C%20true).slideUp(animation%2C%20function%20()%20%7B%0D%0A%09%09%09%09%09%09%09this.style.display%20%3D%20%22%22%3B%0D%0A%09%09%09%09%09%09%09d.children('.jstree-children').remove()%3B%0D%0A%09%09%09%09%09%09%09if%20(t.element)%20%7B%0D%0A%09%09%09%09%09%09%09%09t.trigger(%22after_close%22%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20toggles%20a%20node%20-%20closing%20it%20if%20it%20is%20open%2C%20opening%20it%20if%20it%20is%20closed%0D%0A%09%09%20*%20%40name%20toggle_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20toggle%0D%0A%09%09%20*%2F%0D%0A%09%09toggle_node%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.toggle_node(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.is_closed(obj))%20%7B%0D%0A%09%09%09%09return%20this.open_node(obj)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.is_open(obj))%20%7B%0D%0A%09%09%09%09return%20this.close_node(obj)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20opens%20all%20nodes%20within%20a%20node%20(or%20the%20tree)%2C%20revealing%20their%20children.%20If%20the%20node%20is%20not%20loaded%20it%20will%20be%20loaded%20and%20opened%20once%20ready.%0D%0A%09%09%20*%20%40name%20open_all(%5Bobj%2C%20animation%2C%20original_obj%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20open%20recursively%2C%20omit%20to%20open%20all%20nodes%20in%20the%20tree%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20animation%20the%20animation%20duration%20in%20milliseconds%20when%20opening%20the%20nodes%2C%20the%20default%20is%20no%20animation%0D%0A%09%09%20*%20%40param%20%7BjQuery%7D%20reference%20to%20the%20node%20that%20started%20the%20process%20(internal%20use)%0D%0A%09%09%20*%20%40trigger%20open_all.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09open_all%20%3A%20function%20(obj%2C%20animation%2C%20original_obj)%20%7B%0D%0A%09%09%09if(!obj)%20%7B%20obj%20%3D%20%24.jstree.root%3B%20%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20dom%20%3D%20obj.id%20%3D%3D%3D%20%24.jstree.root%20%3F%20this.get_container_ul()%20%3A%20this.get_node(obj%2C%20true)%2C%20i%2C%20j%2C%20_this%3B%0D%0A%09%09%09if(!dom.length)%20%7B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(this.is_closed(this._model.data%5Bobj.children_d%5Bi%5D%5D))%20%7B%0D%0A%09%09%09%09%09%09this._model.data%5Bobj.children_d%5Bi%5D%5D.state.opened%20%3D%20true%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20this.trigger('open_all'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09original_obj%20%3D%20original_obj%20%7C%7C%20dom%3B%0D%0A%09%09%09_this%20%3D%20this%3B%0D%0A%09%09%09dom%20%3D%20this.is_closed(obj)%20%3F%20dom.find('.jstree-closed').addBack()%20%3A%20dom.find('.jstree-closed')%3B%0D%0A%09%09%09dom.each(function%20()%20%7B%0D%0A%09%09%09%09_this.open_node(%0D%0A%09%09%09%09%09this%2C%0D%0A%09%09%09%09%09function(node%2C%20status)%20%7B%20if(status%20%26%26%20this.is_parent(node))%20%7B%20this.open_all(node%2C%20animation%2C%20original_obj)%3B%20%7D%20%7D%2C%0D%0A%09%09%09%09%09animation%20%7C%7C%200%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%09if(original_obj.find('.jstree-closed').length%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20%60open_all%60%20call%20completes%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20open_all.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20opened%20node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('open_all'%2C%20%7B%20%22node%22%20%3A%20this.get_node(original_obj)%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20closes%20all%20nodes%20within%20a%20node%20(or%20the%20tree)%2C%20revealing%20their%20children%0D%0A%09%09%20*%20%40name%20close_all(%5Bobj%2C%20animation%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20close%20recursively%2C%20omit%20to%20close%20all%20nodes%20in%20the%20tree%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20animation%20the%20animation%20duration%20in%20milliseconds%20when%20closing%20the%20nodes%2C%20the%20default%20is%20no%20animation%0D%0A%09%09%20*%20%40trigger%20close_all.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09close_all%20%3A%20function%20(obj%2C%20animation)%20%7B%0D%0A%09%09%09if(!obj)%20%7B%20obj%20%3D%20%24.jstree.root%3B%20%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20dom%20%3D%20obj.id%20%3D%3D%3D%20%24.jstree.root%20%3F%20this.get_container_ul()%20%3A%20this.get_node(obj%2C%20true)%2C%0D%0A%09%09%09%09_this%20%3D%20this%2C%20i%2C%20j%3B%0D%0A%09%09%09if(dom.length)%20%7B%0D%0A%09%09%09%09dom%20%3D%20this.is_open(obj)%20%3F%20dom.find('.jstree-open').addBack()%20%3A%20dom.find('.jstree-open')%3B%0D%0A%09%09%09%09%24(dom.get().reverse()).each(function%20()%20%7B%20_this.close_node(this%2C%20animation%20%7C%7C%200)%3B%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09this._model.data%5Bobj.children_d%5Bi%5D%5D.state.opened%20%3D%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20an%20%60close_all%60%20call%20completes%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20close_all.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20closed%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('close_all'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20checks%20if%20a%20node%20is%20disabled%20(not%20selectable)%0D%0A%09%09%20*%20%40name%20is_disabled(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_disabled%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20obj%20%26%26%20obj.state%20%26%26%20obj.state.disabled%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20enables%20a%20node%20-%20so%20that%20it%20can%20be%20selected%0D%0A%09%09%20*%20%40name%20enable_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20enable%0D%0A%09%09%20*%20%40trigger%20enable_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09enable_node%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.enable_node(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj.state.disabled%20%3D%20false%3B%0D%0A%09%09%09this.get_node(obj%2Ctrue).children('.jstree-anchor').removeClass('jstree-disabled').attr('aria-disabled'%2C%20false)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20an%20node%20is%20enabled%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20enable_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20enabled%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('enable_node'%2C%20%7B%20'node'%20%3A%20obj%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20disables%20a%20node%20-%20so%20that%20it%20can%20not%20be%20selected%0D%0A%09%09%20*%20%40name%20disable_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20disable%0D%0A%09%09%20*%20%40trigger%20disable_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09disable_node%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.disable_node(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj.state.disabled%20%3D%20true%3B%0D%0A%09%09%09this.get_node(obj%2Ctrue).children('.jstree-anchor').addClass('jstree-disabled').attr('aria-disabled'%2C%20true)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20an%20node%20is%20disabled%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20disable_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20disabled%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('disable_node'%2C%20%7B%20'node'%20%3A%20obj%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20determines%20if%20a%20node%20is%20hidden%0D%0A%09%09%20*%20%40name%20is_hidden(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%2F%0D%0A%09%09is_hidden%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20obj.state.hidden%20%3D%3D%3D%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hides%20a%20node%20-%20it%20is%20still%20in%20the%20structure%20but%20will%20not%20be%20visible%0D%0A%09%09%20*%20%40name%20hide_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20hide%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20skip_redraw%20internal%20parameter%20controlling%20if%20redraw%20is%20called%0D%0A%09%09%20*%20%40trigger%20hide_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09hide_node%20%3A%20function%20(obj%2C%20skip_redraw)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.hide_node(obj%5Bt1%5D%2C%20true)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(!skip_redraw)%20%7B%0D%0A%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!obj.state.hidden)%20%7B%0D%0A%09%09%09%09obj.state.hidden%20%3D%20true%3B%0D%0A%09%09%09%09this._node_changed(obj.parent)%3B%0D%0A%09%09%09%09if(!skip_redraw)%20%7B%0D%0A%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node%20is%20hidden%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20hide_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20hidden%20node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('hide_node'%2C%20%7B%20'node'%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20shows%20a%20node%0D%0A%09%09%20*%20%40name%20show_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20show%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20skip_redraw%20internal%20parameter%20controlling%20if%20redraw%20is%20called%0D%0A%09%09%20*%20%40trigger%20show_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09show_node%20%3A%20function%20(obj%2C%20skip_redraw)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.show_node(obj%5Bt1%5D%2C%20true)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(!skip_redraw)%20%7B%0D%0A%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(obj.state.hidden)%20%7B%0D%0A%09%09%09%09obj.state.hidden%20%3D%20false%3B%0D%0A%09%09%09%09this._node_changed(obj.parent)%3B%0D%0A%09%09%09%09if(!skip_redraw)%20%7B%0D%0A%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node%20is%20shown%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20show_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20shown%20node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('show_node'%2C%20%7B%20'node'%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hides%20all%20nodes%0D%0A%09%09%20*%20%40name%20hide_all()%0D%0A%09%09%20*%20%40trigger%20hide_all.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09hide_all%20%3A%20function%20(skip_redraw)%20%7B%0D%0A%09%09%09var%20i%2C%20m%20%3D%20this._model.data%2C%20ids%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20in%20m)%20%7B%0D%0A%09%09%09%09if(m.hasOwnProperty(i)%20%26%26%20i%20!%3D%3D%20%24.jstree.root%20%26%26%20!m%5Bi%5D.state.hidden)%20%7B%0D%0A%09%09%09%09%09m%5Bi%5D.state.hidden%20%3D%20true%3B%0D%0A%09%09%09%09%09ids.push(i)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09this._model.force_full_redraw%20%3D%20true%3B%0D%0A%09%09%09if(!skip_redraw)%20%7B%0D%0A%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20all%20nodes%20are%20hidden%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20hide_all.jstree%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20nodes%20the%20IDs%20of%20all%20hidden%20nodes%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('hide_all'%2C%20%7B%20'nodes'%20%3A%20ids%20%7D)%3B%0D%0A%09%09%09return%20ids%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20shows%20all%20nodes%0D%0A%09%09%20*%20%40name%20show_all()%0D%0A%09%09%20*%20%40trigger%20show_all.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09show_all%20%3A%20function%20(skip_redraw)%20%7B%0D%0A%09%09%09var%20i%2C%20m%20%3D%20this._model.data%2C%20ids%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20in%20m)%20%7B%0D%0A%09%09%09%09if(m.hasOwnProperty(i)%20%26%26%20i%20!%3D%3D%20%24.jstree.root%20%26%26%20m%5Bi%5D.state.hidden)%20%7B%0D%0A%09%09%09%09%09m%5Bi%5D.state.hidden%20%3D%20false%3B%0D%0A%09%09%09%09%09ids.push(i)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09this._model.force_full_redraw%20%3D%20true%3B%0D%0A%09%09%09if(!skip_redraw)%20%7B%0D%0A%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20all%20nodes%20are%20shown%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20show_all.jstree%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20nodes%20the%20IDs%20of%20all%20shown%20nodes%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('show_all'%2C%20%7B%20'nodes'%20%3A%20ids%20%7D)%3B%0D%0A%09%09%09return%20ids%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20called%20when%20a%20node%20is%20selected%20by%20the%20user.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20activate_node(obj%2C%20e)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40param%20%7BObject%7D%20e%20the%20related%20event%0D%0A%09%09%20*%20%40trigger%20activate_node.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09activate_node%20%3A%20function%20(obj%2C%20e)%20%7B%0D%0A%09%09%09if(this.is_disabled(obj))%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!e%20%7C%7C%20typeof%20e%20!%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09e%20%3D%20%7B%7D%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20ensure%20last_clicked%20is%20still%20in%20the%20DOM%2C%20make%20it%20fresh%20(maybe%20it%20was%20moved%3F)%20and%20make%20sure%20it%20is%20still%20selected%2C%20if%20not%20-%20make%20last_clicked%20the%20last%20selected%20node%0D%0A%09%09%09this._data.core.last_clicked%20%3D%20this._data.core.last_clicked%20%26%26%20this._data.core.last_clicked.id%20!%3D%3D%20undefined%20%3F%20this.get_node(this._data.core.last_clicked.id)%20%3A%20null%3B%0D%0A%09%09%09if(this._data.core.last_clicked%20%26%26%20!this._data.core.last_clicked.state.selected)%20%7B%20this._data.core.last_clicked%20%3D%20null%3B%20%7D%0D%0A%09%09%09if(!this._data.core.last_clicked%20%26%26%20this._data.core.selected.length)%20%7B%20this._data.core.last_clicked%20%3D%20this.get_node(this._data.core.selected%5Bthis._data.core.selected.length%20-%201%5D)%3B%20%7D%0D%0A%0D%0A%09%09%09if(!this.settings.core.multiple%20%7C%7C%20(!e.metaKey%20%26%26%20!e.ctrlKey%20%26%26%20!e.shiftKey)%20%7C%7C%20(e.shiftKey%20%26%26%20(!this._data.core.last_clicked%20%7C%7C%20!this.get_parent(obj)%20%7C%7C%20this.get_parent(obj)%20!%3D%3D%20this._data.core.last_clicked.parent%20)%20))%20%7B%0D%0A%09%09%09%09if(!this.settings.core.multiple%20%26%26%20(e.metaKey%20%7C%7C%20e.ctrlKey%20%7C%7C%20e.shiftKey)%20%26%26%20this.is_selected(obj))%20%7B%0D%0A%09%09%09%09%09this.deselect_node(obj%2C%20false%2C%20e)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09this.deselect_all(true)%3B%0D%0A%09%09%09%09%09this.select_node(obj%2C%20false%2C%20false%2C%20e)%3B%0D%0A%09%09%09%09%09this._data.core.last_clicked%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09if(e.shiftKey)%20%7B%0D%0A%09%09%09%09%09var%20o%20%3D%20this.get_node(obj).id%2C%0D%0A%09%09%09%09%09%09l%20%3D%20this._data.core.last_clicked.id%2C%0D%0A%09%09%09%09%09%09p%20%3D%20this.get_node(this._data.core.last_clicked.parent).children%2C%0D%0A%09%09%09%09%09%09c%20%3D%20false%2C%0D%0A%09%09%09%09%09%09i%2C%20j%3B%0D%0A%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.length%3B%20i%20%3C%20j%3B%20i%20%2B%3D%201)%20%7B%0D%0A%09%09%09%09%09%09%2F%2F%20separate%20IFs%20work%20whem%20o%20and%20l%20are%20the%20same%0D%0A%09%09%09%09%09%09if(p%5Bi%5D%20%3D%3D%3D%20o)%20%7B%0D%0A%09%09%09%09%09%09%09c%20%3D%20!c%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(p%5Bi%5D%20%3D%3D%3D%20l)%20%7B%0D%0A%09%09%09%09%09%09%09c%20%3D%20!c%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(!this.is_disabled(p%5Bi%5D)%20%26%26%20(c%20%7C%7C%20p%5Bi%5D%20%3D%3D%3D%20o%20%7C%7C%20p%5Bi%5D%20%3D%3D%3D%20l))%20%7B%0D%0A%09%09%09%09%09%09%09if%20(!this.is_hidden(p%5Bi%5D))%20%7B%0D%0A%09%09%09%09%09%09%09%09this.select_node(p%5Bi%5D%2C%20true%2C%20false%2C%20e)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09this.deselect_node(p%5Bi%5D%2C%20true%2C%20e)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'select_node'%2C%20'node'%20%3A%20this.get_node(obj)%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09if(!this.is_selected(obj))%20%7B%0D%0A%09%09%09%09%09%09this.select_node(obj%2C%20false%2C%20false%2C%20e)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09this.deselect_node(obj%2C%20false%2C%20e)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20an%20node%20is%20clicked%20or%20intercated%20with%20by%20the%20user%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20activate_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20ooriginal%20event%20(if%20any)%20which%20triggered%20the%20call%20(may%20be%20an%20empty%20object)%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('activate_node'%2C%20%7B%20'node'%20%3A%20this.get_node(obj)%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20applies%20the%20hover%20state%20on%20a%20node%2C%20called%20when%20a%20node%20is%20hovered%20by%20the%20user.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20hover_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40trigger%20hover_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09hover_node%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20!obj.length%20%7C%7C%20obj.children('.jstree-hovered').length)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09var%20o%20%3D%20this.element.find('.jstree-hovered')%2C%20t%20%3D%20this.element%3B%0D%0A%09%09%09if(o%20%26%26%20o.length)%20%7B%20this.dehover_node(o)%3B%20%7D%0D%0A%0D%0A%09%09%09obj.children('.jstree-anchor').addClass('jstree-hovered')%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20an%20node%20is%20hovered%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20hover_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('hover_node'%2C%20%7B%20'node'%20%3A%20this.get_node(obj)%20%7D)%3B%0D%0A%09%09%09setTimeout(function%20()%20%7B%20t.attr('aria-activedescendant'%2C%20obj%5B0%5D.id)%3B%20%7D%2C%200)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20removes%20the%20hover%20state%20from%20a%20nodecalled%20when%20a%20node%20is%20no%20longer%20hovered%20by%20the%20user.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20dehover_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40trigger%20dehover_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09dehover_node%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20!obj.length%20%7C%7C%20!obj.children('.jstree-hovered').length)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj.children('.jstree-anchor').removeClass('jstree-hovered')%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20an%20node%20is%20no%20longer%20hovered%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20dehover_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('dehover_node'%2C%20%7B%20'node'%20%3A%20this.get_node(obj)%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20select%20a%20node%0D%0A%09%09%20*%20%40name%20select_node(obj%20%5B%2C%20supress_event%2C%20prevent_open%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20an%20array%20can%20be%20used%20to%20select%20multiple%20nodes%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20supress_event%20if%20set%20to%20%60true%60%20the%20%60changed.jstree%60%20event%20won't%20be%20triggered%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20prevent_open%20if%20set%20to%20%60true%60%20parents%20of%20the%20selected%20node%20won't%20be%20opened%0D%0A%09%09%20*%20%40trigger%20select_node.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09select_node%20%3A%20function%20(obj%2C%20supress_event%2C%20prevent_open%2C%20e)%20%7B%0D%0A%09%09%09var%20dom%2C%20t1%2C%20t2%2C%20th%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.select_node(obj%5Bt1%5D%2C%20supress_event%2C%20prevent_open%2C%20e)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(!obj.state.selected)%20%7B%0D%0A%09%09%09%09obj.state.selected%20%3D%20true%3B%0D%0A%09%09%09%09this._data.core.selected.push(obj.id)%3B%0D%0A%09%09%09%09if(!prevent_open)%20%7B%0D%0A%09%09%09%09%09dom%20%3D%20this._open_to(obj)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09dom.attr('aria-selected'%2C%20true).children('.jstree-anchor').addClass('jstree-clicked')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node%20is%20selected%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20select_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20(if%20any)%20that%20triggered%20this%20select_node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('select_node'%2C%20%7B%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%09%09if(!supress_event)%20%7B%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20when%20selection%20changes%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40name%20changed.jstree%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20action%20the%20action%20that%20caused%20the%20selection%20to%20change%0D%0A%09%09%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20(if%20any)%20that%20triggered%20this%20changed%20event%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'select_node'%2C%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20deselect%20a%20node%0D%0A%09%09%20*%20%40name%20deselect_node(obj%20%5B%2C%20supress_event%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20an%20array%20can%20be%20used%20to%20deselect%20multiple%20nodes%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20supress_event%20if%20set%20to%20%60true%60%20the%20%60changed.jstree%60%20event%20won't%20be%20triggered%0D%0A%09%09%20*%20%40trigger%20deselect_node.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09deselect_node%20%3A%20function%20(obj%2C%20supress_event%2C%20e)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20dom%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.deselect_node(obj%5Bt1%5D%2C%20supress_event%2C%20e)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(obj.state.selected)%20%7B%0D%0A%09%09%09%09obj.state.selected%20%3D%20false%3B%0D%0A%09%09%09%09this._data.core.selected%20%3D%20%24.vakata.array_remove_item(this._data.core.selected%2C%20obj.id)%3B%0D%0A%09%09%09%09if(dom.length)%20%7B%0D%0A%09%09%09%09%09dom.attr('aria-selected'%2C%20false).children('.jstree-anchor').removeClass('jstree-clicked')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node%20is%20deselected%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20deselect_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20(if%20any)%20that%20triggered%20this%20deselect_node%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('deselect_node'%2C%20%7B%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%09%09if(!supress_event)%20%7B%0D%0A%09%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'deselect_node'%2C%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20select%20all%20nodes%20in%20the%20tree%0D%0A%09%09%20*%20%40name%20select_all(%5Bsupress_event%5D)%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20supress_event%20if%20set%20to%20%60true%60%20the%20%60changed.jstree%60%20event%20won't%20be%20triggered%0D%0A%09%09%20*%20%40trigger%20select_all.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09select_all%20%3A%20function%20(supress_event)%20%7B%0D%0A%09%09%09var%20tmp%20%3D%20this._data.core.selected.concat(%5B%5D)%2C%20i%2C%20j%3B%0D%0A%09%09%09this._data.core.selected%20%3D%20this._model.data%5B%24.jstree.root%5D.children_d.concat()%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20this._data.core.selected.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(this._model.data%5Bthis._data.core.selected%5Bi%5D%5D)%20%7B%0D%0A%09%09%09%09%09this._model.data%5Bthis._data.core.selected%5Bi%5D%5D.state.selected%20%3D%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09this.redraw(true)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20all%20nodes%20are%20selected%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20select_all.jstree%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('select_all'%2C%20%7B%20'selected'%20%3A%20this._data.core.selected%20%7D)%3B%0D%0A%09%09%09if(!supress_event)%20%7B%0D%0A%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'select_all'%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'old_selection'%20%3A%20tmp%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20deselect%20all%20selected%20nodes%0D%0A%09%09%20*%20%40name%20deselect_all(%5Bsupress_event%5D)%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20supress_event%20if%20set%20to%20%60true%60%20the%20%60changed.jstree%60%20event%20won't%20be%20triggered%0D%0A%09%09%20*%20%40trigger%20deselect_all.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09deselect_all%20%3A%20function%20(supress_event)%20%7B%0D%0A%09%09%09var%20tmp%20%3D%20this._data.core.selected.concat(%5B%5D)%2C%20i%2C%20j%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20this._data.core.selected.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(this._model.data%5Bthis._data.core.selected%5Bi%5D%5D)%20%7B%0D%0A%09%09%09%09%09this._model.data%5Bthis._data.core.selected%5Bi%5D%5D.state.selected%20%3D%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09this._data.core.selected%20%3D%20%5B%5D%3B%0D%0A%09%09%09this.element.find('.jstree-clicked').removeClass('jstree-clicked').parent().attr('aria-selected'%2C%20false)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20all%20nodes%20are%20deselected%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20deselect_all.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20previous%20selection%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('deselect_all'%2C%20%7B%20'selected'%20%3A%20this._data.core.selected%2C%20'node'%20%3A%20tmp%20%7D)%3B%0D%0A%09%09%09if(!supress_event)%20%7B%0D%0A%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'deselect_all'%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'old_selection'%20%3A%20tmp%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20checks%20if%20a%20node%20is%20selected%0D%0A%09%09%20*%20%40name%20is_selected(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09is_selected%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj.state.selected%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20an%20array%20of%20all%20selected%20nodes%0D%0A%09%09%20*%20%40name%20get_selected(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20full%20if%20set%20to%20%60true%60%20the%20returned%20array%20will%20consist%20of%20the%20full%20node%20objects%2C%20otherwise%20-%20only%20IDs%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BArray%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_selected%20%3A%20function%20(full)%20%7B%0D%0A%09%09%09return%20full%20%3F%20%24.map(this._data.core.selected%2C%20%24.proxy(function%20(i)%20%7B%20return%20this.get_node(i)%3B%20%7D%2C%20this))%20%3A%20this._data.core.selected.slice()%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20an%20array%20of%20all%20top%20level%20selected%20nodes%20(ignoring%20children%20of%20selected%20nodes)%0D%0A%09%09%20*%20%40name%20get_top_selected(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20full%20if%20set%20to%20%60true%60%20the%20returned%20array%20will%20consist%20of%20the%20full%20node%20objects%2C%20otherwise%20-%20only%20IDs%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BArray%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_top_selected%20%3A%20function%20(full)%20%7B%0D%0A%09%09%09var%20tmp%20%3D%20this.get_selected(true)%2C%0D%0A%09%09%09%09obj%20%3D%20%7B%7D%2C%20i%2C%20j%2C%20k%2C%20l%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09obj%5Btmp%5Bi%5D.id%5D%20%3D%20tmp%5Bi%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20tmp%5Bi%5D.children_d.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(obj%5Btmp%5Bi%5D.children_d%5Bk%5D%5D)%20%7B%0D%0A%09%09%09%09%09%09delete%20obj%5Btmp%5Bi%5D.children_d%5Bk%5D%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20in%20obj)%20%7B%0D%0A%09%09%09%09if(obj.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09tmp.push(i)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20full%20%3F%20%24.map(tmp%2C%20%24.proxy(function%20(i)%20%7B%20return%20this.get_node(i)%3B%20%7D%2C%20this))%20%3A%20tmp%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20an%20array%20of%20all%20bottom%20level%20selected%20nodes%20(ignoring%20selected%20parents)%0D%0A%09%09%20*%20%40name%20get_bottom_selected(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20full%20if%20set%20to%20%60true%60%20the%20returned%20array%20will%20consist%20of%20the%20full%20node%20objects%2C%20otherwise%20-%20only%20IDs%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BArray%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_bottom_selected%20%3A%20function%20(full)%20%7B%0D%0A%09%09%09var%20tmp%20%3D%20this.get_selected(true)%2C%0D%0A%09%09%09%09obj%20%3D%20%5B%5D%2C%20i%2C%20j%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(!tmp%5Bi%5D.children.length)%20%7B%0D%0A%09%09%09%09%09obj.push(tmp%5Bi%5D.id)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20full%20%3F%20%24.map(obj%2C%20%24.proxy(function%20(i)%20%7B%20return%20this.get_node(i)%3B%20%7D%2C%20this))%20%3A%20obj%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20the%20current%20state%20of%20the%20tree%20so%20that%20it%20can%20be%20restored%20later%20with%20%60set_state(state)%60.%20Used%20internally.%0D%0A%09%09%20*%20%40name%20get_state()%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40return%20%7BObject%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_state%20%3A%20function%20()%20%7B%0D%0A%09%09%09var%20state%09%3D%20%7B%0D%0A%09%09%09%09'core'%20%3A%20%7B%0D%0A%09%09%09%09%09'open'%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09%09'loaded'%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09%09'scroll'%20%3A%20%7B%0D%0A%09%09%09%09%09%09'left'%20%3A%20this.element.scrollLeft()%2C%0D%0A%09%09%09%09%09%09'top'%20%3A%20this.element.scrollTop()%0D%0A%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%2F*!%0D%0A%09%09%09%09%09'themes'%20%3A%20%7B%0D%0A%09%09%09%09%09%09'name'%20%3A%20this.get_theme()%2C%0D%0A%09%09%09%09%09%09'icons'%20%3A%20this._data.core.themes.icons%2C%0D%0A%09%09%09%09%09%09'dots'%20%3A%20this._data.core.themes.dots%0D%0A%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09*%2F%0D%0A%09%09%09%09%09'selected'%20%3A%20%5B%5D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%20i%3B%0D%0A%09%09%09for(i%20in%20this._model.data)%20%7B%0D%0A%09%09%09%09if(this._model.data.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09if(i%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09if(this._model.data%5Bi%5D.state.loaded%20%26%26%20this.settings.core.loaded_state)%20%7B%0D%0A%09%09%09%09%09%09%09state.core.loaded.push(i)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(this._model.data%5Bi%5D.state.opened)%20%7B%0D%0A%09%09%09%09%09%09%09state.core.open.push(i)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(this._model.data%5Bi%5D.state.selected)%20%7B%0D%0A%09%09%09%09%09%09%09state.core.selected.push(i)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20state%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20sets%20the%20state%20of%20the%20tree.%20Used%20internally.%0D%0A%09%09%20*%20%40name%20set_state(state%20%5B%2C%20callback%5D)%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40param%20%7BObject%7D%20state%20the%20state%20to%20restore.%20Keep%20in%20mind%20this%20object%20is%20passed%20by%20reference%20and%20jstree%20will%20modify%20it.%0D%0A%09%09%20*%20%40param%20%7BFunction%7D%20callback%20an%20optional%20function%20to%20execute%20once%20the%20state%20is%20restored.%0D%0A%09%09%20*%20%40trigger%20set_state.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09set_state%20%3A%20function%20(state%2C%20callback)%20%7B%0D%0A%09%09%09if(state)%20%7B%0D%0A%09%09%09%09if(state.core%20%26%26%20state.core.selected%20%26%26%20state.core.initial_selection%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09state.core.initial_selection%20%3D%20this._data.core.selected.concat(%5B%5D).sort().join('%2C')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(state.core)%20%7B%0D%0A%09%09%09%09%09var%20res%2C%20n%2C%20t%2C%20_this%2C%20i%3B%0D%0A%09%09%09%09%09if(state.core.loaded)%20%7B%0D%0A%09%09%09%09%09%09if(!this.settings.core.loaded_state%20%7C%7C%20!%24.isArray(state.core.loaded)%20%7C%7C%20!state.core.loaded.length)%20%7B%0D%0A%09%09%09%09%09%09%09delete%20state.core.loaded%3B%0D%0A%09%09%09%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09this._load_nodes(state.core.loaded%2C%20function%20(nodes)%20%7B%0D%0A%09%09%09%09%09%09%09%09delete%20state.core.loaded%3B%0D%0A%09%09%09%09%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(state.core.open)%20%7B%0D%0A%09%09%09%09%09%09if(!%24.isArray(state.core.open)%20%7C%7C%20!state.core.open.length)%20%7B%0D%0A%09%09%09%09%09%09%09delete%20state.core.open%3B%0D%0A%09%09%09%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09this._load_nodes(state.core.open%2C%20function%20(nodes)%20%7B%0D%0A%09%09%09%09%09%09%09%09this.open_node(nodes%2C%20false%2C%200)%3B%0D%0A%09%09%09%09%09%09%09%09delete%20state.core.open%3B%0D%0A%09%09%09%09%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(state.core.scroll)%20%7B%0D%0A%09%09%09%09%09%09if(state.core.scroll%20%26%26%20state.core.scroll.left%20!%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09this.element.scrollLeft(state.core.scroll.left)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(state.core.scroll%20%26%26%20state.core.scroll.top%20!%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09this.element.scrollTop(state.core.scroll.top)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09delete%20state.core.scroll%3B%0D%0A%09%09%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(state.core.selected)%20%7B%0D%0A%09%09%09%09%09%09_this%20%3D%20this%3B%0D%0A%09%09%09%09%09%09if%20(state.core.initial_selection%20%3D%3D%3D%20undefined%20%7C%7C%0D%0A%09%09%09%09%09%09%09state.core.initial_selection%20%3D%3D%3D%20this._data.core.selected.concat(%5B%5D).sort().join('%2C')%0D%0A%09%09%09%09%09%09)%20%7B%0D%0A%09%09%09%09%09%09%09this.deselect_all()%3B%0D%0A%09%09%09%09%09%09%09%24.each(state.core.selected%2C%20function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09%09%09%09_this.select_node(v%2C%20false%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09delete%20state.core.initial_selection%3B%0D%0A%09%09%09%09%09%09delete%20state.core.selected%3B%0D%0A%09%09%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09for(i%20in%20state)%20%7B%0D%0A%09%09%09%09%09%09if(state.hasOwnProperty(i)%20%26%26%20i%20!%3D%3D%20%22core%22%20%26%26%20%24.inArray(i%2C%20this.settings.plugins)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09delete%20state%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(%24.isEmptyObject(state.core))%20%7B%0D%0A%09%09%09%09%09%09delete%20state.core%3B%0D%0A%09%09%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(%24.isEmptyObject(state))%20%7B%0D%0A%09%09%09%09%09state%20%3D%20null%3B%0D%0A%09%09%09%09%09if(callback)%20%7B%20callback.call(this)%3B%20%7D%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20when%20a%20%60set_state%60%20call%20completes%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40name%20set_state.jstree%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09this.trigger('set_state')%3B%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20refreshes%20the%20tree%20-%20all%20nodes%20are%20reloaded%20with%20calls%20to%20%60load_node%60.%0D%0A%09%09%20*%20%40name%20refresh()%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20skip_loading%20an%20option%20to%20skip%20showing%20the%20loading%20indicator%0D%0A%09%09%20*%20%40param%20%7BMixed%7D%20forget_state%20if%20set%20to%20%60true%60%20state%20will%20not%20be%20reapplied%2C%20if%20set%20to%20a%20function%20(receiving%20the%20current%20state%20as%20argument)%20the%20result%20of%20that%20function%20will%20be%20used%20as%20state%0D%0A%09%09%20*%20%40trigger%20refresh.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09refresh%20%3A%20function%20(skip_loading%2C%20forget_state)%20%7B%0D%0A%09%09%09this._data.core.state%20%3D%20forget_state%20%3D%3D%3D%20true%20%3F%20%7B%7D%20%3A%20this.get_state()%3B%0D%0A%09%09%09if(forget_state%20%26%26%20%24.isFunction(forget_state))%20%7B%20this._data.core.state%20%3D%20forget_state.call(this%2C%20this._data.core.state)%3B%20%7D%0D%0A%09%09%09this._cnt%20%3D%200%3B%0D%0A%09%09%09this._model.data%20%3D%20%7B%7D%3B%0D%0A%09%09%09this._model.data%5B%24.jstree.root%5D%20%3D%20%7B%0D%0A%09%09%09%09id%20%3A%20%24.jstree.root%2C%0D%0A%09%09%09%09parent%20%3A%20null%2C%0D%0A%09%09%09%09parents%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09children%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09children_d%20%3A%20%5B%5D%2C%0D%0A%09%09%09%09state%20%3A%20%7B%20loaded%20%3A%20false%20%7D%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09this._data.core.selected%20%3D%20%5B%5D%3B%0D%0A%09%09%09this._data.core.last_clicked%20%3D%20null%3B%0D%0A%09%09%09this._data.core.focused%20%3D%20null%3B%0D%0A%0D%0A%09%09%09var%20c%20%3D%20this.get_container_ul()%5B0%5D.className%3B%0D%0A%09%09%09if(!skip_loading)%20%7B%0D%0A%09%09%09%09this.element.html(%22%3C%22%2B%22ul%20class%3D'%22%2Bc%2B%22'%20role%3D'group'%3E%3C%22%2B%22li%20class%3D'jstree-initial-node%20jstree-loading%20jstree-leaf%20jstree-last'%20role%3D'treeitem'%20id%3D'j%22%2Bthis._id%2B%22_loading'%3E%3Ci%20class%3D'jstree-icon%20jstree-ocl'%3E%3C%2Fi%3E%3C%22%2B%22a%20class%3D'jstree-anchor'%20href%3D'%23'%3E%3Ci%20class%3D'jstree-icon%20jstree-themeicon-hidden'%3E%3C%2Fi%3E%22%20%2B%20this.get_string(%22Loading%20...%22)%20%2B%20%22%3C%2Fa%3E%3C%2Fli%3E%3C%2Ful%3E%22)%3B%0D%0A%09%09%09%09this.element.attr('aria-activedescendant'%2C'j'%2Bthis._id%2B'_loading')%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this.load_node(%24.jstree.root%2C%20function%20(o%2C%20s)%20%7B%0D%0A%09%09%09%09if(s)%20%7B%0D%0A%09%09%09%09%09this.get_container_ul()%5B0%5D.className%20%3D%20c%3B%0D%0A%09%09%09%09%09if(this._firstChild(this.get_container_ul()%5B0%5D))%20%7B%0D%0A%09%09%09%09%09%09this.element.attr('aria-activedescendant'%2Cthis._firstChild(this.get_container_ul()%5B0%5D).id)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09this.set_state(%24.extend(true%2C%20%7B%7D%2C%20this._data.core.state)%2C%20function%20()%20%7B%0D%0A%09%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%09%20*%20triggered%20when%20a%20%60refresh%60%20call%20completes%0D%0A%09%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%09%20*%20%40name%20refresh.jstree%0D%0A%09%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09%09this.trigger('refresh')%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09this._data.core.state%20%3D%20null%3B%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20refreshes%20a%20node%20in%20the%20tree%20(reload%20its%20children)%20all%20opened%20nodes%20inside%20that%20node%20are%20reloaded%20with%20calls%20to%20%60load_node%60.%0D%0A%09%09%20*%20%40name%20refresh_node(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40trigger%20refresh_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09refresh_node%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20opened%20%3D%20%5B%5D%2C%20to_load%20%3D%20%5B%5D%2C%20s%20%3D%20this._data.core.selected.concat(%5B%5D)%3B%0D%0A%09%09%09to_load.push(obj.id)%3B%0D%0A%09%09%09if(obj.state.opened%20%3D%3D%3D%20true)%20%7B%20opened.push(obj.id)%3B%20%7D%0D%0A%09%09%09this.get_node(obj%2C%20true).find('.jstree-open').each(function()%20%7B%20to_load.push(this.id)%3B%20opened.push(this.id)%3B%20%7D)%3B%0D%0A%09%09%09this._load_nodes(to_load%2C%20%24.proxy(function%20(nodes)%20%7B%0D%0A%09%09%09%09this.open_node(opened%2C%20false%2C%200)%3B%0D%0A%09%09%09%09this.select_node(s)%3B%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20a%20node%20is%20refreshed%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20refresh_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%20-%20the%20refreshed%20node%0D%0A%09%09%09%09%20*%20%40param%20%7BArray%7D%20nodes%20-%20an%20array%20of%20the%20IDs%20of%20the%20nodes%20that%20were%20reloaded%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('refresh_node'%2C%20%7B%20'node'%20%3A%20obj%2C%20'nodes'%20%3A%20nodes%20%7D)%3B%0D%0A%09%09%09%7D%2C%20this)%2C%20false%2C%20true)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20set%20(change)%20the%20ID%20of%20a%20node%0D%0A%09%09%20*%20%40name%20set_id(obj%2C%20id)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20id%20the%20new%20ID%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%20%40trigger%20set_id.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09set_id%20%3A%20function%20(obj%2C%20id)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20i%2C%20j%2C%20m%20%3D%20this._model.data%2C%20old%20%3D%20obj.id%3B%0D%0A%09%09%09id%20%3D%20id.toString()%3B%0D%0A%09%09%09%2F%2F%20update%20parents%20(replace%20current%20ID%20with%20new%20one%20in%20children%20and%20children_d)%0D%0A%09%09%09m%5Bobj.parent%5D.children%5B%24.inArray(obj.id%2C%20m%5Bobj.parent%5D.children)%5D%20%3D%20id%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09m%5Bobj.parents%5Bi%5D%5D.children_d%5B%24.inArray(obj.id%2C%20m%5Bobj.parents%5Bi%5D%5D.children_d)%5D%20%3D%20id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F%2F%20update%20children%20(replace%20current%20ID%20with%20new%20one%20in%20parent%20and%20parents)%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09m%5Bobj.children%5Bi%5D%5D.parent%20%3D%20id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09m%5Bobj.children_d%5Bi%5D%5D.parents%5B%24.inArray(obj.id%2C%20m%5Bobj.children_d%5Bi%5D%5D.parents)%5D%20%3D%20id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09i%20%3D%20%24.inArray(obj.id%2C%20this._data.core.selected)%3B%0D%0A%09%09%09if(i%20!%3D%3D%20-1)%20%7B%20this._data.core.selected%5Bi%5D%20%3D%20id%3B%20%7D%0D%0A%09%09%09%2F%2F%20update%20model%20and%20obj%20itself%20(obj.id%2C%20this._model.data%5BKEY%5D)%0D%0A%09%09%09i%20%3D%20this.get_node(obj.id%2C%20true)%3B%0D%0A%09%09%09if(i)%20%7B%0D%0A%09%09%09%09i.attr('id'%2C%20id)%3B%20%2F%2F.children('.jstree-anchor').attr('id'%2C%20id%20%2B%20'_anchor').end().attr('aria-labelledby'%2C%20id%20%2B%20'_anchor')%3B%0D%0A%09%09%09%09if(this.element.attr('aria-activedescendant')%20%3D%3D%3D%20obj.id)%20%7B%0D%0A%09%09%09%09%09this.element.attr('aria-activedescendant'%2C%20id)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09delete%20m%5Bobj.id%5D%3B%0D%0A%09%09%09obj.id%20%3D%20id%3B%0D%0A%09%09%09obj.li_attr.id%20%3D%20id%3B%0D%0A%09%09%09m%5Bid%5D%20%3D%20obj%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20id%20value%20is%20changed%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20set_id.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20old%20the%20old%20id%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('set_id'%2C%7B%20%22node%22%20%3A%20obj%2C%20%22new%22%20%3A%20obj.id%2C%20%22old%22%20%3A%20old%20%7D)%3B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20text%20value%20of%20a%20node%0D%0A%09%09%20*%20%40name%20get_text(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40return%20%7BString%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_text%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%3F%20false%20%3A%20obj.text%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20set%20the%20text%20value%20of%20a%20node.%20Used%20internally%2C%20please%20use%20%60rename_node(obj%2C%20val)%60.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20set_text(obj%2C%20val)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%2C%20you%20can%20pass%20an%20array%20to%20set%20the%20text%20on%20multiple%20nodes%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20val%20the%20new%20text%20value%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%20%40trigger%20set_text.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09set_text%20%3A%20function%20(obj%2C%20val)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.set_text(obj%5Bt1%5D%2C%20val)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09obj.text%20%3D%20val%3B%0D%0A%09%09%09if(this.get_node(obj%2C%20true).length)%20%7B%0D%0A%09%09%09%09this.redraw_node(obj.id)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20text%20value%20is%20changed%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20set_text.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20obj%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20text%20the%20new%20value%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('set_text'%2C%7B%20%22obj%22%20%3A%20obj%2C%20%22text%22%20%3A%20val%20%7D)%3B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20a%20JSON%20representation%20of%20a%20node%20(or%20the%20whole%20tree)%0D%0A%09%09%20*%20%40name%20get_json(%5Bobj%2C%20options%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%20%7BObject%7D%20options%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20options.no_state%20do%20not%20return%20state%20information%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20options.no_id%20do%20not%20return%20ID%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20options.no_children%20do%20not%20include%20children%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20options.no_data%20do%20not%20include%20node%20data%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20options.no_li_attr%20do%20not%20include%20LI%20attributes%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20options.no_a_attr%20do%20not%20include%20A%20attributes%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20options.flat%20return%20flat%20JSON%20instead%20of%20nested%0D%0A%09%09%20*%20%40return%20%7BObject%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_json%20%3A%20function%20(obj%2C%20options%2C%20flat)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj%20%7C%7C%20%24.jstree.root)%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(options%20%26%26%20options.flat%20%26%26%20!flat)%20%7B%20flat%20%3D%20%5B%5D%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20%7B%0D%0A%09%09%09%09'id'%20%3A%20obj.id%2C%0D%0A%09%09%09%09'text'%20%3A%20obj.text%2C%0D%0A%09%09%09%09'icon'%20%3A%20this.get_icon(obj)%2C%0D%0A%09%09%09%09'li_attr'%20%3A%20%24.extend(true%2C%20%7B%7D%2C%20obj.li_attr)%2C%0D%0A%09%09%09%09'a_attr'%20%3A%20%24.extend(true%2C%20%7B%7D%2C%20obj.a_attr)%2C%0D%0A%09%09%09%09'state'%20%3A%20%7B%7D%2C%0D%0A%09%09%09%09'data'%20%3A%20options%20%26%26%20options.no_data%20%3F%20false%20%3A%20%24.extend(true%2C%20%24.isArray(obj.data)%3F%5B%5D%3A%7B%7D%2C%20obj.data)%0D%0A%09%09%09%09%2F%2F(%20this.get_node(obj%2C%20true).length%20%3F%20this.get_node(obj%2C%20true).data()%20%3A%20obj.data%20)%2C%0D%0A%09%09%09%7D%2C%20i%2C%20j%3B%0D%0A%09%09%09if(options%20%26%26%20options.flat)%20%7B%0D%0A%09%09%09%09tmp.parent%20%3D%20obj.parent%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09tmp.children%20%3D%20%5B%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!options%20%7C%7C%20!options.no_state)%20%7B%0D%0A%09%09%09%09for(i%20in%20obj.state)%20%7B%0D%0A%09%09%09%09%09if(obj.state.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09tmp.state%5Bi%5D%20%3D%20obj.state%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09delete%20tmp.state%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(options%20%26%26%20options.no_li_attr)%20%7B%0D%0A%09%09%09%09delete%20tmp.li_attr%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(options%20%26%26%20options.no_a_attr)%20%7B%0D%0A%09%09%09%09delete%20tmp.a_attr%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(options%20%26%26%20options.no_id)%20%7B%0D%0A%09%09%09%09delete%20tmp.id%3B%0D%0A%09%09%09%09if(tmp.li_attr%20%26%26%20tmp.li_attr.id)%20%7B%0D%0A%09%09%09%09%09delete%20tmp.li_attr.id%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(tmp.a_attr%20%26%26%20tmp.a_attr.id)%20%7B%0D%0A%09%09%09%09%09delete%20tmp.a_attr.id%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(options%20%26%26%20options.flat%20%26%26%20obj.id%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09flat.push(tmp)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!options%20%7C%7C%20!options.no_children)%20%7B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(options%20%26%26%20options.flat)%20%7B%0D%0A%09%09%09%09%09%09this.get_json(obj.children%5Bi%5D%2C%20options%2C%20flat)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09tmp.children.push(this.get_json(obj.children%5Bi%5D%2C%20options))%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20options%20%26%26%20options.flat%20%3F%20flat%20%3A%20(obj.id%20%3D%3D%3D%20%24.jstree.root%20%3F%20tmp.children%20%3A%20tmp)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20create%20a%20new%20node%20(do%20not%20confuse%20with%20load_node)%0D%0A%09%09%20*%20%40name%20create_node(%5Bpar%2C%20node%2C%20pos%2C%20callback%2C%20is_loaded%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20%20par%20%20%20%20%20%20%20the%20parent%20node%20(to%20create%20a%20root%20node%20use%20either%20%22%23%22%20(string)%20or%20%60null%60)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20%20node%20%20%20%20%20%20the%20data%20for%20the%20new%20node%20(a%20valid%20JSON%20object%2C%20or%20a%20simple%20string%20with%20the%20name)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20%20pos%20%20%20%20%20%20%20the%20index%20at%20which%20to%20insert%20the%20node%2C%20%22first%22%20and%20%22last%22%20are%20also%20supported%2C%20default%20is%20%22last%22%0D%0A%09%09%20*%20%40param%20%20%7BFunction%7D%20callback%20a%20function%20to%20be%20called%20once%20the%20node%20is%20created%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20is_loaded%20internal%20argument%20indicating%20if%20the%20parent%20node%20was%20succesfully%20loaded%0D%0A%09%09%20*%20%40return%20%7BString%7D%20%20%20%20%20%20%20%20%20%20%20%20the%20ID%20of%20the%20newly%20create%20node%0D%0A%09%09%20*%20%40trigger%20model.jstree%2C%20create_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09create_node%20%3A%20function%20(par%2C%20node%2C%20pos%2C%20callback%2C%20is_loaded)%20%7B%0D%0A%09%09%09if(par%20%3D%3D%3D%20null)%20%7B%20par%20%3D%20%24.jstree.root%3B%20%7D%0D%0A%09%09%09par%20%3D%20this.get_node(par)%3B%0D%0A%09%09%09if(!par)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09pos%20%3D%20pos%20%3D%3D%3D%20undefined%20%3F%20%22last%22%20%3A%20pos%3B%0D%0A%09%09%09if(!pos.toString().match(%2F%5E(before%7Cafter)%24%2F)%20%26%26%20!is_loaded%20%26%26%20!this.is_loaded(par))%20%7B%0D%0A%09%09%09%09return%20this.load_node(par%2C%20function%20()%20%7B%20this.create_node(par%2C%20node%2C%20pos%2C%20callback%2C%20true)%3B%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!node)%20%7B%20node%20%3D%20%7B%20%22text%22%20%3A%20this.get_string('New%20node')%20%7D%3B%20%7D%0D%0A%09%09%09if(typeof%20node%20%3D%3D%3D%20%22string%22)%20%7B%0D%0A%09%09%09%09node%20%3D%20%7B%20%22text%22%20%3A%20node%20%7D%3B%0D%0A%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09node%20%3D%20%24.extend(true%2C%20%7B%7D%2C%20node)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(node.text%20%3D%3D%3D%20undefined)%20%7B%20node.text%20%3D%20this.get_string('New%20node')%3B%20%7D%0D%0A%09%09%09var%20tmp%2C%20dpc%2C%20i%2C%20j%3B%0D%0A%0D%0A%09%09%09if(par.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09if(pos%20%3D%3D%3D%20%22before%22)%20%7B%20pos%20%3D%20%22first%22%3B%20%7D%0D%0A%09%09%09%09if(pos%20%3D%3D%3D%20%22after%22)%20%7B%20pos%20%3D%20%22last%22%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09switch(pos)%20%7B%0D%0A%09%09%09%09case%20%22before%22%3A%0D%0A%09%09%09%09%09tmp%20%3D%20this.get_node(par.parent)%3B%0D%0A%09%09%09%09%09pos%20%3D%20%24.inArray(par.id%2C%20tmp.children)%3B%0D%0A%09%09%09%09%09par%20%3D%20tmp%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22after%22%20%3A%0D%0A%09%09%09%09%09tmp%20%3D%20this.get_node(par.parent)%3B%0D%0A%09%09%09%09%09pos%20%3D%20%24.inArray(par.id%2C%20tmp.children)%20%2B%201%3B%0D%0A%09%09%09%09%09par%20%3D%20tmp%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22inside%22%3A%0D%0A%09%09%09%09case%20%22first%22%3A%0D%0A%09%09%09%09%09pos%20%3D%200%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22last%22%3A%0D%0A%09%09%09%09%09pos%20%3D%20par.children.length%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09default%3A%0D%0A%09%09%09%09%09if(!pos)%20%7B%20pos%20%3D%200%3B%20%7D%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(pos%20%3E%20par.children.length)%20%7B%20pos%20%3D%20par.children.length%3B%20%7D%0D%0A%09%09%09if(!node.id)%20%7B%20node.id%20%3D%20true%3B%20%7D%0D%0A%09%09%09if(!this.check(%22create_node%22%2C%20node%2C%20par%2C%20pos))%20%7B%0D%0A%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(node.id%20%3D%3D%3D%20true)%20%7B%20delete%20node.id%3B%20%7D%0D%0A%09%09%09node%20%3D%20this._parse_model_from_json(node%2C%20par.id%2C%20par.parents.concat())%3B%0D%0A%09%09%09if(!node)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09tmp%20%3D%20this.get_node(node)%3B%0D%0A%09%09%09dpc%20%3D%20%5B%5D%3B%0D%0A%09%09%09dpc.push(node)%3B%0D%0A%09%09%09dpc%20%3D%20dpc.concat(tmp.children_d)%3B%0D%0A%09%09%09this.trigger('model'%2C%20%7B%20%22nodes%22%20%3A%20dpc%2C%20%22parent%22%20%3A%20par.id%20%7D)%3B%0D%0A%0D%0A%09%09%09par.children_d%20%3D%20par.children_d.concat(dpc)%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20par.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09this._model.data%5Bpar.parents%5Bi%5D%5D.children_d%20%3D%20this._model.data%5Bpar.parents%5Bi%5D%5D.children_d.concat(dpc)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09node%20%3D%20tmp%3B%0D%0A%09%09%09tmp%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20par.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09tmp%5Bi%20%3E%3D%20pos%20%3F%20i%2B1%20%3A%20i%5D%20%3D%20par.children%5Bi%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%5Bpos%5D%20%3D%20node.id%3B%0D%0A%09%09%09par.children%20%3D%20tmp%3B%0D%0A%0D%0A%09%09%09this.redraw_node(par%2C%20true)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20is%20created%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20create_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20parent%20the%20parent's%20ID%0D%0A%09%09%09%20*%20%40param%20%7BNumber%7D%20position%20the%20position%20of%20the%20new%20node%20among%20the%20parent's%20children%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('create_node'%2C%20%7B%20%22node%22%20%3A%20this.get_node(node)%2C%20%22parent%22%20%3A%20par.id%2C%20%22position%22%20%3A%20pos%20%7D)%3B%0D%0A%09%09%09if(callback)%20%7B%20callback.call(this%2C%20this.get_node(node))%3B%20%7D%0D%0A%09%09%09return%20node.id%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20set%20the%20text%20value%20of%20a%20node%0D%0A%09%09%20*%20%40name%20rename_node(obj%2C%20val)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%2C%20you%20can%20pass%20an%20array%20to%20rename%20multiple%20nodes%20to%20the%20same%20name%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20val%20the%20new%20text%20value%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%20%40trigger%20rename_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09rename_node%20%3A%20function%20(obj%2C%20val)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20old%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.rename_node(obj%5Bt1%5D%2C%20val)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09old%20%3D%20obj.text%3B%0D%0A%09%09%09if(!this.check(%22rename_node%22%2C%20obj%2C%20this.get_parent(obj)%2C%20val))%20%7B%0D%0A%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this.set_text(obj%2C%20val)%3B%20%2F%2F%20.apply(this%2C%20Array.prototype.slice.call(arguments))%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20is%20renamed%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20rename_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20text%20the%20new%20value%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20old%20the%20old%20value%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('rename_node'%2C%20%7B%20%22node%22%20%3A%20obj%2C%20%22text%22%20%3A%20val%2C%20%22old%22%20%3A%20old%20%7D)%3B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20remove%20a%20node%0D%0A%09%09%20*%20%40name%20delete_node(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%2C%20you%20can%20pass%20an%20array%20to%20delete%20multiple%20nodes%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%20%40trigger%20delete_node.jstree%2C%20changed.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09delete_node%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20par%2C%20pos%2C%20tmp%2C%20i%2C%20j%2C%20k%2C%20l%2C%20c%2C%20top%2C%20lft%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.delete_node(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09par%20%3D%20this.get_node(obj.parent)%3B%0D%0A%09%09%09pos%20%3D%20%24.inArray(obj.id%2C%20par.children)%3B%0D%0A%09%09%09c%20%3D%20false%3B%0D%0A%09%09%09if(!this.check(%22delete_node%22%2C%20obj%2C%20par%2C%20pos))%20%7B%0D%0A%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(pos%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09par.children%20%3D%20%24.vakata.array_remove(par.children%2C%20pos)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20obj.children_d.concat(%5B%5D)%3B%0D%0A%09%09%09tmp.push(obj.id)%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09this._model.data%5Bobj.parents%5Bi%5D%5D.children_d%20%3D%20%24.vakata.array_filter(this._model.data%5Bobj.parents%5Bi%5D%5D.children_d%2C%20function%20(v)%20%7B%0D%0A%09%09%09%09%09return%20%24.inArray(v%2C%20tmp)%20%3D%3D%3D%20-1%3B%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(k%20%3D%200%2C%20l%20%3D%20tmp.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09if(this._model.data%5Btmp%5Bk%5D%5D.state.selected)%20%7B%0D%0A%09%09%09%09%09c%20%3D%20true%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(c)%20%7B%0D%0A%09%09%09%09this._data.core.selected%20%3D%20%24.vakata.array_filter(this._data.core.selected%2C%20function%20(v)%20%7B%0D%0A%09%09%09%09%09return%20%24.inArray(v%2C%20tmp)%20%3D%3D%3D%20-1%3B%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20is%20deleted%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20delete_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20parent%20the%20parent's%20ID%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('delete_node'%2C%20%7B%20%22node%22%20%3A%20obj%2C%20%22parent%22%20%3A%20par.id%20%7D)%3B%0D%0A%09%09%09if(c)%20%7B%0D%0A%09%09%09%09this.trigger('changed'%2C%20%7B%20'action'%20%3A%20'delete_node'%2C%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.core.selected%2C%20'parent'%20%3A%20par.id%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(k%20%3D%200%2C%20l%20%3D%20tmp.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09delete%20this._model.data%5Btmp%5Bk%5D%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(%24.inArray(this._data.core.focused%2C%20tmp)%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09this._data.core.focused%20%3D%20null%3B%0D%0A%09%09%09%09top%20%3D%20this.element%5B0%5D.scrollTop%3B%0D%0A%09%09%09%09lft%20%3D%20this.element%5B0%5D.scrollLeft%3B%0D%0A%09%09%09%09if(par.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09if%20(this._model.data%5B%24.jstree.root%5D.children%5B0%5D)%20%7B%0D%0A%09%09%09%09%09%09this.get_node(this._model.data%5B%24.jstree.root%5D.children%5B0%5D%2C%20true).children('.jstree-anchor').focus()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09this.get_node(par%2C%20true).children('.jstree-anchor').focus()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09this.element%5B0%5D.scrollTop%20%20%3D%20top%3B%0D%0A%09%09%09%09this.element%5B0%5D.scrollLeft%20%3D%20lft%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this.redraw_node(par%2C%20true)%3B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20check%20if%20an%20operation%20is%20premitted%20on%20the%20tree.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20check(chk%2C%20obj%2C%20par%2C%20pos)%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20chk%20the%20operation%20to%20check%2C%20can%20be%20%22create_node%22%2C%20%22rename_node%22%2C%20%22delete_node%22%2C%20%22copy_node%22%20or%20%22move_node%22%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20par%20the%20parent%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20pos%20the%20position%20to%20insert%20at%2C%20or%20if%20%22rename_node%22%20-%20the%20new%20name%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20more%20some%20various%20additional%20information%2C%20for%20example%20if%20a%20%22move_node%22%20operations%20is%20triggered%20by%20DND%20this%20will%20be%20the%20hovered%20node%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09check%20%3A%20function%20(chk%2C%20obj%2C%20par%2C%20pos%2C%20more)%20%7B%0D%0A%09%09%09obj%20%3D%20obj%20%26%26%20obj.id%20%3F%20obj%20%3A%20this.get_node(obj)%3B%0D%0A%09%09%09par%20%3D%20par%20%26%26%20par.id%20%3F%20par%20%3A%20this.get_node(par)%3B%0D%0A%09%09%09var%20tmp%20%3D%20chk.match(%2F%5Emove_node%7Ccopy_node%7Ccreate_node%24%2Fi)%20%3F%20par%20%3A%20obj%2C%0D%0A%09%09%09%09chc%20%3D%20this.settings.core.check_callback%3B%0D%0A%09%09%09if(chk%20%3D%3D%3D%20%22move_node%22%20%7C%7C%20chk%20%3D%3D%3D%20%22copy_node%22)%20%7B%0D%0A%09%09%09%09if((!more%20%7C%7C%20!more.is_multi)%20%26%26%20(obj.id%20%3D%3D%3D%20par.id%20%7C%7C%20(chk%20%3D%3D%3D%20%22move_node%22%20%26%26%20%24.inArray(obj.id%2C%20par.children)%20%3D%3D%3D%20pos)%20%7C%7C%20%24.inArray(par.id%2C%20obj.children_d)%20!%3D%3D%20-1))%20%7B%0D%0A%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_01'%2C%20'reason'%20%3A%20'Moving%20parent%20inside%20child'%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(tmp%20%26%26%20tmp.data)%20%7B%20tmp%20%3D%20tmp.data%3B%20%7D%0D%0A%09%09%09if(tmp%20%26%26%20tmp.functions%20%26%26%20(tmp.functions%5Bchk%5D%20%3D%3D%3D%20false%20%7C%7C%20tmp.functions%5Bchk%5D%20%3D%3D%3D%20true))%20%7B%0D%0A%09%09%09%09if(tmp.functions%5Bchk%5D%20%3D%3D%3D%20false)%20%7B%0D%0A%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_02'%2C%20'reason'%20%3A%20'Node%20data%20prevents%20function%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20tmp.functions%5Bchk%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(chc%20%3D%3D%3D%20false%20%7C%7C%20(%24.isFunction(chc)%20%26%26%20chc.call(this%2C%20chk%2C%20obj%2C%20par%2C%20pos%2C%20more)%20%3D%3D%3D%20false)%20%7C%7C%20(chc%20%26%26%20chc%5Bchk%5D%20%3D%3D%3D%20false))%20%7B%0D%0A%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'core'%2C%20'id'%20%3A%20'core_03'%2C%20'reason'%20%3A%20'User%20config%20for%20core.check_callback%20prevents%20function%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20last%20error%0D%0A%09%09%20*%20%40name%20last_error()%0D%0A%09%09%20*%20%40return%20%7BObject%7D%0D%0A%09%09%20*%2F%0D%0A%09%09last_error%20%3A%20function%20()%20%7B%0D%0A%09%09%09return%20this._data.core.last_error%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20move%20a%20node%20to%20a%20new%20parent%0D%0A%09%09%20*%20%40name%20move_node(obj%2C%20par%20%5B%2C%20pos%2C%20callback%2C%20is_loaded%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%20to%20move%2C%20pass%20an%20array%20to%20move%20multiple%20nodes%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20par%20the%20new%20parent%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20pos%20the%20position%20to%20insert%20at%20(besides%20integer%20values%2C%20%22first%22%20and%20%22last%22%20are%20supported%2C%20as%20well%20as%20%22before%22%20and%20%22after%22)%2C%20defaults%20to%20integer%20%600%60%0D%0A%09%09%20*%20%40param%20%20%7Bfunction%7D%20callback%20a%20function%20to%20call%20once%20the%20move%20is%20completed%2C%20receives%203%20arguments%20-%20the%20node%2C%20the%20new%20parent%20and%20the%20position%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20is_loaded%20internal%20parameter%20indicating%20if%20the%20parent%20node%20has%20been%20loaded%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20skip_redraw%20internal%20parameter%20indicating%20if%20the%20tree%20should%20be%20redrawn%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20instance%20internal%20parameter%20indicating%20if%20the%20node%20comes%20from%20another%20instance%0D%0A%09%09%20*%20%40trigger%20move_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09move_node%20%3A%20function%20(obj%2C%20par%2C%20pos%2C%20callback%2C%20is_loaded%2C%20skip_redraw%2C%20origin)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20old_par%2C%20old_pos%2C%20new_par%2C%20old_ins%2C%20is_multi%2C%20dpc%2C%20tmp%2C%20i%2C%20j%2C%20k%2C%20l%2C%20p%3B%0D%0A%0D%0A%09%09%09par%20%3D%20this.get_node(par)%3B%0D%0A%09%09%09pos%20%3D%20pos%20%3D%3D%3D%20undefined%20%3F%200%20%3A%20pos%3B%0D%0A%09%09%09if(!par)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(!pos.toString().match(%2F%5E(before%7Cafter)%24%2F)%20%26%26%20!is_loaded%20%26%26%20!this.is_loaded(par))%20%7B%0D%0A%09%09%09%09return%20this.load_node(par%2C%20function%20()%20%7B%20this.move_node(obj%2C%20par%2C%20pos%2C%20callback%2C%20true%2C%20false%2C%20origin)%3B%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09if(obj.length%20%3D%3D%3D%201)%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20obj%5B0%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%2F%2Fobj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if((tmp%20%3D%20this.move_node(obj%5Bt1%5D%2C%20par%2C%20pos%2C%20callback%2C%20is_loaded%2C%20false%2C%20origin)))%20%7B%0D%0A%09%09%09%09%09%09%09par%20%3D%20tmp%3B%0D%0A%09%09%09%09%09%09%09pos%20%3D%20%22after%22%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20obj%20%26%26%20obj.id%20%3F%20obj%20%3A%20this.get_node(obj)%3B%0D%0A%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%0D%0A%09%09%09old_par%20%3D%20(obj.parent%20%7C%7C%20%24.jstree.root).toString()%3B%0D%0A%09%09%09new_par%20%3D%20(!pos.toString().match(%2F%5E(before%7Cafter)%24%2F)%20%7C%7C%20par.id%20%3D%3D%3D%20%24.jstree.root)%20%3F%20par%20%3A%20this.get_node(par.parent)%3B%0D%0A%09%09%09old_ins%20%3D%20origin%20%3F%20origin%20%3A%20(this._model.data%5Bobj.id%5D%20%3F%20this%20%3A%20%24.jstree.reference(obj.id))%3B%0D%0A%09%09%09is_multi%20%3D%20!old_ins%20%7C%7C%20!old_ins._id%20%7C%7C%20(this._id%20!%3D%3D%20old_ins._id)%3B%0D%0A%09%09%09old_pos%20%3D%20old_ins%20%26%26%20old_ins._id%20%26%26%20old_par%20%26%26%20old_ins._model.data%5Bold_par%5D%20%26%26%20old_ins._model.data%5Bold_par%5D.children%20%3F%20%24.inArray(obj.id%2C%20old_ins._model.data%5Bold_par%5D.children)%20%3A%20-1%3B%0D%0A%09%09%09if(old_ins%20%26%26%20old_ins._id)%20%7B%0D%0A%09%09%09%09obj%20%3D%20old_ins._model.data%5Bobj.id%5D%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if(is_multi)%20%7B%0D%0A%09%09%09%09if((tmp%20%3D%20this.copy_node(obj%2C%20par%2C%20pos%2C%20callback%2C%20is_loaded%2C%20false%2C%20origin)))%20%7B%0D%0A%09%09%09%09%09if(old_ins)%20%7B%20old_ins.delete_node(obj)%3B%20%7D%0D%0A%09%09%09%09%09return%20tmp%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F%2Fvar%20m%20%3D%20this._model.data%3B%0D%0A%09%09%09if(par.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09if(pos%20%3D%3D%3D%20%22before%22)%20%7B%20pos%20%3D%20%22first%22%3B%20%7D%0D%0A%09%09%09%09if(pos%20%3D%3D%3D%20%22after%22)%20%7B%20pos%20%3D%20%22last%22%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09switch(pos)%20%7B%0D%0A%09%09%09%09case%20%22before%22%3A%0D%0A%09%09%09%09%09pos%20%3D%20%24.inArray(par.id%2C%20new_par.children)%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22after%22%20%3A%0D%0A%09%09%09%09%09pos%20%3D%20%24.inArray(par.id%2C%20new_par.children)%20%2B%201%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22inside%22%3A%0D%0A%09%09%09%09case%20%22first%22%3A%0D%0A%09%09%09%09%09pos%20%3D%200%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22last%22%3A%0D%0A%09%09%09%09%09pos%20%3D%20new_par.children.length%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09default%3A%0D%0A%09%09%09%09%09if(!pos)%20%7B%20pos%20%3D%200%3B%20%7D%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(pos%20%3E%20new_par.children.length)%20%7B%20pos%20%3D%20new_par.children.length%3B%20%7D%0D%0A%09%09%09if(!this.check(%22move_node%22%2C%20obj%2C%20new_par%2C%20pos%2C%20%7B%20'core'%20%3A%20true%2C%20'origin'%20%3A%20origin%2C%20'is_multi'%20%3A%20(old_ins%20%26%26%20old_ins._id%20%26%26%20old_ins._id%20!%3D%3D%20this._id)%2C%20'is_foreign'%20%3A%20(!old_ins%20%7C%7C%20!old_ins._id)%20%7D))%20%7B%0D%0A%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(obj.parent%20%3D%3D%3D%20new_par.id)%20%7B%0D%0A%09%09%09%09dpc%20%3D%20new_par.children.concat()%3B%0D%0A%09%09%09%09tmp%20%3D%20%24.inArray(obj.id%2C%20dpc)%3B%0D%0A%09%09%09%09if(tmp%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09dpc%20%3D%20%24.vakata.array_remove(dpc%2C%20tmp)%3B%0D%0A%09%09%09%09%09if(pos%20%3E%20tmp)%20%7B%20pos--%3B%20%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09tmp%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dpc.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09tmp%5Bi%20%3E%3D%20pos%20%3F%20i%2B1%20%3A%20i%5D%20%3D%20dpc%5Bi%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09tmp%5Bpos%5D%20%3D%20obj.id%3B%0D%0A%09%09%09%09new_par.children%20%3D%20tmp%3B%0D%0A%09%09%09%09this._node_changed(new_par.id)%3B%0D%0A%09%09%09%09this.redraw(new_par.id%20%3D%3D%3D%20%24.jstree.root)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09%2F%2F%20clean%20old%20parent%20and%20up%0D%0A%09%09%09%09tmp%20%3D%20obj.children_d.concat()%3B%0D%0A%09%09%09%09tmp.push(obj.id)%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09dpc%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09p%20%3D%20old_ins._model.data%5Bobj.parents%5Bi%5D%5D.children_d%3B%0D%0A%09%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20p.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if(%24.inArray(p%5Bk%5D%2C%20tmp)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09dpc.push(p%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09old_ins._model.data%5Bobj.parents%5Bi%5D%5D.children_d%20%3D%20dpc%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09old_ins._model.data%5Bold_par%5D.children%20%3D%20%24.vakata.array_remove_item(old_ins._model.data%5Bold_par%5D.children%2C%20obj.id)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20insert%20into%20new%20parent%20and%20up%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20new_par.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09this._model.data%5Bnew_par.parents%5Bi%5D%5D.children_d%20%3D%20this._model.data%5Bnew_par.parents%5Bi%5D%5D.children_d.concat(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09dpc%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20new_par.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09dpc%5Bi%20%3E%3D%20pos%20%3F%20i%2B1%20%3A%20i%5D%20%3D%20new_par.children%5Bi%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09dpc%5Bpos%5D%20%3D%20obj.id%3B%0D%0A%09%09%09%09new_par.children%20%3D%20dpc%3B%0D%0A%09%09%09%09new_par.children_d.push(obj.id)%3B%0D%0A%09%09%09%09new_par.children_d%20%3D%20new_par.children_d.concat(obj.children_d)%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20update%20object%0D%0A%09%09%09%09obj.parent%20%3D%20new_par.id%3B%0D%0A%09%09%09%09tmp%20%3D%20new_par.parents.concat()%3B%0D%0A%09%09%09%09tmp.unshift(new_par.id)%3B%0D%0A%09%09%09%09p%20%3D%20obj.parents.length%3B%0D%0A%09%09%09%09obj.parents%20%3D%20tmp%3B%0D%0A%0D%0A%09%09%09%09%2F%2F%20update%20object%20children%0D%0A%09%09%09%09tmp%20%3D%20tmp.concat()%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09this._model.data%5Bobj.children_d%5Bi%5D%5D.parents%20%3D%20this._model.data%5Bobj.children_d%5Bi%5D%5D.parents.slice(0%2Cp*-1)%3B%0D%0A%09%09%09%09%09Array.prototype.push.apply(this._model.data%5Bobj.children_d%5Bi%5D%5D.parents%2C%20tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09if(old_par%20%3D%3D%3D%20%24.jstree.root%20%7C%7C%20new_par.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09this._model.force_full_redraw%20%3D%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!this._model.force_full_redraw)%20%7B%0D%0A%09%09%09%09%09this._node_changed(old_par)%3B%0D%0A%09%09%09%09%09this._node_changed(new_par.id)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!skip_redraw)%20%7B%0D%0A%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(callback)%20%7B%20callback.call(this%2C%20obj%2C%20new_par%2C%20pos)%3B%20%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20is%20moved%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20move_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20parent%20the%20parent's%20ID%0D%0A%09%09%09%20*%20%40param%20%7BNumber%7D%20position%20the%20position%20of%20the%20node%20among%20the%20parent's%20children%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20old_parent%20the%20old%20parent%20of%20the%20node%0D%0A%09%09%09%20*%20%40param%20%7BNumber%7D%20old_position%20the%20old%20position%20of%20the%20node%0D%0A%09%09%09%20*%20%40param%20%7BBoolean%7D%20is_multi%20do%20the%20node%20and%20new%20parent%20belong%20to%20different%20instances%0D%0A%09%09%09%20*%20%40param%20%7BjsTree%7D%20old_instance%20the%20instance%20the%20node%20came%20from%0D%0A%09%09%09%20*%20%40param%20%7BjsTree%7D%20new_instance%20the%20instance%20of%20the%20new%20parent%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('move_node'%2C%20%7B%20%22node%22%20%3A%20obj%2C%20%22parent%22%20%3A%20new_par.id%2C%20%22position%22%20%3A%20pos%2C%20%22old_parent%22%20%3A%20old_par%2C%20%22old_position%22%20%3A%20old_pos%2C%20'is_multi'%20%3A%20(old_ins%20%26%26%20old_ins._id%20%26%26%20old_ins._id%20!%3D%3D%20this._id)%2C%20'is_foreign'%20%3A%20(!old_ins%20%7C%7C%20!old_ins._id)%2C%20'old_instance'%20%3A%20old_ins%2C%20'new_instance'%20%3A%20this%20%7D)%3B%0D%0A%09%09%09return%20obj.id%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20copy%20a%20node%20to%20a%20new%20parent%0D%0A%09%09%20*%20%40name%20copy_node(obj%2C%20par%20%5B%2C%20pos%2C%20callback%2C%20is_loaded%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%20to%20copy%2C%20pass%20an%20array%20to%20copy%20multiple%20nodes%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20par%20the%20new%20parent%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20pos%20the%20position%20to%20insert%20at%20(besides%20integer%20values%2C%20%22first%22%20and%20%22last%22%20are%20supported%2C%20as%20well%20as%20%22before%22%20and%20%22after%22)%2C%20defaults%20to%20integer%20%600%60%0D%0A%09%09%20*%20%40param%20%20%7Bfunction%7D%20callback%20a%20function%20to%20call%20once%20the%20move%20is%20completed%2C%20receives%203%20arguments%20-%20the%20node%2C%20the%20new%20parent%20and%20the%20position%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20is_loaded%20internal%20parameter%20indicating%20if%20the%20parent%20node%20has%20been%20loaded%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20skip_redraw%20internal%20parameter%20indicating%20if%20the%20tree%20should%20be%20redrawn%0D%0A%09%09%20*%20%40param%20%20%7BBoolean%7D%20instance%20internal%20parameter%20indicating%20if%20the%20node%20comes%20from%20another%20instance%0D%0A%09%09%20*%20%40trigger%20model.jstree%20copy_node.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09copy_node%20%3A%20function%20(obj%2C%20par%2C%20pos%2C%20callback%2C%20is_loaded%2C%20skip_redraw%2C%20origin)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20dpc%2C%20tmp%2C%20i%2C%20j%2C%20node%2C%20old_par%2C%20new_par%2C%20old_ins%2C%20is_multi%3B%0D%0A%0D%0A%09%09%09par%20%3D%20this.get_node(par)%3B%0D%0A%09%09%09pos%20%3D%20pos%20%3D%3D%3D%20undefined%20%3F%200%20%3A%20pos%3B%0D%0A%09%09%09if(!par)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(!pos.toString().match(%2F%5E(before%7Cafter)%24%2F)%20%26%26%20!is_loaded%20%26%26%20!this.is_loaded(par))%20%7B%0D%0A%09%09%09%09return%20this.load_node(par%2C%20function%20()%20%7B%20this.copy_node(obj%2C%20par%2C%20pos%2C%20callback%2C%20true%2C%20false%2C%20origin)%3B%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09if(obj.length%20%3D%3D%3D%201)%20%7B%0D%0A%09%09%09%09%09obj%20%3D%20obj%5B0%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%2F%2Fobj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if((tmp%20%3D%20this.copy_node(obj%5Bt1%5D%2C%20par%2C%20pos%2C%20callback%2C%20is_loaded%2C%20true%2C%20origin)))%20%7B%0D%0A%09%09%09%09%09%09%09par%20%3D%20tmp%3B%0D%0A%09%09%09%09%09%09%09pos%20%3D%20%22after%22%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09this.redraw()%3B%0D%0A%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20obj%20%26%26%20obj.id%20%3F%20obj%20%3A%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%0D%0A%09%09%09old_par%20%3D%20(obj.parent%20%7C%7C%20%24.jstree.root).toString()%3B%0D%0A%09%09%09new_par%20%3D%20(!pos.toString().match(%2F%5E(before%7Cafter)%24%2F)%20%7C%7C%20par.id%20%3D%3D%3D%20%24.jstree.root)%20%3F%20par%20%3A%20this.get_node(par.parent)%3B%0D%0A%09%09%09old_ins%20%3D%20origin%20%3F%20origin%20%3A%20(this._model.data%5Bobj.id%5D%20%3F%20this%20%3A%20%24.jstree.reference(obj.id))%3B%0D%0A%09%09%09is_multi%20%3D%20!old_ins%20%7C%7C%20!old_ins._id%20%7C%7C%20(this._id%20!%3D%3D%20old_ins._id)%3B%0D%0A%0D%0A%09%09%09if(old_ins%20%26%26%20old_ins._id)%20%7B%0D%0A%09%09%09%09obj%20%3D%20old_ins._model.data%5Bobj.id%5D%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if(par.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09if(pos%20%3D%3D%3D%20%22before%22)%20%7B%20pos%20%3D%20%22first%22%3B%20%7D%0D%0A%09%09%09%09if(pos%20%3D%3D%3D%20%22after%22)%20%7B%20pos%20%3D%20%22last%22%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09switch(pos)%20%7B%0D%0A%09%09%09%09case%20%22before%22%3A%0D%0A%09%09%09%09%09pos%20%3D%20%24.inArray(par.id%2C%20new_par.children)%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22after%22%20%3A%0D%0A%09%09%09%09%09pos%20%3D%20%24.inArray(par.id%2C%20new_par.children)%20%2B%201%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22inside%22%3A%0D%0A%09%09%09%09case%20%22first%22%3A%0D%0A%09%09%09%09%09pos%20%3D%200%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09case%20%22last%22%3A%0D%0A%09%09%09%09%09pos%20%3D%20new_par.children.length%3B%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%09default%3A%0D%0A%09%09%09%09%09if(!pos)%20%7B%20pos%20%3D%200%3B%20%7D%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(pos%20%3E%20new_par.children.length)%20%7B%20pos%20%3D%20new_par.children.length%3B%20%7D%0D%0A%09%09%09if(!this.check(%22copy_node%22%2C%20obj%2C%20new_par%2C%20pos%2C%20%7B%20'core'%20%3A%20true%2C%20'origin'%20%3A%20origin%2C%20'is_multi'%20%3A%20(old_ins%20%26%26%20old_ins._id%20%26%26%20old_ins._id%20!%3D%3D%20this._id)%2C%20'is_foreign'%20%3A%20(!old_ins%20%7C%7C%20!old_ins._id)%20%7D))%20%7B%0D%0A%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09node%20%3D%20old_ins%20%3F%20old_ins.get_json(obj%2C%20%7B%20no_id%20%3A%20true%2C%20no_data%20%3A%20true%2C%20no_state%20%3A%20true%20%7D)%20%3A%20obj%3B%0D%0A%09%09%09if(!node)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(node.id%20%3D%3D%3D%20true)%20%7B%20delete%20node.id%3B%20%7D%0D%0A%09%09%09node%20%3D%20this._parse_model_from_json(node%2C%20new_par.id%2C%20new_par.parents.concat())%3B%0D%0A%09%09%09if(!node)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09tmp%20%3D%20this.get_node(node)%3B%0D%0A%09%09%09if(obj%20%26%26%20obj.state%20%26%26%20obj.state.loaded%20%3D%3D%3D%20false)%20%7B%20tmp.state.loaded%20%3D%20false%3B%20%7D%0D%0A%09%09%09dpc%20%3D%20%5B%5D%3B%0D%0A%09%09%09dpc.push(node)%3B%0D%0A%09%09%09dpc%20%3D%20dpc.concat(tmp.children_d)%3B%0D%0A%09%09%09this.trigger('model'%2C%20%7B%20%22nodes%22%20%3A%20dpc%2C%20%22parent%22%20%3A%20new_par.id%20%7D)%3B%0D%0A%0D%0A%09%09%09%2F%2F%20insert%20into%20new%20parent%20and%20up%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20new_par.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09this._model.data%5Bnew_par.parents%5Bi%5D%5D.children_d%20%3D%20this._model.data%5Bnew_par.parents%5Bi%5D%5D.children_d.concat(dpc)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dpc%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20new_par.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09dpc%5Bi%20%3E%3D%20pos%20%3F%20i%2B1%20%3A%20i%5D%20%3D%20new_par.children%5Bi%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dpc%5Bpos%5D%20%3D%20tmp.id%3B%0D%0A%09%09%09new_par.children%20%3D%20dpc%3B%0D%0A%09%09%09new_par.children_d.push(tmp.id)%3B%0D%0A%09%09%09new_par.children_d%20%3D%20new_par.children_d.concat(tmp.children_d)%3B%0D%0A%0D%0A%09%09%09if(new_par.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09this._model.force_full_redraw%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!this._model.force_full_redraw)%20%7B%0D%0A%09%09%09%09this._node_changed(new_par.id)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!skip_redraw)%20%7B%0D%0A%09%09%09%09this.redraw(new_par.id%20%3D%3D%3D%20%24.jstree.root)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(callback)%20%7B%20callback.call(this%2C%20tmp%2C%20new_par%2C%20pos)%3B%20%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20node%20is%20copied%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20copy_node.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20copied%20node%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20original%20the%20original%20node%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20parent%20the%20parent's%20ID%0D%0A%09%09%09%20*%20%40param%20%7BNumber%7D%20position%20the%20position%20of%20the%20node%20among%20the%20parent's%20children%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20old_parent%20the%20old%20parent%20of%20the%20node%0D%0A%09%09%09%20*%20%40param%20%7BNumber%7D%20old_position%20the%20position%20of%20the%20original%20node%0D%0A%09%09%09%20*%20%40param%20%7BBoolean%7D%20is_multi%20do%20the%20node%20and%20new%20parent%20belong%20to%20different%20instances%0D%0A%09%09%09%20*%20%40param%20%7BjsTree%7D%20old_instance%20the%20instance%20the%20node%20came%20from%0D%0A%09%09%09%20*%20%40param%20%7BjsTree%7D%20new_instance%20the%20instance%20of%20the%20new%20parent%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('copy_node'%2C%20%7B%20%22node%22%20%3A%20tmp%2C%20%22original%22%20%3A%20obj%2C%20%22parent%22%20%3A%20new_par.id%2C%20%22position%22%20%3A%20pos%2C%20%22old_parent%22%20%3A%20old_par%2C%20%22old_position%22%20%3A%20old_ins%20%26%26%20old_ins._id%20%26%26%20old_par%20%26%26%20old_ins._model.data%5Bold_par%5D%20%26%26%20old_ins._model.data%5Bold_par%5D.children%20%3F%20%24.inArray(obj.id%2C%20old_ins._model.data%5Bold_par%5D.children)%20%3A%20-1%2C'is_multi'%20%3A%20(old_ins%20%26%26%20old_ins._id%20%26%26%20old_ins._id%20!%3D%3D%20this._id)%2C%20'is_foreign'%20%3A%20(!old_ins%20%7C%7C%20!old_ins._id)%2C%20'old_instance'%20%3A%20old_ins%2C%20'new_instance'%20%3A%20this%20%7D)%3B%0D%0A%09%09%09return%20tmp.id%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20cut%20a%20node%20(a%20later%20call%20to%20%60paste(obj)%60%20would%20move%20the%20node)%0D%0A%09%09%20*%20%40name%20cut(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20multiple%20objects%20can%20be%20passed%20using%20an%20array%0D%0A%09%09%20*%20%40trigger%20cut.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09cut%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09if(!obj)%20%7B%20obj%20%3D%20this._data.core.selected.concat()%3B%20%7D%0D%0A%09%09%09if(!%24.isArray(obj))%20%7B%20obj%20%3D%20%5Bobj%5D%3B%20%7D%0D%0A%09%09%09if(!obj.length)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20%5B%5D%2C%20o%2C%20t1%2C%20t2%3B%0D%0A%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09o%20%3D%20this.get_node(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09if(o%20%26%26%20o.id%20%26%26%20o.id%20!%3D%3D%20%24.jstree.root)%20%7B%20tmp.push(o)%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!tmp.length)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09ccp_node%20%3D%20tmp%3B%0D%0A%09%09%09ccp_inst%20%3D%20this%3B%0D%0A%09%09%09ccp_mode%20%3D%20'move_node'%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20nodes%20are%20added%20to%20the%20buffer%20for%20moving%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20cut.jstree%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('cut'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20copy%20a%20node%20(a%20later%20call%20to%20%60paste(obj)%60%20would%20copy%20the%20node)%0D%0A%09%09%20*%20%40name%20copy(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20multiple%20objects%20can%20be%20passed%20using%20an%20array%0D%0A%09%09%20*%20%40trigger%20copy.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09copy%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09if(!obj)%20%7B%20obj%20%3D%20this._data.core.selected.concat()%3B%20%7D%0D%0A%09%09%09if(!%24.isArray(obj))%20%7B%20obj%20%3D%20%5Bobj%5D%3B%20%7D%0D%0A%09%09%09if(!obj.length)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20%5B%5D%2C%20o%2C%20t1%2C%20t2%3B%0D%0A%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09o%20%3D%20this.get_node(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09if(o%20%26%26%20o.id%20%26%26%20o.id%20!%3D%3D%20%24.jstree.root)%20%7B%20tmp.push(o)%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!tmp.length)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09ccp_node%20%3D%20tmp%3B%0D%0A%09%09%09ccp_inst%20%3D%20this%3B%0D%0A%09%09%09ccp_mode%20%3D%20'copy_node'%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20nodes%20are%20added%20to%20the%20buffer%20for%20copying%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20copy.jstree%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20node%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('copy'%2C%20%7B%20%22node%22%20%3A%20obj%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20current%20buffer%20(any%20nodes%20that%20are%20waiting%20for%20a%20paste%20operation)%0D%0A%09%09%20*%20%40name%20get_buffer()%0D%0A%09%09%20*%20%40return%20%7BObject%7D%20an%20object%20consisting%20of%20%60mode%60%20(%22copy_node%22%20or%20%22move_node%22)%2C%20%60node%60%20(an%20array%20of%20objects)%20and%20%60inst%60%20(the%20instance)%0D%0A%09%09%20*%2F%0D%0A%09%09get_buffer%20%3A%20function%20()%20%7B%0D%0A%09%09%09return%20%7B%20'mode'%20%3A%20ccp_mode%2C%20'node'%20%3A%20ccp_node%2C%20'inst'%20%3A%20ccp_inst%20%7D%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20check%20if%20there%20is%20something%20in%20the%20buffer%20to%20paste%0D%0A%09%09%20*%20%40name%20can_paste()%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09can_paste%20%3A%20function%20()%20%7B%0D%0A%09%09%09return%20ccp_mode%20!%3D%3D%20false%20%26%26%20ccp_node%20!%3D%3D%20false%3B%20%2F%2F%20%26%26%20ccp_inst._model.data%5Bccp_node%5D%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20copy%20or%20move%20the%20previously%20cut%20or%20copied%20nodes%20to%20a%20new%20parent%0D%0A%09%09%20*%20%40name%20paste(obj%20%5B%2C%20pos%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20new%20parent%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20pos%20the%20position%20to%20insert%20at%20(besides%20integer%2C%20%22first%22%20and%20%22last%22%20are%20supported)%2C%20defaults%20to%20integer%20%600%60%0D%0A%09%09%20*%20%40trigger%20paste.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09paste%20%3A%20function%20(obj%2C%20pos)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20!ccp_mode%20%7C%7C%20!ccp_mode.match(%2F%5E(copy_node%7Cmove_node)%24%2F)%20%7C%7C%20!ccp_node)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(this%5Bccp_mode%5D(ccp_node%2C%20obj%2C%20pos%2C%20false%2C%20false%2C%20false%2C%20ccp_inst))%20%7B%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20paste%20is%20invoked%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20paste.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BString%7D%20parent%20the%20ID%20of%20the%20receiving%20node%0D%0A%09%09%09%09%20*%20%40param%20%7BArray%7D%20node%20the%20nodes%20in%20the%20buffer%0D%0A%09%09%09%09%20*%20%40param%20%7BString%7D%20mode%20the%20performed%20operation%20-%20%22copy_node%22%20or%20%22move_node%22%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('paste'%2C%20%7B%20%22parent%22%20%3A%20obj.id%2C%20%22node%22%20%3A%20ccp_node%2C%20%22mode%22%20%3A%20ccp_mode%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09ccp_node%20%3D%20false%3B%0D%0A%09%09%09ccp_mode%20%3D%20false%3B%0D%0A%09%09%09ccp_inst%20%3D%20false%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20clear%20the%20buffer%20of%20previously%20copied%20or%20cut%20nodes%0D%0A%09%09%20*%20%40name%20clear_buffer()%0D%0A%09%09%20*%20%40trigger%20clear_buffer.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09clear_buffer%20%3A%20function%20()%20%7B%0D%0A%09%09%09ccp_node%20%3D%20false%3B%0D%0A%09%09%09ccp_mode%20%3D%20false%3B%0D%0A%09%09%09ccp_inst%20%3D%20false%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20the%20copy%20%2F%20cut%20buffer%20is%20cleared%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20clear_buffer.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('clear_buffer')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20put%20a%20node%20in%20edit%20mode%20(input%20field%20to%20rename%20the%20node)%0D%0A%09%09%20*%20%40name%20edit(obj%20%5B%2C%20default_text%2C%20callback%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%20%7BString%7D%20default_text%20the%20text%20to%20populate%20the%20input%20with%20(if%20omitted%20or%20set%20to%20a%20non-string%20value%20the%20node's%20text%20value%20is%20used)%0D%0A%09%09%20*%20%40param%20%20%7BFunction%7D%20callback%20a%20function%20to%20be%20called%20once%20the%20text%20box%20is%20blurred%2C%20it%20is%20called%20in%20the%20instance's%20scope%20and%20receives%20the%20node%2C%20a%20status%20parameter%20(true%20if%20the%20rename%20is%20successful%2C%20false%20otherwise)%20and%20a%20boolean%20indicating%20if%20the%20user%20cancelled%20the%20edit.%20You%20can%20access%20the%20node's%20title%20using%20.text%0D%0A%09%09%20*%2F%0D%0A%09%09edit%20%3A%20function%20(obj%2C%20default_text%2C%20callback)%20%7B%0D%0A%09%09%09var%20rtl%2C%20w%2C%20a%2C%20s%2C%20t%2C%20h1%2C%20h2%2C%20fn%2C%20tmp%2C%20cancel%20%3D%20false%3B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(!this.check(%22edit%22%2C%20obj%2C%20this.get_parent(obj)))%20%7B%0D%0A%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20obj%3B%0D%0A%09%09%09default_text%20%3D%20typeof%20default_text%20%3D%3D%3D%20'string'%20%3F%20default_text%20%3A%20obj.text%3B%0D%0A%09%09%09this.set_text(obj%2C%20%22%22)%3B%0D%0A%09%09%09obj%20%3D%20this._open_to(obj)%3B%0D%0A%09%09%09tmp.text%20%3D%20default_text%3B%0D%0A%0D%0A%09%09%09rtl%20%3D%20this._data.core.rtl%3B%0D%0A%09%09%09w%20%20%3D%20this.element.width()%3B%0D%0A%09%09%09this._data.core.focused%20%3D%20tmp.id%3B%0D%0A%09%09%09a%20%20%3D%20obj.children('.jstree-anchor').focus()%3B%0D%0A%09%09%09s%20%20%3D%20%24('%3Cspan%3E')%3B%0D%0A%09%09%09%2F*!%0D%0A%09%09%09oi%20%3D%20obj.children(%22i%3Avisible%22)%2C%0D%0A%09%09%09ai%20%3D%20a.children(%22i%3Avisible%22)%2C%0D%0A%09%09%09w1%20%3D%20oi.width()%20*%20oi.length%2C%0D%0A%09%09%09w2%20%3D%20ai.width()%20*%20ai.length%2C%0D%0A%09%09%09*%2F%0D%0A%09%09%09t%20%20%3D%20default_text%3B%0D%0A%09%09%09h1%20%3D%20%24(%22%3C%22%2B%22div%20%2F%3E%22%2C%20%7B%20css%20%3A%20%7B%20%22position%22%20%3A%20%22absolute%22%2C%20%22top%22%20%3A%20%22-200px%22%2C%20%22left%22%20%3A%20(rtl%20%3F%20%220px%22%20%3A%20%22-1000px%22)%2C%20%22visibility%22%20%3A%20%22hidden%22%20%7D%20%7D).appendTo(document.body)%3B%0D%0A%09%09%09h2%20%3D%20%24(%22%3C%22%2B%22input%20%2F%3E%22%2C%20%7B%0D%0A%09%09%09%09%09%09%22value%22%20%3A%20t%2C%0D%0A%09%09%09%09%09%09%22class%22%20%3A%20%22jstree-rename-input%22%2C%0D%0A%09%09%09%09%09%09%2F%2F%20%22size%22%20%3A%20t.length%2C%0D%0A%09%09%09%09%09%09%22css%22%20%3A%20%7B%0D%0A%09%09%09%09%09%09%09%22padding%22%20%3A%20%220%22%2C%0D%0A%09%09%09%09%09%09%09%22border%22%20%3A%20%221px%20solid%20silver%22%2C%0D%0A%09%09%09%09%09%09%09%22box-sizing%22%20%3A%20%22border-box%22%2C%0D%0A%09%09%09%09%09%09%09%22display%22%20%3A%20%22inline-block%22%2C%0D%0A%09%09%09%09%09%09%09%22height%22%20%3A%20(this._data.core.li_height)%20%2B%20%22px%22%2C%0D%0A%09%09%09%09%09%09%09%22lineHeight%22%20%3A%20(this._data.core.li_height)%20%2B%20%22px%22%2C%0D%0A%09%09%09%09%09%09%09%22width%22%20%3A%20%22150px%22%20%2F%2F%20will%20be%20set%20a%20bit%20further%20down%0D%0A%09%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%09%22blur%22%20%3A%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09var%20i%20%3D%20s.children(%22.jstree-rename-input%22)%2C%0D%0A%09%09%09%09%09%09%09%09v%20%3D%20i.val()%2C%0D%0A%09%09%09%09%09%09%09%09f%20%3D%20this.settings.core.force_text%2C%0D%0A%09%09%09%09%09%09%09%09nv%3B%0D%0A%09%09%09%09%09%09%09if(v%20%3D%3D%3D%20%22%22)%20%7B%20v%20%3D%20t%3B%20%7D%0D%0A%09%09%09%09%09%09%09h1.remove()%3B%0D%0A%09%09%09%09%09%09%09s.replaceWith(a)%3B%0D%0A%09%09%09%09%09%09%09s.remove()%3B%0D%0A%09%09%09%09%09%09%09t%20%3D%20f%20%3F%20t%20%3A%20%24('%3Cdiv%3E%3C%2Fdiv%3E').append(%24.parseHTML(t)).html()%3B%0D%0A%09%09%09%09%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09%09%09%09%09this.set_text(obj%2C%20t)%3B%0D%0A%09%09%09%09%09%09%09nv%20%3D%20!!this.rename_node(obj%2C%20f%20%3F%20%24('%3Cdiv%3E%3C%2Fdiv%3E').text(v).text()%20%3A%20%24('%3Cdiv%3E%3C%2Fdiv%3E').append(%24.parseHTML(v)).html())%3B%0D%0A%09%09%09%09%09%09%09if(!nv)%20%7B%0D%0A%09%09%09%09%09%09%09%09this.set_text(obj%2C%20t)%3B%20%2F%2F%20move%20this%20up%3F%20and%20fix%20%23483%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09this._data.core.focused%20%3D%20tmp.id%3B%0D%0A%09%09%09%09%09%09%09setTimeout(%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20node%20%3D%20this.get_node(tmp.id%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09if(node.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09this._data.core.focused%20%3D%20tmp.id%3B%0D%0A%09%09%09%09%09%09%09%09%09node.children('.jstree-anchor').focus()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%2C%20this)%2C%200)%3B%0D%0A%09%09%09%09%09%09%09if(callback)%20%7B%0D%0A%09%09%09%09%09%09%09%09callback.call(this%2C%20tmp%2C%20nv%2C%20cancel)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09h2%20%3D%20null%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this)%2C%0D%0A%09%09%09%09%09%09%22keydown%22%20%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09%09var%20key%20%3D%20e.which%3B%0D%0A%09%09%09%09%09%09%09if(key%20%3D%3D%3D%2027)%20%7B%0D%0A%09%09%09%09%09%09%09%09cancel%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09this.value%20%3D%20t%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(key%20%3D%3D%3D%2027%20%7C%7C%20key%20%3D%3D%3D%2013%20%7C%7C%20key%20%3D%3D%3D%2037%20%7C%7C%20key%20%3D%3D%3D%2038%20%7C%7C%20key%20%3D%3D%3D%2039%20%7C%7C%20key%20%3D%3D%3D%2040%20%7C%7C%20key%20%3D%3D%3D%2032)%20%7B%0D%0A%09%09%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(key%20%3D%3D%3D%2027%20%7C%7C%20key%20%3D%3D%3D%2013)%20%7B%0D%0A%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09this.blur()%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%09%22click%22%20%3A%20function%20(e)%20%7B%20e.stopImmediatePropagation()%3B%20%7D%2C%0D%0A%09%09%09%09%09%09%22mousedown%22%20%3A%20function%20(e)%20%7B%20e.stopImmediatePropagation()%3B%20%7D%2C%0D%0A%09%09%09%09%09%09%22keyup%22%20%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09%09h2.width(Math.min(h1.text(%22pW%22%20%2B%20this.value).width()%2Cw))%3B%0D%0A%09%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%09%22keypress%22%20%3A%20function(e)%20%7B%0D%0A%09%09%09%09%09%09%09if(e.which%20%3D%3D%3D%2013)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09fn%20%3D%20%7B%0D%0A%09%09%09%09%09%09fontFamily%09%09%3A%20a.css('fontFamily')%09%09%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09fontSize%09%09%3A%20a.css('fontSize')%09%09%09%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09fontWeight%09%09%3A%20a.css('fontWeight')%09%09%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09fontStyle%09%09%3A%20a.css('fontStyle')%09%09%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09fontStretch%09%09%3A%20a.css('fontStretch')%09%09%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09fontVariant%09%09%3A%20a.css('fontVariant')%09%09%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09letterSpacing%09%3A%20a.css('letterSpacing')%09%7C%7C%20''%2C%0D%0A%09%09%09%09%09%09wordSpacing%09%09%3A%20a.css('wordSpacing')%09%09%7C%7C%20''%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09s.attr('class'%2C%20a.attr('class')).append(a.contents().clone()).append(h2)%3B%0D%0A%09%09%09a.replaceWith(s)%3B%0D%0A%09%09%09h1.css(fn)%3B%0D%0A%09%09%09h2.css(fn).width(Math.min(h1.text(%22pW%22%20%2B%20h2%5B0%5D.value).width()%2Cw))%5B0%5D.select()%3B%0D%0A%09%09%09%24(document).one('mousedown.jstree%20touchstart.jstree%20dnd_start.vakata'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09if%20(h2%20%26%26%20e.target%20!%3D%3D%20h2)%20%7B%0D%0A%09%09%09%09%09%24(h2).blur()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%0D%0A%0D%0A%09%09%2F**%0D%0A%09%09%20*%20changes%20the%20theme%0D%0A%09%09%20*%20%40name%20set_theme(theme_name%20%5B%2C%20theme_url%5D)%0D%0A%09%09%20*%20%40param%20%7BString%7D%20theme_name%20the%20name%20of%20the%20new%20theme%20to%20apply%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20theme_url%20%20the%20location%20of%20the%20CSS%20file%20for%20this%20theme.%20Omit%20or%20set%20to%20%60false%60%20if%20you%20manually%20included%20the%20file.%20Set%20to%20%60true%60%20to%20autoload%20from%20the%20%60core.themes.dir%60%20directory.%0D%0A%09%09%20*%20%40trigger%20set_theme.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09set_theme%20%3A%20function%20(theme_name%2C%20theme_url)%20%7B%0D%0A%09%09%09if(!theme_name)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(theme_url%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09var%20dir%20%3D%20this.settings.core.themes.dir%3B%0D%0A%09%09%09%09if(!dir)%20%7B%20dir%20%3D%20%24.jstree.path%20%2B%20'%2Fthemes'%3B%20%7D%0D%0A%09%09%09%09theme_url%20%3D%20dir%20%2B%20'%2F'%20%2B%20theme_name%20%2B%20'%2Fstyle.css'%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(theme_url%20%26%26%20%24.inArray(theme_url%2C%20themes_loaded)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%24('head').append('%3C'%2B'link%20rel%3D%22stylesheet%22%20href%3D%22'%20%2B%20theme_url%20%2B%20'%22%20type%3D%22text%2Fcss%22%20%2F%3E')%3B%0D%0A%09%09%09%09themes_loaded.push(theme_url)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this._data.core.themes.name)%20%7B%0D%0A%09%09%09%09this.element.removeClass('jstree-'%20%2B%20this._data.core.themes.name)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this._data.core.themes.name%20%3D%20theme_name%3B%0D%0A%09%09%09this.element.addClass('jstree-'%20%2B%20theme_name)%3B%0D%0A%09%09%09this.element%5Bthis.settings.core.themes.responsive%20%3F%20'addClass'%20%3A%20'removeClass'%20%5D('jstree-'%20%2B%20theme_name%20%2B%20'-responsive')%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20a%20theme%20is%20set%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20set_theme.jstree%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20theme%20the%20new%20theme%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('set_theme'%2C%20%7B%20'theme'%20%3A%20theme_name%20%7D)%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20the%20name%20of%20the%20currently%20applied%20theme%20name%0D%0A%09%09%20*%20%40name%20get_theme()%0D%0A%09%09%20*%20%40return%20%7BString%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_theme%20%3A%20function%20()%20%7B%20return%20this._data.core.themes.name%3B%20%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20changes%20the%20theme%20variant%20(if%20the%20theme%20has%20variants)%0D%0A%09%09%20*%20%40name%20set_theme_variant(variant_name)%0D%0A%09%09%20*%20%40param%20%7BString%7CBoolean%7D%20variant_name%20the%20variant%20to%20apply%20(if%20%60false%60%20is%20used%20the%20current%20variant%20is%20removed)%0D%0A%09%09%20*%2F%0D%0A%09%09set_theme_variant%20%3A%20function%20(variant_name)%20%7B%0D%0A%09%09%09if(this._data.core.themes.variant)%20%7B%0D%0A%09%09%09%09this.element.removeClass('jstree-'%20%2B%20this._data.core.themes.name%20%2B%20'-'%20%2B%20this._data.core.themes.variant)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this._data.core.themes.variant%20%3D%20variant_name%3B%0D%0A%09%09%09if(variant_name)%20%7B%0D%0A%09%09%09%09this.element.addClass('jstree-'%20%2B%20this._data.core.themes.name%20%2B%20'-'%20%2B%20this._data.core.themes.variant)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20gets%20the%20name%20of%20the%20currently%20applied%20theme%20variant%0D%0A%09%09%20*%20%40name%20get_theme()%0D%0A%09%09%20*%20%40return%20%7BString%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_theme_variant%20%3A%20function%20()%20%7B%20return%20this._data.core.themes.variant%3B%20%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20shows%20a%20striped%20background%20on%20the%20container%20(if%20the%20theme%20supports%20it)%0D%0A%09%09%20*%20%40name%20show_stripes()%0D%0A%09%09%20*%2F%0D%0A%09%09show_stripes%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.stripes%20%3D%20true%3B%0D%0A%09%09%09this.get_container_ul().addClass(%22jstree-striped%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20stripes%20are%20shown%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20show_stripes.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('show_stripes')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hides%20the%20striped%20background%20on%20the%20container%0D%0A%09%09%20*%20%40name%20hide_stripes()%0D%0A%09%09%20*%2F%0D%0A%09%09hide_stripes%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.stripes%20%3D%20false%3B%0D%0A%09%09%09this.get_container_ul().removeClass(%22jstree-striped%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20stripes%20are%20hidden%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20hide_stripes.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('hide_stripes')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20toggles%20the%20striped%20background%20on%20the%20container%0D%0A%09%09%20*%20%40name%20toggle_stripes()%0D%0A%09%09%20*%2F%0D%0A%09%09toggle_stripes%20%3A%20function%20()%20%7B%20if(this._data.core.themes.stripes)%20%7B%20this.hide_stripes()%3B%20%7D%20else%20%7B%20this.show_stripes()%3B%20%7D%20%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20shows%20the%20connecting%20dots%20(if%20the%20theme%20supports%20it)%0D%0A%09%09%20*%20%40name%20show_dots()%0D%0A%09%09%20*%2F%0D%0A%09%09show_dots%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.dots%20%3D%20true%3B%0D%0A%09%09%09this.get_container_ul().removeClass(%22jstree-no-dots%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20dots%20are%20shown%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20show_dots.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('show_dots')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hides%20the%20connecting%20dots%0D%0A%09%09%20*%20%40name%20hide_dots()%0D%0A%09%09%20*%2F%0D%0A%09%09hide_dots%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.dots%20%3D%20false%3B%0D%0A%09%09%09this.get_container_ul().addClass(%22jstree-no-dots%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20dots%20are%20hidden%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20hide_dots.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('hide_dots')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20toggles%20the%20connecting%20dots%0D%0A%09%09%20*%20%40name%20toggle_dots()%0D%0A%09%09%20*%2F%0D%0A%09%09toggle_dots%20%3A%20function%20()%20%7B%20if(this._data.core.themes.dots)%20%7B%20this.hide_dots()%3B%20%7D%20else%20%7B%20this.show_dots()%3B%20%7D%20%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20show%20the%20node%20icons%0D%0A%09%09%20*%20%40name%20show_icons()%0D%0A%09%09%20*%2F%0D%0A%09%09show_icons%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.icons%20%3D%20true%3B%0D%0A%09%09%09this.get_container_ul().removeClass(%22jstree-no-icons%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20icons%20are%20shown%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20show_icons.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('show_icons')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hide%20the%20node%20icons%0D%0A%09%09%20*%20%40name%20hide_icons()%0D%0A%09%09%20*%2F%0D%0A%09%09hide_icons%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.icons%20%3D%20false%3B%0D%0A%09%09%09this.get_container_ul().addClass(%22jstree-no-icons%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20icons%20are%20hidden%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20hide_icons.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('hide_icons')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20toggle%20the%20node%20icons%0D%0A%09%09%20*%20%40name%20toggle_icons()%0D%0A%09%09%20*%2F%0D%0A%09%09toggle_icons%20%3A%20function%20()%20%7B%20if(this._data.core.themes.icons)%20%7B%20this.hide_icons()%3B%20%7D%20else%20%7B%20this.show_icons()%3B%20%7D%20%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20show%20the%20node%20ellipsis%0D%0A%09%09%20*%20%40name%20show_icons()%0D%0A%09%09%20*%2F%0D%0A%09%09show_ellipsis%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.ellipsis%20%3D%20true%3B%0D%0A%09%09%09this.get_container_ul().addClass(%22jstree-ellipsis%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20ellisis%20is%20shown%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20show_ellipsis.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('show_ellipsis')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hide%20the%20node%20ellipsis%0D%0A%09%09%20*%20%40name%20hide_ellipsis()%0D%0A%09%09%20*%2F%0D%0A%09%09hide_ellipsis%20%3A%20function%20()%20%7B%0D%0A%09%09%09this._data.core.themes.ellipsis%20%3D%20false%3B%0D%0A%09%09%09this.get_container_ul().removeClass(%22jstree-ellipsis%22)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20ellisis%20is%20hidden%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20hide_ellipsis.jstree%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('hide_ellipsis')%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20toggle%20the%20node%20ellipsis%0D%0A%09%09%20*%20%40name%20toggle_icons()%0D%0A%09%09%20*%2F%0D%0A%09%09toggle_ellipsis%20%3A%20function%20()%20%7B%20if(this._data.core.themes.ellipsis)%20%7B%20this.hide_ellipsis()%3B%20%7D%20else%20%7B%20this.show_ellipsis()%3B%20%7D%20%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20set%20the%20node%20icon%20for%20a%20node%0D%0A%09%09%20*%20%40name%20set_icon(obj%2C%20icon)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40param%20%7BString%7D%20icon%20the%20new%20icon%20-%20can%20be%20a%20path%20to%20an%20icon%20or%20a%20className%2C%20if%20using%20an%20image%20that%20is%20in%20the%20current%20directory%20use%20a%20%60.%2F%60%20prefix%2C%20otherwise%20it%20will%20be%20detected%20as%20a%20class%0D%0A%09%09%20*%2F%0D%0A%09%09set_icon%20%3A%20function%20(obj%2C%20icon)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20dom%2C%20old%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.set_icon(obj%5Bt1%5D%2C%20icon)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09old%20%3D%20obj.icon%3B%0D%0A%09%09%09obj.icon%20%3D%20icon%20%3D%3D%3D%20true%20%7C%7C%20icon%20%3D%3D%3D%20null%20%7C%7C%20icon%20%3D%3D%3D%20undefined%20%7C%7C%20icon%20%3D%3D%3D%20''%20%3F%20true%20%3A%20icon%3B%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true).children(%22.jstree-anchor%22).children(%22.jstree-themeicon%22)%3B%0D%0A%09%09%09if(icon%20%3D%3D%3D%20false)%20%7B%0D%0A%09%09%09%09dom.removeClass('jstree-themeicon-custom%20'%20%2B%20old).css(%22background%22%2C%22%22).removeAttr(%22rel%22)%3B%0D%0A%09%09%09%09this.hide_icon(obj)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20if(icon%20%3D%3D%3D%20true%20%7C%7C%20icon%20%3D%3D%3D%20null%20%7C%7C%20icon%20%3D%3D%3D%20undefined%20%7C%7C%20icon%20%3D%3D%3D%20'')%20%7B%0D%0A%09%09%09%09dom.removeClass('jstree-themeicon-custom%20'%20%2B%20old).css(%22background%22%2C%22%22).removeAttr(%22rel%22)%3B%0D%0A%09%09%09%09if(old%20%3D%3D%3D%20false)%20%7B%20this.show_icon(obj)%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20if(icon.indexOf(%22%2F%22)%20%3D%3D%3D%20-1%20%26%26%20icon.indexOf(%22.%22)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09dom.removeClass(old).css(%22background%22%2C%22%22)%3B%0D%0A%09%09%09%09dom.addClass(icon%20%2B%20'%20jstree-themeicon-custom').attr(%22rel%22%2Cicon)%3B%0D%0A%09%09%09%09if(old%20%3D%3D%3D%20false)%20%7B%20this.show_icon(obj)%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09dom.removeClass(old).css(%22background%22%2C%22%22)%3B%0D%0A%09%09%09%09dom.addClass('jstree-themeicon-custom').css(%22background%22%2C%20%22url('%22%20%2B%20icon%20%2B%20%22')%20center%20center%20no-repeat%22).attr(%22rel%22%2Cicon)%3B%0D%0A%09%09%09%09if(old%20%3D%3D%3D%20false)%20%7B%20this.show_icon(obj)%3B%20%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20the%20node%20icon%20for%20a%20node%0D%0A%09%09%20*%20%40name%20get_icon(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BString%7D%0D%0A%09%09%20*%2F%0D%0A%09%09get_icon%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%3F%20false%20%3A%20obj.icon%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hide%20the%20icon%20on%20an%20individual%20node%0D%0A%09%09%20*%20%40name%20hide_icon(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%2F%0D%0A%09%09hide_icon%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.hide_icon(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09obj.icon%20%3D%20false%3B%0D%0A%09%09%09this.get_node(obj%2C%20true).children(%22.jstree-anchor%22).children(%22.jstree-themeicon%22).addClass('jstree-themeicon-hidden')%3B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20show%20the%20icon%20on%20an%20individual%20node%0D%0A%09%09%20*%20%40name%20show_icon(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%2F%0D%0A%09%09show_icon%20%3A%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20dom%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.show_icon(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09obj.icon%20%3D%20dom.length%20%3F%20dom.children(%22.jstree-anchor%22).children(%22.jstree-themeicon%22).attr('rel')%20%3A%20true%3B%0D%0A%09%09%09if(!obj.icon)%20%7B%20obj.icon%20%3D%20true%3B%20%7D%0D%0A%09%09%09dom.children(%22.jstree-anchor%22).children(%22.jstree-themeicon%22).removeClass('jstree-themeicon-hidden')%3B%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20helpers%0D%0A%09%24.vakata%20%3D%20%7B%7D%3B%0D%0A%09%2F%2F%20collect%20attributes%0D%0A%09%24.vakata.attributes%20%3D%20function(node%2C%20with_values)%20%7B%0D%0A%09%09node%20%3D%20%24(node)%5B0%5D%3B%0D%0A%09%09var%20attr%20%3D%20with_values%20%3F%20%7B%7D%20%3A%20%5B%5D%3B%0D%0A%09%09if(node%20%26%26%20node.attributes)%20%7B%0D%0A%09%09%09%24.each(node.attributes%2C%20function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09if(%24.inArray(v.name.toLowerCase()%2C%5B'style'%2C'contenteditable'%2C'hasfocus'%2C'tabindex'%5D)%20!%3D%3D%20-1)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09if(v.value%20!%3D%3D%20null%20%26%26%20%24.trim(v.value)%20!%3D%3D%20'')%20%7B%0D%0A%09%09%09%09%09if(with_values)%20%7B%20attr%5Bv.name%5D%20%3D%20v.value%3B%20%7D%0D%0A%09%09%09%09%09else%20%7B%20attr.push(v.name)%3B%20%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%7D%0D%0A%09%09return%20attr%3B%0D%0A%09%7D%3B%0D%0A%09%24.vakata.array_unique%20%3D%20function(array)%20%7B%0D%0A%09%09var%20a%20%3D%20%5B%5D%2C%20i%2C%20j%2C%20l%2C%20o%20%3D%20%7B%7D%3B%0D%0A%09%09for(i%20%3D%200%2C%20l%20%3D%20array.length%3B%20i%20%3C%20l%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09if(o%5Barray%5Bi%5D%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09a.push(array%5Bi%5D)%3B%0D%0A%09%09%09%09o%5Barray%5Bi%5D%5D%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09return%20a%3B%0D%0A%09%7D%3B%0D%0A%09%2F%2F%20remove%20item%20from%20array%0D%0A%09%24.vakata.array_remove%20%3D%20function(array%2C%20from)%20%7B%0D%0A%09%09array.splice(from%2C%201)%3B%0D%0A%09%09return%20array%3B%0D%0A%09%09%2F%2Fvar%20rest%20%3D%20array.slice((to%20%7C%7C%20from)%20%2B%201%20%7C%7C%20array.length)%3B%0D%0A%09%09%2F%2Farray.length%20%3D%20from%20%3C%200%20%3F%20array.length%20%2B%20from%20%3A%20from%3B%0D%0A%09%09%2F%2Farray.push.apply(array%2C%20rest)%3B%0D%0A%09%09%2F%2Freturn%20array%3B%0D%0A%09%7D%3B%0D%0A%09%2F%2F%20remove%20item%20from%20array%0D%0A%09%24.vakata.array_remove_item%20%3D%20function(array%2C%20item)%20%7B%0D%0A%09%09var%20tmp%20%3D%20%24.inArray(item%2C%20array)%3B%0D%0A%09%09return%20tmp%20!%3D%3D%20-1%20%3F%20%24.vakata.array_remove(array%2C%20tmp)%20%3A%20array%3B%0D%0A%09%7D%3B%0D%0A%09%24.vakata.array_filter%20%3D%20function(c%2Ca%2Cb%2Cd%2Ce)%20%7B%0D%0A%09%09if%20(c.filter)%20%7B%0D%0A%09%09%09return%20c.filter(a%2C%20b)%3B%0D%0A%09%09%7D%0D%0A%09%09d%3D%5B%5D%3B%0D%0A%09%09for%20(e%20in%20c)%20%7B%0D%0A%09%09%09if%20(~~e%2B''%3D%3D%3De%2B''%20%26%26%20e%3E%3D0%20%26%26%20a.call(b%2Cc%5Be%5D%2C%2Be%2Cc))%20%7B%0D%0A%09%09%09%09d.push(c%5Be%5D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09return%20d%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Changed%20plugin%0D%0A%20*%0D%0A%20*%20This%20plugin%20adds%20more%20information%20to%20the%20%60changed.jstree%60%20event.%20The%20new%20data%20is%20contained%20in%20the%20%60changed%60%20event%20data%20property%2C%20and%20contains%20a%20lists%20of%20%60selected%60%20and%20%60deselected%60%20nodes.%0D%0A%20*%2F%0D%0A%0D%0A%09%24.jstree.plugins.changed%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09var%20last%20%3D%20%5B%5D%3B%0D%0A%09%09this.trigger%20%3D%20function%20(ev%2C%20data)%20%7B%0D%0A%09%09%09var%20i%2C%20j%3B%0D%0A%09%09%09if(!data)%20%7B%0D%0A%09%09%09%09data%20%3D%20%7B%7D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(ev.replace('.jstree'%2C'')%20%3D%3D%3D%20'changed')%20%7B%0D%0A%09%09%09%09data.changed%20%3D%20%7B%20selected%20%3A%20%5B%5D%2C%20deselected%20%3A%20%5B%5D%20%7D%3B%0D%0A%09%09%09%09var%20tmp%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20last.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09tmp%5Blast%5Bi%5D%5D%20%3D%201%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20data.selected.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(!tmp%5Bdata.selected%5Bi%5D%5D)%20%7B%0D%0A%09%09%09%09%09%09data.changed.selected.push(data.selected%5Bi%5D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09tmp%5Bdata.selected%5Bi%5D%5D%20%3D%202%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20last.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(tmp%5Blast%5Bi%5D%5D%20%3D%3D%3D%201)%20%7B%0D%0A%09%09%09%09%09%09data.changed.deselected.push(last%5Bi%5D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09last%20%3D%20data.selected.slice()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20selection%20changes%20(the%20%22changed%22%20plugin%20enhances%20the%20original%20event%20with%20more%20data)%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20changed.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20action%20the%20action%20that%20caused%20the%20selection%20to%20change%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20changed%20an%20object%20containing%20two%20properties%20%60selected%60%20and%20%60deselected%60%20-%20both%20arrays%20of%20node%20IDs%2C%20which%20were%20selected%20or%20deselected%20since%20the%20last%20changed%20event%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20(if%20any)%20that%20triggered%20this%20changed%20event%0D%0A%09%09%09%20*%20%40plugin%20changed%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09parent.trigger.call(this%2C%20ev%2C%20data)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.refresh%20%3D%20function%20(skip_loading%2C%20forget_state)%20%7B%0D%0A%09%09%09last%20%3D%20%5B%5D%3B%0D%0A%09%09%09return%20parent.refresh.apply(this%2C%20arguments)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Checkbox%20plugin%0D%0A%20*%0D%0A%20*%20This%20plugin%20renders%20checkbox%20icons%20in%20front%20of%20each%20node%2C%20making%20multiple%20selection%20much%20easier.%0D%0A%20*%20It%20also%20supports%20tri-state%20behavior%2C%20meaning%20that%20if%20a%20node%20has%20a%20few%20of%20its%20children%20checked%20it%20will%20be%20rendered%20as%20undetermined%2C%20and%20state%20will%20be%20propagated%20up.%0D%0A%20*%2F%0D%0A%0D%0A%09var%20_i%20%3D%20document.createElement('I')%3B%0D%0A%09_i.className%20%3D%20'jstree-icon%20jstree-checkbox'%3B%0D%0A%09_i.setAttribute('role'%2C%20'presentation')%3B%0D%0A%09%2F**%0D%0A%09%20*%20stores%20all%20defaults%20for%20the%20checkbox%20plugin%0D%0A%09%20*%20%40name%20%24.jstree.defaults.checkbox%0D%0A%09%20*%20%40plugin%20checkbox%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.checkbox%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20checkboxes%20should%20be%20visible%20(can%20be%20changed%20at%20a%20later%20time%20using%20%60show_checkboxes()%60%20and%20%60hide_checkboxes%60).%20Defaults%20to%20%60true%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.visible%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09visible%09%09%09%09%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20checkboxes%20should%20cascade%20down%20and%20have%20an%20undetermined%20state.%20Defaults%20to%20%60true%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.three_state%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09three_state%09%09%09%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20clicking%20anywhere%20on%20the%20node%20should%20act%20as%20clicking%20on%20the%20checkbox.%20Defaults%20to%20%60true%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.whole_node%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09whole_node%09%09%09%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20the%20selected%20style%20of%20a%20node%20should%20be%20kept%2C%20or%20removed.%20Defaults%20to%20%60true%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.keep_selected_style%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09keep_selected_style%09%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20This%20setting%20controls%20how%20cascading%20and%20undetermined%20nodes%20are%20applied.%0D%0A%09%09%20*%20If%20'up'%20is%20in%20the%20string%20-%20cascading%20up%20is%20enabled%2C%20if%20'down'%20is%20in%20the%20string%20-%20cascading%20down%20is%20enabled%2C%20if%20'undetermined'%20is%20in%20the%20string%20-%20undetermined%20nodes%20will%20be%20used.%0D%0A%09%09%20*%20If%20%60three_state%60%20is%20set%20to%20%60true%60%20this%20setting%20is%20automatically%20set%20to%20'up%2Bdown%2Bundetermined'.%20Defaults%20to%20''.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.cascade%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09cascade%09%09%09%09%3A%20''%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20This%20setting%20controls%20if%20checkbox%20are%20bound%20to%20the%20general%20tree%20selection%20or%20to%20an%20internal%20array%20maintained%20by%20the%20checkbox%20plugin.%20Defaults%20to%20%60true%60%2C%20only%20set%20to%20%60false%60%20if%20you%20know%20exactly%20what%20you%20are%20doing.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.tie_selection%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09tie_selection%09%09%3A%20true%2C%0D%0A%0D%0A%09%09%2F**%0D%0A%09%09%20*%20This%20setting%20controls%20if%20cascading%20down%20affects%20disabled%20checkboxes%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.cascade_to_disabled%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09cascade_to_disabled%20%3A%20true%2C%0D%0A%0D%0A%09%09%2F**%0D%0A%09%09%20*%20This%20setting%20controls%20if%20cascading%20down%20affects%20hidden%20checkboxes%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.checkbox.cascade_to_hidden%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09cascade_to_hidden%20%3A%20true%0D%0A%09%7D%3B%0D%0A%09%24.jstree.plugins.checkbox%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%09%09%09this._data.checkbox.uto%20%3D%20false%3B%0D%0A%09%09%09this._data.checkbox.selected%20%3D%20%5B%5D%3B%0D%0A%09%09%09if(this.settings.checkbox.three_state)%20%7B%0D%0A%09%09%09%09this.settings.checkbox.cascade%20%3D%20'up%2Bdown%2Bundetermined'%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on(%22init.jstree%22%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09this._data.checkbox.visible%20%3D%20this.settings.checkbox.visible%3B%0D%0A%09%09%09%09%09%09if(!this.settings.checkbox.keep_selected_style)%20%7B%0D%0A%09%09%09%09%09%09%09this.element.addClass('jstree-checkbox-no-clicked')%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%0D%0A%09%09%09%09%09%09%09this.element.addClass('jstree-checkbox-selection')%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22loading.jstree%22%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09this%5B%20this._data.checkbox.visible%20%3F%20'show_checkboxes'%20%3A%20'hide_checkboxes'%20%5D()%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09if(this.settings.checkbox.cascade.indexOf('undetermined')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09this.element%0D%0A%09%09%09%09%09.on('changed.jstree%20uncheck_node.jstree%20check_node.jstree%20uncheck_all.jstree%20check_all.jstree%20move_node.jstree%20copy_node.jstree%20redraw.jstree%20open_node.jstree'%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20only%20if%20undetermined%20is%20in%20setting%0D%0A%09%09%09%09%09%09%09if(this._data.checkbox.uto)%20%7B%20clearTimeout(this._data.checkbox.uto)%3B%20%7D%0D%0A%09%09%09%09%09%09%09this._data.checkbox.uto%20%3D%20setTimeout(%24.proxy(this._undetermined%2C%20this)%2C%2050)%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!this.settings.checkbox.tie_selection)%20%7B%0D%0A%09%09%09%09this.element%0D%0A%09%09%09%09%09.on('model.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09var%20m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09%09%09%09p%20%3D%20m%5Bdata.parent%5D%2C%0D%0A%09%09%09%09%09%09%09dpc%20%3D%20data.nodes%2C%0D%0A%09%09%09%09%09%09%09i%2C%20j%3B%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dpc.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.state.checked%20%3D%20m%5Bdpc%5Bi%5D%5D.state.checked%20%7C%7C%20(m%5Bdpc%5Bi%5D%5D.original%20%26%26%20m%5Bdpc%5Bi%5D%5D.original.state%20%26%26%20m%5Bdpc%5Bi%5D%5D.original.state.checked)%3B%0D%0A%09%09%09%09%09%09%09if(m%5Bdpc%5Bi%5D%5D.state.checked)%20%7B%0D%0A%09%09%09%09%09%09%09%09this._data.checkbox.selected.push(dpc%5Bi%5D)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.settings.checkbox.cascade.indexOf('up')%20!%3D%3D%20-1%20%7C%7C%20this.settings.checkbox.cascade.indexOf('down')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09this.element%0D%0A%09%09%09%09%09.on('model.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09%09var%20m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09%09%09%09%09p%20%3D%20m%5Bdata.parent%5D%2C%0D%0A%09%09%09%09%09%09%09%09dpc%20%3D%20data.nodes%2C%0D%0A%09%09%09%09%09%09%09%09chd%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09%09%09%09%09c%2C%20i%2C%20j%2C%20k%2C%20l%2C%20tmp%2C%20s%20%3D%20this.settings.checkbox.cascade%2C%20t%20%3D%20this.settings.checkbox.tie_selection%3B%0D%0A%0D%0A%09%09%09%09%09%09%09if(s.indexOf('down')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20apply%20down%0D%0A%09%09%09%09%09%09%09%09if(p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dpc.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%20%3D%20this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.concat(dpc)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dpc.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09if(m%5Bdpc%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20m%5Bdpc%5Bi%5D%5D.children_d.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09m%5Bm%5Bdpc%5Bi%5D%5D.children_d%5Bk%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%20%3D%20this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.concat(m%5Bdpc%5Bi%5D%5D.children_d)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09if(s.indexOf('up')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20apply%20up%0D%0A%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(!m%5Bp.children_d%5Bi%5D%5D.children.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09chd.push(m%5Bp.children_d%5Bi%5D%5D.parent)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09chd%20%3D%20%24.vakata.array_unique(chd)%3B%0D%0A%09%09%09%09%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20chd.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09p%20%3D%20m%5Bchd%5Bk%5D%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09while(p%20%26%26%20p.id%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09c%20%3D%200%3B%0D%0A%09%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09c%20%2B%3D%20m%5Bp.children%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09if(c%20%3D%3D%3D%20j)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.push(p.id)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(p%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09tmp.attr('aria-selected'%2C%20true).children('.jstree-anchor').addClass(%20t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09p%20%3D%20this.get_node(p.parent)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%20%3D%20%24.vakata.array_unique(this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected)%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%09.on(this.settings.checkbox.tie_selection%20%3F%20'select_node.jstree'%20%3A%20'check_node.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09%09var%20self%20%3D%20this%2C%0D%0A%09%09%09%09%09%09%09%09obj%20%3D%20data.node%2C%0D%0A%09%09%09%09%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09%09%09%09%09par%20%3D%20this.get_node(obj.parent)%2C%0D%0A%09%09%09%09%09%09%09%09i%2C%20j%2C%20c%2C%20tmp%2C%20s%20%3D%20this.settings.checkbox.cascade%2C%20t%20%3D%20this.settings.checkbox.tie_selection%2C%0D%0A%09%09%09%09%09%09%09%09sel%20%3D%20%7B%7D%2C%20cur%20%3D%20this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%3B%0D%0A%0D%0A%09%09%09%09%09%09%09for%20(i%20%3D%200%2C%20j%20%3D%20cur.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09sel%5Bcur%5Bi%5D%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20apply%20down%0D%0A%09%09%09%09%09%09%09if(s.indexOf('down')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09%2F%2Fthis._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%20%3D%20%24.vakata.array_unique(this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.concat(obj.children_d))%3B%0D%0A%09%09%09%09%09%09%09%09var%20selectedIds%20%3D%20this._cascade_new_checked_state(obj.id%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09var%20temp%20%3D%20obj.children_d.concat(obj.id)%3B%0D%0A%09%09%09%09%09%09%09%09for%20(i%20%3D%200%2C%20j%20%3D%20temp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if%20(selectedIds.indexOf(temp%5Bi%5D)%20%3E%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09sel%5Btemp%5Bi%5D%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09delete%20sel%5Btemp%5Bi%5D%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20apply%20up%0D%0A%09%09%09%09%09%09%09if(s.indexOf('up')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09while(par%20%26%26%20par.id%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09c%20%3D%200%3B%0D%0A%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20par.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09c%20%2B%3D%20m%5Bpar.children%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09if(c%20%3D%3D%3D%20j)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09par.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09sel%5Bpar.id%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%2F%2Fthis._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.push(par.id)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(par%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09tmp.attr('aria-selected'%2C%20true).children('.jstree-anchor').addClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09par%20%3D%20this.get_node(par.parent)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09cur%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09%09%09%09for%20(i%20in%20sel)%20%7B%0D%0A%09%09%09%09%09%09%09%09if%20(sel.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09cur.push(i)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%20%3D%20cur%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%09.on(this.settings.checkbox.tie_selection%20%3F%20'deselect_all.jstree'%20%3A%20'uncheck_all.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09%09var%20obj%20%3D%20this.get_node(%24.jstree.root)%2C%0D%0A%09%09%09%09%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09%09%09%09%09i%2C%20j%2C%20tmp%3B%0D%0A%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp%20%3D%20m%5Bobj.children_d%5Bi%5D%5D%3B%0D%0A%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.original%20%26%26%20tmp.original.state%20%26%26%20tmp.original.state.undetermined)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09tmp.original.state.undetermined%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%09.on(this.settings.checkbox.tie_selection%20%3F%20'deselect_node.jstree'%20%3A%20'uncheck_node.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09%09var%20self%20%3D%20this%2C%0D%0A%09%09%09%09%09%09%09%09obj%20%3D%20data.node%2C%0D%0A%09%09%09%09%09%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%2C%0D%0A%09%09%09%09%09%09%09%09i%2C%20j%2C%20tmp%2C%20s%20%3D%20this.settings.checkbox.cascade%2C%20t%20%3D%20this.settings.checkbox.tie_selection%2C%0D%0A%09%09%09%09%09%09%09%09cur%20%3D%20this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%2C%20sel%20%3D%20%7B%7D%2C%0D%0A%09%09%09%09%09%09%09%09stillSelectedIds%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09%09%09%09%09allIds%20%3D%20obj.children_d.concat(obj.id)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20apply%20down%0D%0A%09%09%09%09%09%09%09if(s.indexOf('down')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20selectedIds%20%3D%20this._cascade_new_checked_state(obj.id%2C%20false)%3B%0D%0A%0D%0A%09%09%09%09%09%09%09%09cur%20%3D%20cur.filter(function(id)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09return%20allIds.indexOf(id)%20%3D%3D%3D%20-1%20%7C%7C%20selectedIds.indexOf(id)%20%3E%20-1%3B%0D%0A%09%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%2F%2F%20only%20apply%20up%20if%20cascade%20up%20is%20enabled%20and%20if%20this%20node%20is%20not%20selected%0D%0A%09%09%09%09%09%09%09%2F%2F%20(if%20all%20child%20nodes%20are%20disabled%20and%20cascade_to_disabled%20%3D%3D%3D%20false%20then%20this%20node%20will%20till%20be%20selected).%0D%0A%09%09%09%09%09%09%09if(s.indexOf('up')%20!%3D%3D%20-1%20%26%26%20cur.indexOf(obj.id)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.parents.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09tmp%20%3D%20this._model.data%5Bobj.parents%5Bi%5D%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09tmp.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.original%20%26%26%20tmp.original.state%20%26%26%20tmp.original.state.undetermined)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.original.state.undetermined%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(obj.parents%5Bi%5D%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.attr('aria-selected'%2C%20false).children('.jstree-anchor').removeClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09%09cur%20%3D%20cur.filter(function(id)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09return%20obj.parents.indexOf(id)%20%3D%3D%3D%20-1%3B%0D%0A%09%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%20%3D%20cur%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.settings.checkbox.cascade.indexOf('up')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09this.element%0D%0A%09%09%09%09%09.on('delete_node.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20apply%20up%20(whole%20handler)%0D%0A%09%09%09%09%09%09%09var%20p%20%3D%20this.get_node(data.parent)%2C%0D%0A%09%09%09%09%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09%09%09%09%09i%2C%20j%2C%20c%2C%20tmp%2C%20t%20%3D%20this.settings.checkbox.tie_selection%3B%0D%0A%09%09%09%09%09%09%09while(p%20%26%26%20p.id%20!%3D%3D%20%24.jstree.root%20%26%26%20!p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09c%20%3D%200%3B%0D%0A%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09c%20%2B%3D%20m%5Bp.children%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09if(j%20%3E%200%20%26%26%20c%20%3D%3D%3D%20j)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.push(p.id)%3B%0D%0A%09%09%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(p%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp.attr('aria-selected'%2C%20true).children('.jstree-anchor').addClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09p%20%3D%20this.get_node(p.parent)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%09.on('move_node.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20apply%20up%20(whole%20handler)%0D%0A%09%09%09%09%09%09%09var%20is_multi%20%3D%20data.is_multi%2C%0D%0A%09%09%09%09%09%09%09%09old_par%20%3D%20data.old_parent%2C%0D%0A%09%09%09%09%09%09%09%09new_par%20%3D%20this.get_node(data.parent)%2C%0D%0A%09%09%09%09%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09%09%09%09%09p%2C%20c%2C%20i%2C%20j%2C%20tmp%2C%20t%20%3D%20this.settings.checkbox.tie_selection%3B%0D%0A%09%09%09%09%09%09%09if(!is_multi)%20%7B%0D%0A%09%09%09%09%09%09%09%09p%20%3D%20this.get_node(old_par)%3B%0D%0A%09%09%09%09%09%09%09%09while(p%20%26%26%20p.id%20!%3D%3D%20%24.jstree.root%20%26%26%20!p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09c%20%3D%200%3B%0D%0A%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09c%20%2B%3D%20m%5Bp.children%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09if(j%20%3E%200%20%26%26%20c%20%3D%3D%3D%20j)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.push(p.id)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(p%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09tmp.attr('aria-selected'%2C%20true).children('.jstree-anchor').addClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09p%20%3D%20this.get_node(p.parent)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09p%20%3D%20new_par%3B%0D%0A%09%09%09%09%09%09%09while(p%20%26%26%20p.id%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09%09c%20%3D%200%3B%0D%0A%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09c%20%2B%3D%20m%5Bp.children%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09if(c%20%3D%3D%3D%20j)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(!p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected.push(p.id)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(p%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09tmp.attr('aria-selected'%2C%20true).children('.jstree-anchor').addClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09p.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20false%3B%0D%0A%09%09%09%09%09%09%09%09%09%09this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%20%3D%20%24.vakata.array_remove_item(this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%2C%20p.id)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(p%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09tmp.attr('aria-selected'%2C%20false).children('.jstree-anchor').removeClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09p%20%3D%20this.get_node(p.parent)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20an%20array%20of%20all%20nodes%20whose%20state%20is%20%22undetermined%22%0D%0A%09%09%20*%20%40name%20get_undetermined(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bboolean%7D%20full%3A%20if%20set%20to%20%60true%60%20the%20returned%20array%20will%20consist%20of%20the%20full%20node%20objects%2C%20otherwise%20-%20only%20IDs%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BArray%7D%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.get_undetermined%20%3D%20function%20(full)%20%7B%0D%0A%09%09%09if%20(this.settings.checkbox.cascade.indexOf('undetermined')%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09return%20%5B%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09var%20i%2C%20j%2C%20k%2C%20l%2C%20o%20%3D%20%7B%7D%2C%20m%20%3D%20this._model.data%2C%20t%20%3D%20this.settings.checkbox.tie_selection%2C%20s%20%3D%20this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%2C%20p%20%3D%20%5B%5D%2C%20tt%20%3D%20this%2C%20r%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20s.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(m%5Bs%5Bi%5D%5D%20%26%26%20m%5Bs%5Bi%5D%5D.parents)%20%7B%0D%0A%09%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20m%5Bs%5Bi%5D%5D.parents.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if(o%5Bm%5Bs%5Bi%5D%5D.parents%5Bk%5D%5D%20!%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(m%5Bs%5Bi%5D%5D.parents%5Bk%5D%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09o%5Bm%5Bs%5Bi%5D%5D.parents%5Bk%5D%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09p.push(m%5Bs%5Bi%5D%5D.parents%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F%2F%20attempt%20for%20server%20side%20undetermined%20state%0D%0A%09%09%09this.element.find('.jstree-closed').not('%3Ahas(.jstree-children)')%0D%0A%09%09%09%09.each(function%20()%20%7B%0D%0A%09%09%09%09%09var%20tmp%20%3D%20tt.get_node(this)%2C%20tmp2%3B%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%09if(!tmp)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%09if(!tmp.state.loaded)%20%7B%0D%0A%09%09%09%09%09%09if(tmp.original%20%26%26%20tmp.original.state%20%26%26%20tmp.original.state.undetermined%20%26%26%20tmp.original.state.undetermined%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09%09%09%09if(o%5Btmp.id%5D%20%3D%3D%3D%20undefined%20%26%26%20tmp.id%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09%09o%5Btmp.id%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09p.push(tmp.id)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20tmp.parents.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(o%5Btmp.parents%5Bk%5D%5D%20%3D%3D%3D%20undefined%20%26%26%20tmp.parents%5Bk%5D%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09o%5Btmp.parents%5Bk%5D%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09p.push(tmp.parents%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09tmp2%20%3D%20m%5Btmp.children_d%5Bi%5D%5D%3B%0D%0A%09%09%09%09%09%09%09if(!tmp2.state.loaded%20%26%26%20tmp2.original%20%26%26%20tmp2.original.state%20%26%26%20tmp2.original.state.undetermined%20%26%26%20tmp2.original.state.undetermined%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(o%5Btmp2.id%5D%20%3D%3D%3D%20undefined%20%26%26%20tmp2.id%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09o%5Btmp2.id%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09p.push(tmp2.id)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20tmp2.parents.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(o%5Btmp2.parents%5Bk%5D%5D%20%3D%3D%3D%20undefined%20%26%26%20tmp2.parents%5Bk%5D%20!%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09o%5Btmp2.parents%5Bk%5D%5D%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09%09p.push(tmp2.parents%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09for%20(i%20%3D%200%2C%20j%20%3D%20p.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(!m%5Bp%5Bi%5D%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09r.push(full%20%3F%20m%5Bp%5Bi%5D%5D%20%3A%20p%5Bi%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20r%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20set%20the%20undetermined%20state%20where%20and%20if%20necessary.%20Used%20internally.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20_undetermined()%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this._undetermined%20%3D%20function%20()%20%7B%0D%0A%09%09%09if(this.element%20%3D%3D%3D%20null)%20%7B%20return%3B%20%7D%0D%0A%09%09%09var%20p%20%3D%20this.get_undetermined(false)%2C%20i%2C%20j%2C%20s%3B%0D%0A%0D%0A%09%09%09this.element.find('.jstree-undetermined').removeClass('jstree-undetermined')%3B%0D%0A%09%09%09for%20(i%20%3D%200%2C%20j%20%3D%20p.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09s%20%3D%20this.get_node(p%5Bi%5D%2C%20true)%3B%0D%0A%09%09%09%09if(s%20%26%26%20s.length)%20%7B%0D%0A%09%09%09%09%09s.children('.jstree-anchor').children('.jstree-checkbox').addClass('jstree-undetermined')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09this.redraw_node%20%3D%20function(obj%2C%20deep%2C%20is_callback%2C%20force_render)%20%7B%0D%0A%09%09%09obj%20%3D%20parent.redraw_node.apply(this%2C%20arguments)%3B%0D%0A%09%09%09if(obj)%20%7B%0D%0A%09%09%09%09var%20i%2C%20j%2C%20tmp%20%3D%20null%2C%20icon%20%3D%20null%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.childNodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(obj.childNodes%5Bi%5D%20%26%26%20obj.childNodes%5Bi%5D.className%20%26%26%20obj.childNodes%5Bi%5D.className.indexOf(%22jstree-anchor%22)%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09tmp%20%3D%20obj.childNodes%5Bi%5D%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(tmp)%20%7B%0D%0A%09%09%09%09%09if(!this.settings.checkbox.tie_selection%20%26%26%20this._model.data%5Bobj.id%5D.state.checked)%20%7B%20tmp.className%20%2B%3D%20'%20jstree-checked'%3B%20%7D%0D%0A%09%09%09%09%09icon%20%3D%20_i.cloneNode(false)%3B%0D%0A%09%09%09%09%09if(this._model.data%5Bobj.id%5D.state.checkbox_disabled)%20%7B%20icon.className%20%2B%3D%20'%20jstree-checkbox-disabled'%3B%20%7D%0D%0A%09%09%09%09%09tmp.insertBefore(icon%2C%20tmp.childNodes%5B0%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!is_callback%20%26%26%20this.settings.checkbox.cascade.indexOf('undetermined')%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09if(this._data.checkbox.uto)%20%7B%20clearTimeout(this._data.checkbox.uto)%3B%20%7D%0D%0A%09%09%09%09this._data.checkbox.uto%20%3D%20setTimeout(%24.proxy(this._undetermined%2C%20this)%2C%2050)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20show%20the%20node%20checkbox%20icons%0D%0A%09%09%20*%20%40name%20show_checkboxes()%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.show_checkboxes%20%3D%20function%20()%20%7B%20this._data.core.themes.checkboxes%20%3D%20true%3B%20this.get_container_ul().removeClass(%22jstree-no-checkboxes%22)%3B%20%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20hide%20the%20node%20checkbox%20icons%0D%0A%09%09%20*%20%40name%20hide_checkboxes()%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.hide_checkboxes%20%3D%20function%20()%20%7B%20this._data.core.themes.checkboxes%20%3D%20false%3B%20this.get_container_ul().addClass(%22jstree-no-checkboxes%22)%3B%20%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20toggle%20the%20node%20icons%0D%0A%09%09%20*%20%40name%20toggle_checkboxes()%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.toggle_checkboxes%20%3D%20function%20()%20%7B%20if(this._data.core.themes.checkboxes)%20%7B%20this.hide_checkboxes()%3B%20%7D%20else%20%7B%20this.show_checkboxes()%3B%20%7D%20%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20checks%20if%20a%20node%20is%20in%20an%20undetermined%20state%0D%0A%09%09%20*%20%40name%20is_undetermined(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%2F%0D%0A%09%09this.is_undetermined%20%3D%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09var%20s%20%3D%20this.settings.checkbox.cascade%2C%20i%2C%20j%2C%20t%20%3D%20this.settings.checkbox.tie_selection%2C%20d%20%3D%20this._data%5B%20t%20%3F%20'core'%20%3A%20'checkbox'%20%5D.selected%2C%20m%20%3D%20this._model.data%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%3D%3D%20true%20%7C%7C%20s.indexOf('undetermined')%20%3D%3D%3D%20-1%20%7C%7C%20(s.indexOf('down')%20%3D%3D%3D%20-1%20%26%26%20s.indexOf('up')%20%3D%3D%3D%20-1))%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!obj.state.loaded%20%26%26%20obj.original.state.undetermined%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(%24.inArray(obj.children_d%5Bi%5D%2C%20d)%20!%3D%3D%20-1%20%7C%7C%20(!m%5Bobj.children_d%5Bi%5D%5D.state.loaded%20%26%26%20m%5Bobj.children_d%5Bi%5D%5D.original.state.undetermined))%20%7B%0D%0A%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20disable%20a%20node's%20checkbox%0D%0A%09%09%20*%20%40name%20disable_checkbox(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20an%20array%20can%20be%20used%20too%0D%0A%09%09%20*%20%40trigger%20disable_checkbox.jstree%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.disable_checkbox%20%3D%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20dom%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.disable_checkbox(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(!obj.state.checkbox_disabled)%20%7B%0D%0A%09%09%09%09obj.state.checkbox_disabled%20%3D%20true%3B%0D%0A%09%09%09%09if(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09dom.children('.jstree-anchor').children('.jstree-checkbox').addClass('jstree-checkbox-disabled')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node's%20checkbox%20is%20disabled%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20disable_checkbox.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('disable_checkbox'%2C%20%7B%20'node'%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20enable%20a%20node's%20checkbox%0D%0A%09%09%20*%20%40name%20disable_checkbox(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20an%20array%20can%20be%20used%20too%0D%0A%09%09%20*%20%40trigger%20enable_checkbox.jstree%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.enable_checkbox%20%3D%20function%20(obj)%20%7B%0D%0A%09%09%09var%20t1%2C%20t2%2C%20dom%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.enable_checkbox(obj%5Bt1%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(obj.state.checkbox_disabled)%20%7B%0D%0A%09%09%09%09obj.state.checkbox_disabled%20%3D%20false%3B%0D%0A%09%09%09%09if(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09dom.children('.jstree-anchor').children('.jstree-checkbox').removeClass('jstree-checkbox-disabled')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node's%20checkbox%20is%20enabled%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20enable_checkbox.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('enable_checkbox'%2C%20%7B%20'node'%20%3A%20obj%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09this.activate_node%20%3D%20function%20(obj%2C%20e)%20%7B%0D%0A%09%09%09if(%24(e.target).hasClass('jstree-checkbox-disabled'))%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.settings.checkbox.tie_selection%20%26%26%20(this.settings.checkbox.whole_node%20%7C%7C%20%24(e.target).hasClass('jstree-checkbox')))%20%7B%0D%0A%09%09%09%09e.ctrlKey%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.settings.checkbox.tie_selection%20%7C%7C%20(!this.settings.checkbox.whole_node%20%26%26%20!%24(e.target).hasClass('jstree-checkbox')))%20%7B%0D%0A%09%09%09%09return%20parent.activate_node.call(this%2C%20obj%2C%20e)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.is_disabled(obj))%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.is_checked(obj))%20%7B%0D%0A%09%09%09%09this.uncheck_node(obj%2C%20e)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09this.check_node(obj%2C%20e)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this.trigger('activate_node'%2C%20%7B%20'node'%20%3A%20this.get_node(obj)%20%7D)%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Cascades%20checked%20state%20to%20a%20node%20and%20all%20its%20descendants.%20This%20function%20does%20NOT%20affect%20hidden%20and%20disabled%20nodes%20(or%20their%20descendants).%0D%0A%09%09%20*%20However%20if%20these%20unaffected%20nodes%20are%20already%20selected%20their%20ids%20will%20be%20included%20in%20the%20returned%20array.%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40param%20%7Bstring%7D%20id%20the%20node%20ID%0D%0A%09%09%20*%20%40param%20%7Bbool%7D%20checkedState%20should%20the%20nodes%20be%20checked%20or%20not%0D%0A%09%09%20*%20%40returns%20%7BArray%7D%20Array%20of%20all%20node%20id's%20(in%20this%20tree%20branch)%20that%20are%20checked.%0D%0A%09%09%20*%2F%0D%0A%09%09this._cascade_new_checked_state%20%3D%20function%20(id%2C%20checkedState)%20%7B%0D%0A%09%09%09var%20self%20%3D%20this%3B%0D%0A%09%09%09var%20t%20%3D%20this.settings.checkbox.tie_selection%3B%0D%0A%09%09%09var%20node%20%3D%20this._model.data%5Bid%5D%3B%0D%0A%09%09%09var%20selectedNodeIds%20%3D%20%5B%5D%3B%0D%0A%09%09%09var%20selectedChildrenIds%20%3D%20%5B%5D%2C%20i%2C%20j%2C%20selectedChildIds%3B%0D%0A%0D%0A%09%09%09if%20(%0D%0A%09%09%09%09(this.settings.checkbox.cascade_to_disabled%20%7C%7C%20!node.state.disabled)%20%26%26%0D%0A%09%09%09%09(this.settings.checkbox.cascade_to_hidden%20%7C%7C%20!node.state.hidden)%0D%0A%09%09%09)%20%7B%0D%0A%09%09%09%09%2F%2FFirst%20try%20and%20check%2Funcheck%20the%20children%0D%0A%09%09%09%09if%20(node.children)%20%7B%0D%0A%09%09%09%09%09for%20(i%20%3D%200%2C%20j%20%3D%20node.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09var%20childId%20%3D%20node.children%5Bi%5D%3B%0D%0A%09%09%09%09%09%09selectedChildIds%20%3D%20self._cascade_new_checked_state(childId%2C%20checkedState)%3B%0D%0A%09%09%09%09%09%09selectedNodeIds%20%3D%20selectedNodeIds.concat(selectedChildIds)%3B%0D%0A%09%09%09%09%09%09if%20(selectedChildIds.indexOf(childId)%20%3E%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09selectedChildrenIds.push(childId)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09var%20dom%20%3D%20self.get_node(node%2C%20true)%3B%0D%0A%0D%0A%09%09%09%09%2F%2FA%20node's%20state%20is%20undetermined%20if%20some%20but%20not%20all%20of%20it's%20children%20are%20checked%2Fselected%20.%0D%0A%09%09%09%09var%20undetermined%20%3D%20selectedChildrenIds.length%20%3E%200%20%26%26%20selectedChildrenIds.length%20%3C%20node.children.length%3B%0D%0A%0D%0A%09%09%09%09if(node.original%20%26%26%20node.original.state%20%26%26%20node.original.state.undetermined)%20%7B%0D%0A%09%09%09%09%09node.original.state.undetermined%20%3D%20undetermined%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2FIf%20a%20node%20is%20undetermined%20then%20remove%20selected%20class%0D%0A%09%09%09%09if%20(undetermined)%20%7B%0D%0A%09%09%09%09%09node.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20false%3B%0D%0A%09%09%09%09%09dom.attr('aria-selected'%2C%20false).children('.jstree-anchor').removeClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F%2FOtherwise%2C%20if%20the%20checkedState%20%3D%3D%3D%20true%20(i.e.%20the%20node%20is%20being%20checked%20now)%20and%20all%20of%20the%20node's%20children%20are%20checked%20(if%20it%20has%20any%20children)%2C%0D%0A%09%09%09%09%2F%2Fcheck%20the%20node%20and%20style%20it%20correctly.%0D%0A%09%09%09%09else%20if%20(checkedState%20%26%26%20selectedChildrenIds.length%20%3D%3D%3D%20node.children.length)%20%7B%0D%0A%09%09%09%09%09node.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20checkedState%3B%0D%0A%09%09%09%09%09selectedNodeIds.push(node.id)%3B%0D%0A%0D%0A%09%09%09%09%09dom.attr('aria-selected'%2C%20true).children('.jstree-anchor').addClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09node.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%20%3D%20false%3B%0D%0A%09%09%09%09%09dom.attr('aria-selected'%2C%20false).children('.jstree-anchor').removeClass(t%20%3F%20'jstree-clicked'%20%3A%20'jstree-checked')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09selectedChildIds%20%3D%20this.get_checked_descendants(id)%3B%0D%0A%0D%0A%09%09%09%09if%20(node.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D)%20%7B%0D%0A%09%09%09%09%09selectedChildIds.push(node.id)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09selectedNodeIds%20%3D%20selectedNodeIds.concat(selectedChildIds)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20selectedNodeIds%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Gets%20ids%20of%20nodes%20selected%20in%20branch%20(of%20tree)%20specified%20by%20id%20(does%20not%20include%20the%20node%20specified%20by%20id)%0D%0A%09%09%20*%20%40name%20get_checked_descendants(obj)%0D%0A%09%09%20*%20%40param%20%7Bstring%7D%20id%20the%20node%20ID%0D%0A%09%09%20*%20%40return%20%7BArray%7D%20array%20of%20IDs%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.get_checked_descendants%20%3D%20function%20(id)%20%7B%0D%0A%09%09%09var%20self%20%3D%20this%3B%0D%0A%09%09%09var%20t%20%3D%20self.settings.checkbox.tie_selection%3B%0D%0A%09%09%09var%20node%20%3D%20self._model.data%5Bid%5D%3B%0D%0A%0D%0A%09%09%09return%20node.children_d.filter(function(_id)%20%7B%0D%0A%09%09%09%09return%20self._model.data%5B_id%5D.state%5B%20t%20%3F%20'selected'%20%3A%20'checked'%20%5D%3B%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F**%0D%0A%09%09%20*%20check%20a%20node%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false%2C%20otherwise%20select_node%20will%20be%20called%20internally)%0D%0A%09%09%20*%20%40name%20check_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20an%20array%20can%20be%20used%20to%20check%20multiple%20nodes%0D%0A%09%09%20*%20%40trigger%20check_node.jstree%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.check_node%20%3D%20function%20(obj%2C%20e)%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.select_node(obj%2C%20false%2C%20true%2C%20e)%3B%20%7D%0D%0A%09%09%09var%20dom%2C%20t1%2C%20t2%2C%20th%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.check_node(obj%5Bt1%5D%2C%20e)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(!obj.state.checked)%20%7B%0D%0A%09%09%09%09obj.state.checked%20%3D%20true%3B%0D%0A%09%09%09%09this._data.checkbox.selected.push(obj.id)%3B%0D%0A%09%09%09%09if(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09dom.children('.jstree-anchor').addClass('jstree-checked')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node%20is%20checked%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false)%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20check_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20(if%20any)%20that%20triggered%20this%20check_node%0D%0A%09%09%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('check_node'%2C%20%7B%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.checkbox.selected%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20uncheck%20a%20node%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false%2C%20otherwise%20deselect_node%20will%20be%20called%20internally)%0D%0A%09%09%20*%20%40name%20uncheck_node(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20an%20array%20can%20be%20used%20to%20uncheck%20multiple%20nodes%0D%0A%09%09%20*%20%40trigger%20uncheck_node.jstree%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.uncheck_node%20%3D%20function%20(obj%2C%20e)%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.deselect_node(obj%2C%20false%2C%20e)%3B%20%7D%0D%0A%09%09%09var%20t1%2C%20t2%2C%20dom%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.uncheck_node(obj%5Bt1%5D%2C%20e)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09dom%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if(obj.state.checked)%20%7B%0D%0A%09%09%09%09obj.state.checked%20%3D%20false%3B%0D%0A%09%09%09%09this._data.checkbox.selected%20%3D%20%24.vakata.array_remove_item(this._data.checkbox.selected%2C%20obj.id)%3B%0D%0A%09%09%09%09if(dom.length)%20%7B%0D%0A%09%09%09%09%09dom.children('.jstree-anchor').removeClass('jstree-checked')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20an%20node%20is%20unchecked%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false)%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20uncheck_node.jstree%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20node%0D%0A%09%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20(if%20any)%20that%20triggered%20this%20uncheck_node%0D%0A%09%09%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('uncheck_node'%2C%20%7B%20'node'%20%3A%20obj%2C%20'selected'%20%3A%20this._data.checkbox.selected%2C%20'event'%20%3A%20e%20%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%0D%0A%09%09%2F**%0D%0A%09%09%20*%20checks%20all%20nodes%20in%20the%20tree%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false%2C%20otherwise%20select_all%20will%20be%20called%20internally)%0D%0A%09%09%20*%20%40name%20check_all()%0D%0A%09%09%20*%20%40trigger%20check_all.jstree%2C%20changed.jstree%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.check_all%20%3D%20function%20()%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.select_all()%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20this._data.checkbox.selected.concat(%5B%5D)%2C%20i%2C%20j%3B%0D%0A%09%09%09this._data.checkbox.selected%20%3D%20this._model.data%5B%24.jstree.root%5D.children_d.concat()%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20this._data.checkbox.selected.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(this._model.data%5Bthis._data.checkbox.selected%5Bi%5D%5D)%20%7B%0D%0A%09%09%09%09%09this._model.data%5Bthis._data.checkbox.selected%5Bi%5D%5D.state.checked%20%3D%20true%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09this.redraw(true)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20all%20nodes%20are%20checked%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false)%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20check_all.jstree%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('check_all'%2C%20%7B%20'selected'%20%3A%20this._data.checkbox.selected%20%7D)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20uncheck%20all%20checked%20nodes%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false%2C%20otherwise%20deselect_all%20will%20be%20called%20internally)%0D%0A%09%09%20*%20%40name%20uncheck_all()%0D%0A%09%09%20*%20%40trigger%20uncheck_all.jstree%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.uncheck_all%20%3D%20function%20()%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.deselect_all()%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20this._data.checkbox.selected.concat(%5B%5D)%2C%20i%2C%20j%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20this._data.checkbox.selected.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(this._model.data%5Bthis._data.checkbox.selected%5Bi%5D%5D)%20%7B%0D%0A%09%09%09%09%09this._model.data%5Bthis._data.checkbox.selected%5Bi%5D%5D.state.checked%20%3D%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09this._data.checkbox.selected%20%3D%20%5B%5D%3B%0D%0A%09%09%09this.element.find('.jstree-checked').removeClass('jstree-checked')%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20all%20nodes%20are%20unchecked%20(only%20if%20tie_selection%20in%20checkbox%20settings%20is%20false)%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20uncheck_all.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20previous%20selection%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20selected%20the%20current%20selection%0D%0A%09%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('uncheck_all'%2C%20%7B%20'selected'%20%3A%20this._data.checkbox.selected%2C%20'node'%20%3A%20tmp%20%7D)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20checks%20if%20a%20node%20is%20checked%20(if%20tie_selection%20is%20on%20in%20the%20settings%20this%20function%20will%20return%20the%20same%20as%20is_selected)%0D%0A%09%09%20*%20%40name%20is_checked(obj)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20obj%0D%0A%09%09%20*%20%40return%20%7BBoolean%7D%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.is_checked%20%3D%20function%20(obj)%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.is_selected(obj)%3B%20%7D%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09return%20obj.state.checked%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20an%20array%20of%20all%20checked%20nodes%20(if%20tie_selection%20is%20on%20in%20the%20settings%20this%20function%20will%20return%20the%20same%20as%20get_selected)%0D%0A%09%09%20*%20%40name%20get_checked(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20full%20if%20set%20to%20%60true%60%20the%20returned%20array%20will%20consist%20of%20the%20full%20node%20objects%2C%20otherwise%20-%20only%20IDs%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BArray%7D%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.get_checked%20%3D%20function%20(full)%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.get_selected(full)%3B%20%7D%0D%0A%09%09%09return%20full%20%3F%20%24.map(this._data.checkbox.selected%2C%20%24.proxy(function%20(i)%20%7B%20return%20this.get_node(i)%3B%20%7D%2C%20this))%20%3A%20this._data.checkbox.selected%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20an%20array%20of%20all%20top%20level%20checked%20nodes%20(ignoring%20children%20of%20checked%20nodes)%20(if%20tie_selection%20is%20on%20in%20the%20settings%20this%20function%20will%20return%20the%20same%20as%20get_top_selected)%0D%0A%09%09%20*%20%40name%20get_top_checked(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20full%20if%20set%20to%20%60true%60%20the%20returned%20array%20will%20consist%20of%20the%20full%20node%20objects%2C%20otherwise%20-%20only%20IDs%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BArray%7D%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.get_top_checked%20%3D%20function%20(full)%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.get_top_selected(full)%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20this.get_checked(true)%2C%0D%0A%09%09%09%09obj%20%3D%20%7B%7D%2C%20i%2C%20j%2C%20k%2C%20l%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09obj%5Btmp%5Bi%5D.id%5D%20%3D%20tmp%5Bi%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20tmp%5Bi%5D.children_d.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(obj%5Btmp%5Bi%5D.children_d%5Bk%5D%5D)%20%7B%0D%0A%09%09%09%09%09%09delete%20obj%5Btmp%5Bi%5D.children_d%5Bk%5D%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09tmp%20%3D%20%5B%5D%3B%0D%0A%09%09%09for(i%20in%20obj)%20%7B%0D%0A%09%09%09%09if(obj.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09tmp.push(i)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20full%20%3F%20%24.map(tmp%2C%20%24.proxy(function%20(i)%20%7B%20return%20this.get_node(i)%3B%20%7D%2C%20this))%20%3A%20tmp%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20get%20an%20array%20of%20all%20bottom%20level%20checked%20nodes%20(ignoring%20selected%20parents)%20(if%20tie_selection%20is%20on%20in%20the%20settings%20this%20function%20will%20return%20the%20same%20as%20get_bottom_selected)%0D%0A%09%09%20*%20%40name%20get_bottom_checked(%5Bfull%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20%20full%20if%20set%20to%20%60true%60%20the%20returned%20array%20will%20consist%20of%20the%20full%20node%20objects%2C%20otherwise%20-%20only%20IDs%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BArray%7D%0D%0A%09%09%20*%20%40plugin%20checkbox%0D%0A%09%09%20*%2F%0D%0A%09%09this.get_bottom_checked%20%3D%20function%20(full)%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20this.get_bottom_selected(full)%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20this.get_checked(true)%2C%0D%0A%09%09%09%09obj%20%3D%20%5B%5D%2C%20i%2C%20j%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09if(!tmp%5Bi%5D.children.length)%20%7B%0D%0A%09%09%09%09%09obj.push(tmp%5Bi%5D.id)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20full%20%3F%20%24.map(obj%2C%20%24.proxy(function%20(i)%20%7B%20return%20this.get_node(i)%3B%20%7D%2C%20this))%20%3A%20obj%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.load_node%20%3D%20function%20(obj%2C%20callback)%20%7B%0D%0A%09%09%09var%20k%2C%20l%2C%20i%2C%20j%2C%20c%2C%20tmp%3B%0D%0A%09%09%09if(!%24.isArray(obj)%20%26%26%20!this.settings.checkbox.tie_selection)%20%7B%0D%0A%09%09%09%09tmp%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09%09if(tmp%20%26%26%20tmp.state.loaded)%20%7B%0D%0A%09%09%09%09%09for(k%20%3D%200%2C%20l%20%3D%20tmp.children_d.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if(this._model.data%5Btmp.children_d%5Bk%5D%5D.state.checked)%20%7B%0D%0A%09%09%09%09%09%09%09c%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09this._data.checkbox.selected%20%3D%20%24.vakata.array_remove_item(this._data.checkbox.selected%2C%20tmp.children_d%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20parent.load_node.apply(this%2C%20arguments)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.get_state%20%3D%20function%20()%20%7B%0D%0A%09%09%09var%20state%20%3D%20parent.get_state.apply(this%2C%20arguments)%3B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%20return%20state%3B%20%7D%0D%0A%09%09%09state.checkbox%20%3D%20this._data.checkbox.selected.slice()%3B%0D%0A%09%09%09return%20state%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.set_state%20%3D%20function%20(state%2C%20callback)%20%7B%0D%0A%09%09%09var%20res%20%3D%20parent.set_state.apply(this%2C%20arguments)%3B%0D%0A%09%09%09if(res%20%26%26%20state.checkbox)%20%7B%0D%0A%09%09%09%09if(!this.settings.checkbox.tie_selection)%20%7B%0D%0A%09%09%09%09%09this.uncheck_all()%3B%0D%0A%09%09%09%09%09var%20_this%20%3D%20this%3B%0D%0A%09%09%09%09%09%24.each(state.checkbox%2C%20function%20(i%2C%20v)%20%7B%0D%0A%09%09%09%09%09%09_this.check_node(v)%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09delete%20state.checkbox%3B%0D%0A%09%09%09%09this.set_state(state%2C%20callback)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20res%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.refresh%20%3D%20function%20(skip_loading%2C%20forget_state)%20%7B%0D%0A%09%09%09if(this.settings.checkbox.tie_selection)%20%7B%0D%0A%09%09%09%09this._data.checkbox.selected%20%3D%20%5B%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20parent.refresh.apply(this%2C%20arguments)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20include%20the%20checkbox%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22checkbox%22)%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Conditionalselect%20plugin%0D%0A%20*%0D%0A%20*%20This%20plugin%20allows%20defining%20a%20callback%20to%20allow%20or%20deny%20node%20selection%20by%20user%20input%20(activate%20node%20method).%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20a%20callback%20(function)%20which%20is%20invoked%20in%20the%20instance's%20scope%20and%20receives%20two%20arguments%20-%20the%20node%20and%20the%20event%20that%20triggered%20the%20%60activate_node%60%20call.%20Returning%20false%20prevents%20working%20with%20the%20node%2C%20returning%20true%20allows%20invoking%20activate_node.%20Defaults%20to%20returning%20%60true%60.%0D%0A%09%20*%20%40name%20%24.jstree.defaults.checkbox.visible%0D%0A%09%20*%20%40plugin%20checkbox%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.conditionalselect%20%3D%20function%20()%20%7B%20return%20true%3B%20%7D%3B%0D%0A%09%24.jstree.plugins.conditionalselect%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09%2F%2F%20own%20function%0D%0A%09%09this.activate_node%20%3D%20function%20(obj%2C%20e)%20%7B%0D%0A%09%09%09if(this.settings.conditionalselect.call(this%2C%20this.get_node(obj)%2C%20e))%20%7B%0D%0A%09%09%09%09return%20parent.activate_node.call(this%2C%20obj%2C%20e)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Contextmenu%20plugin%0D%0A%20*%0D%0A%20*%20Shows%20a%20context%20menu%20when%20a%20node%20is%20right-clicked.%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20stores%20all%20defaults%20for%20the%20contextmenu%20plugin%0D%0A%09%20*%20%40name%20%24.jstree.defaults.contextmenu%0D%0A%09%20*%20%40plugin%20contextmenu%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.contextmenu%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20the%20node%20should%20be%20selected%20when%20the%20context%20menu%20is%20invoked%20on%20it.%20Defaults%20to%20%60true%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.contextmenu.select_node%0D%0A%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%20*%2F%0D%0A%09%09select_node%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20the%20menu%20should%20be%20shown%20aligned%20with%20the%20node.%20Defaults%20to%20%60true%60%2C%20otherwise%20the%20mouse%20coordinates%20are%20used.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.contextmenu.show_at_node%0D%0A%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%20*%2F%0D%0A%09%09show_at_node%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20an%20object%20of%20actions%2C%20or%20a%20function%20that%20accepts%20a%20node%20and%20a%20callback%20function%20and%20calls%20the%20callback%20function%20with%20an%20object%20of%20actions%20available%20for%20that%20node%20(you%20can%20also%20return%20the%20items%20too).%0D%0A%09%09%20*%0D%0A%09%09%20*%20Each%20action%20consists%20of%20a%20key%20(a%20unique%20name)%20and%20a%20value%20which%20is%20an%20object%20with%20the%20following%20properties%20(only%20label%20and%20action%20are%20required).%20Once%20a%20menu%20item%20is%20activated%20the%20%60action%60%20function%20will%20be%20invoked%20with%20an%20object%20containing%20the%20following%20keys%3A%20item%20-%20the%20contextmenu%20item%20definition%20as%20seen%20below%2C%20reference%20-%20the%20DOM%20node%20that%20was%20used%20(the%20tree%20node)%2C%20element%20-%20the%20contextmenu%20DOM%20element%2C%20position%20-%20an%20object%20with%20x%2Fy%20properties%20indicating%20the%20position%20of%20the%20menu.%0D%0A%09%09%20*%0D%0A%09%09%20*%20*%20%60separator_before%60%20-%20a%20boolean%20indicating%20if%20there%20should%20be%20a%20separator%20before%20this%20item%0D%0A%09%09%20*%20*%20%60separator_after%60%20-%20a%20boolean%20indicating%20if%20there%20should%20be%20a%20separator%20after%20this%20item%0D%0A%09%09%20*%20*%20%60_disabled%60%20-%20a%20boolean%20indicating%20if%20this%20action%20should%20be%20disabled%0D%0A%09%09%20*%20*%20%60label%60%20-%20a%20string%20-%20the%20name%20of%20the%20action%20(could%20be%20a%20function%20returning%20a%20string)%0D%0A%09%09%20*%20*%20%60title%60%20-%20a%20string%20-%20an%20optional%20tooltip%20for%20the%20item%0D%0A%09%09%20*%20*%20%60action%60%20-%20a%20function%20to%20be%20executed%20if%20this%20item%20is%20chosen%2C%20the%20function%20will%20receive%20%0D%0A%09%09%20*%20*%20%60icon%60%20-%20a%20string%2C%20can%20be%20a%20path%20to%20an%20icon%20or%20a%20className%2C%20if%20using%20an%20image%20that%20is%20in%20the%20current%20directory%20use%20a%20%60.%2F%60%20prefix%2C%20otherwise%20it%20will%20be%20detected%20as%20a%20class%0D%0A%09%09%20*%20*%20%60shortcut%60%20-%20keyCode%20which%20will%20trigger%20the%20action%20if%20the%20menu%20is%20open%20(for%20example%20%60113%60%20for%20rename%2C%20which%20equals%20F2)%0D%0A%09%09%20*%20*%20%60shortcut_label%60%20-%20shortcut%20label%20(like%20for%20example%20%60F2%60%20for%20rename)%0D%0A%09%09%20*%20*%20%60submenu%60%20-%20an%20object%20with%20the%20same%20structure%20as%20%24.jstree.defaults.contextmenu.items%20which%20can%20be%20used%20to%20create%20a%20submenu%20-%20each%20key%20will%20be%20rendered%20as%20a%20separate%20option%20in%20a%20submenu%20that%20will%20appear%20once%20the%20current%20item%20is%20hovered%0D%0A%09%09%20*%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.contextmenu.items%0D%0A%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%20*%2F%0D%0A%09%09items%20%3A%20function%20(o%2C%20cb)%20%7B%20%2F%2F%20Could%20be%20an%20object%20directly%0D%0A%09%09%09return%20%7B%0D%0A%09%09%09%09%22create%22%20%3A%20%7B%0D%0A%09%09%09%09%09%22separator_before%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%22separator_after%22%09%3A%20true%2C%0D%0A%09%09%09%09%09%22_disabled%22%09%09%09%3A%20false%2C%20%2F%2F(this.check(%22create_node%22%2C%20data.reference%2C%20%7B%7D%2C%20%22last%22))%2C%0D%0A%09%09%09%09%09%22label%22%09%09%09%09%3A%20%22Create%22%2C%0D%0A%09%09%09%09%09%22action%22%09%09%09%3A%20function%20(data)%20%7B%0D%0A%09%09%09%09%09%09var%20inst%20%3D%20%24.jstree.reference(data.reference)%2C%0D%0A%09%09%09%09%09%09%09obj%20%3D%20inst.get_node(data.reference)%3B%0D%0A%09%09%09%09%09%09inst.create_node(obj%2C%20%7B%7D%2C%20%22last%22%2C%20function%20(new_node)%20%7B%0D%0A%09%09%09%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09%09%09%09inst.edit(new_node)%3B%0D%0A%09%09%09%09%09%09%09%7D%20catch%20(ex)%20%7B%0D%0A%09%09%09%09%09%09%09%09setTimeout(function%20()%20%7B%20inst.edit(new_node)%3B%20%7D%2C0)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09%22rename%22%20%3A%20%7B%0D%0A%09%09%09%09%09%22separator_before%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%22separator_after%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%22_disabled%22%09%09%09%3A%20false%2C%20%2F%2F(this.check(%22rename_node%22%2C%20data.reference%2C%20this.get_parent(data.reference)%2C%20%22%22))%2C%0D%0A%09%09%09%09%09%22label%22%09%09%09%09%3A%20%22Rename%22%2C%0D%0A%09%09%09%09%09%2F*!%0D%0A%09%09%09%09%09%22shortcut%22%09%09%09%3A%20113%2C%0D%0A%09%09%09%09%09%22shortcut_label%22%09%3A%20'F2'%2C%0D%0A%09%09%09%09%09%22icon%22%09%09%09%09%3A%20%22glyphicon%20glyphicon-leaf%22%2C%0D%0A%09%09%09%09%09*%2F%0D%0A%09%09%09%09%09%22action%22%09%09%09%3A%20function%20(data)%20%7B%0D%0A%09%09%09%09%09%09var%20inst%20%3D%20%24.jstree.reference(data.reference)%2C%0D%0A%09%09%09%09%09%09%09obj%20%3D%20inst.get_node(data.reference)%3B%0D%0A%09%09%09%09%09%09inst.edit(obj)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09%22remove%22%20%3A%20%7B%0D%0A%09%09%09%09%09%22separator_before%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%22icon%22%09%09%09%09%3A%20false%2C%0D%0A%09%09%09%09%09%22separator_after%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%22_disabled%22%09%09%09%3A%20false%2C%20%2F%2F(this.check(%22delete_node%22%2C%20data.reference%2C%20this.get_parent(data.reference)%2C%20%22%22))%2C%0D%0A%09%09%09%09%09%22label%22%09%09%09%09%3A%20%22Delete%22%2C%0D%0A%09%09%09%09%09%22action%22%09%09%09%3A%20function%20(data)%20%7B%0D%0A%09%09%09%09%09%09var%20inst%20%3D%20%24.jstree.reference(data.reference)%2C%0D%0A%09%09%09%09%09%09%09obj%20%3D%20inst.get_node(data.reference)%3B%0D%0A%09%09%09%09%09%09if(inst.is_selected(obj))%20%7B%0D%0A%09%09%09%09%09%09%09inst.delete_node(inst.get_selected())%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09inst.delete_node(obj)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%2C%0D%0A%09%09%09%09%22ccp%22%20%3A%20%7B%0D%0A%09%09%09%09%09%22separator_before%22%09%3A%20true%2C%0D%0A%09%09%09%09%09%22icon%22%09%09%09%09%3A%20false%2C%0D%0A%09%09%09%09%09%22separator_after%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%22label%22%09%09%09%09%3A%20%22Edit%22%2C%0D%0A%09%09%09%09%09%22action%22%09%09%09%3A%20false%2C%0D%0A%09%09%09%09%09%22submenu%22%20%3A%20%7B%0D%0A%09%09%09%09%09%09%22cut%22%20%3A%20%7B%0D%0A%09%09%09%09%09%09%09%22separator_before%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22separator_after%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22label%22%09%09%09%09%3A%20%22Cut%22%2C%0D%0A%09%09%09%09%09%09%09%22action%22%09%09%09%3A%20function%20(data)%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20inst%20%3D%20%24.jstree.reference(data.reference)%2C%0D%0A%09%09%09%09%09%09%09%09%09obj%20%3D%20inst.get_node(data.reference)%3B%0D%0A%09%09%09%09%09%09%09%09if(inst.is_selected(obj))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09inst.cut(inst.get_top_selected())%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09inst.cut(obj)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%09%22copy%22%20%3A%20%7B%0D%0A%09%09%09%09%09%09%09%22separator_before%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22icon%22%09%09%09%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22separator_after%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22label%22%09%09%09%09%3A%20%22Copy%22%2C%0D%0A%09%09%09%09%09%09%09%22action%22%09%09%09%3A%20function%20(data)%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20inst%20%3D%20%24.jstree.reference(data.reference)%2C%0D%0A%09%09%09%09%09%09%09%09%09obj%20%3D%20inst.get_node(data.reference)%3B%0D%0A%09%09%09%09%09%09%09%09if(inst.is_selected(obj))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09inst.copy(inst.get_top_selected())%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09inst.copy(obj)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%09%22paste%22%20%3A%20%7B%0D%0A%09%09%09%09%09%09%09%22separator_before%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22icon%22%09%09%09%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22_disabled%22%09%09%09%3A%20function%20(data)%20%7B%0D%0A%09%09%09%09%09%09%09%09return%20!%24.jstree.reference(data.reference).can_paste()%3B%0D%0A%09%09%09%09%09%09%09%7D%2C%0D%0A%09%09%09%09%09%09%09%22separator_after%22%09%3A%20false%2C%0D%0A%09%09%09%09%09%09%09%22label%22%09%09%09%09%3A%20%22Paste%22%2C%0D%0A%09%09%09%09%09%09%09%22action%22%09%09%09%3A%20function%20(data)%20%7B%0D%0A%09%09%09%09%09%09%09%09var%20inst%20%3D%20%24.jstree.reference(data.reference)%2C%0D%0A%09%09%09%09%09%09%09%09%09obj%20%3D%20inst.get_node(data.reference)%3B%0D%0A%09%09%09%09%09%09%09%09inst.paste(obj)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%0D%0A%09%24.jstree.plugins.contextmenu%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%0D%0A%09%09%09var%20last_ts%20%3D%200%2C%20cto%20%3D%20null%2C%20ex%2C%20ey%3B%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on(%22init.jstree%20loading.jstree%20ready.jstree%22%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09this.get_container_ul().addClass('jstree-contextmenu')%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22contextmenu.jstree%22%2C%20%22.jstree-anchor%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09if%20(e.target.tagName.toLowerCase()%20%3D%3D%3D%20'input')%20%7B%0D%0A%09%09%09%09%09%09%09return%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09last_ts%20%3D%20e.ctrlKey%20%3F%20%2Bnew%20Date()%20%3A%200%3B%0D%0A%09%09%09%09%09%09if(data%20%7C%7C%20cto)%20%7B%0D%0A%09%09%09%09%09%09%09last_ts%20%3D%20(%2Bnew%20Date())%20%2B%2010000%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(cto)%20%7B%0D%0A%09%09%09%09%09%09%09clearTimeout(cto)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(!this.is_loading(e.currentTarget))%20%7B%0D%0A%09%09%09%09%09%09%09this.show_contextmenu(e.currentTarget%2C%20e.pageX%2C%20e.pageY%2C%20e)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22click.jstree%22%2C%20%22.jstree-anchor%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(this._data.contextmenu.visible%20%26%26%20(!last_ts%20%7C%7C%20(%2Bnew%20Date())%20-%20last_ts%20%3E%20250))%20%7B%20%2F%2F%20work%20around%20safari%20%26%20macOS%20ctrl%2Bclick%0D%0A%09%09%09%09%09%09%09%24.vakata.context.hide()%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09last_ts%20%3D%200%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22touchstart.jstree%22%2C%20%22.jstree-anchor%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(!e.originalEvent%20%7C%7C%20!e.originalEvent.changedTouches%20%7C%7C%20!e.originalEvent.changedTouches%5B0%5D)%20%7B%0D%0A%09%09%09%09%09%09%09return%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09ex%20%3D%20e.originalEvent.changedTouches%5B0%5D.clientX%3B%0D%0A%09%09%09%09%09%09ey%20%3D%20e.originalEvent.changedTouches%5B0%5D.clientY%3B%0D%0A%09%09%09%09%09%09cto%20%3D%20setTimeout(function%20()%20%7B%0D%0A%09%09%09%09%09%09%09%24(e.currentTarget).trigger('contextmenu'%2C%20true)%3B%0D%0A%09%09%09%09%09%09%7D%2C%20750)%3B%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09.on('touchmove.vakata.jstree'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(cto%20%26%26%20e.originalEvent%20%26%26%20e.originalEvent.changedTouches%20%26%26%20e.originalEvent.changedTouches%5B0%5D%20%26%26%20(Math.abs(ex%20-%20e.originalEvent.changedTouches%5B0%5D.clientX)%20%3E%2010%20%7C%7C%20Math.abs(ey%20-%20e.originalEvent.changedTouches%5B0%5D.clientY)%20%3E%2010))%20%7B%0D%0A%09%09%09%09%09%09%09clearTimeout(cto)%3B%0D%0A%09%09%09%09%09%09%09%24.vakata.context.hide()%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09.on('touchend.vakata.jstree'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(cto)%20%7B%0D%0A%09%09%09%09%09%09%09clearTimeout(cto)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%0D%0A%09%09%09%2F*!%0D%0A%09%09%09if(!('oncontextmenu'%20in%20document.body)%20%26%26%20('ontouchstart'%20in%20document.body))%20%7B%0D%0A%09%09%09%09var%20el%20%3D%20null%2C%20tm%20%3D%20null%3B%0D%0A%09%09%09%09this.element%0D%0A%09%09%09%09%09.on(%22touchstart%22%2C%20%22.jstree-anchor%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09el%20%3D%20e.currentTarget%3B%0D%0A%09%09%09%09%09%09tm%20%3D%20%2Bnew%20Date()%3B%0D%0A%09%09%09%09%09%09%24(document).one(%22touchend%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09%09e.target%20%3D%20document.elementFromPoint(e.originalEvent.targetTouches%5B0%5D.pageX%20-%20window.pageXOffset%2C%20e.originalEvent.targetTouches%5B0%5D.pageY%20-%20window.pageYOffset)%3B%0D%0A%09%09%09%09%09%09%09e.currentTarget%20%3D%20e.target%3B%0D%0A%09%09%09%09%09%09%09tm%20%3D%20((%2B(new%20Date()))%20-%20tm)%3B%0D%0A%09%09%09%09%09%09%09if(e.target%20%3D%3D%3D%20el%20%26%26%20tm%20%3E%20600%20%26%26%20tm%20%3C%201000)%20%7B%0D%0A%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09%24(el).trigger('contextmenu'%2C%20e)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09el%20%3D%20null%3B%0D%0A%09%09%09%09%09%09%09tm%20%3D%20null%3B%0D%0A%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09*%2F%0D%0A%09%09%09%24(document).on(%22context_hide.vakata.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09this._data.contextmenu.visible%20%3D%20false%3B%0D%0A%09%09%09%09%24(data.reference).removeClass('jstree-context')%3B%0D%0A%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.teardown%20%3D%20function%20()%20%7B%0D%0A%09%09%09if(this._data.contextmenu.visible)%20%7B%0D%0A%09%09%09%09%24.vakata.context.hide()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09parent.teardown.call(this)%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09%2F**%0D%0A%09%09%20*%20prepare%20and%20show%20the%20context%20menu%20for%20a%20node%0D%0A%09%09%20*%20%40name%20show_contextmenu(obj%20%5B%2C%20x%2C%20y%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20x%20the%20x-coordinate%20relative%20to%20the%20document%20to%20show%20the%20menu%20at%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20y%20the%20y-coordinate%20relative%20to%20the%20document%20to%20show%20the%20menu%20at%0D%0A%09%09%20*%20%40param%20%7BObject%7D%20e%20the%20event%20if%20available%20that%20triggered%20the%20contextmenu%0D%0A%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%20*%20%40trigger%20show_contextmenu.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09this.show_contextmenu%20%3D%20function%20(obj%2C%20x%2C%20y%2C%20e)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj%20%7C%7C%20obj.id%20%3D%3D%3D%20%24.jstree.root)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20s%20%3D%20this.settings.contextmenu%2C%0D%0A%09%09%09%09d%20%3D%20this.get_node(obj%2C%20true)%2C%0D%0A%09%09%09%09a%20%3D%20d.children(%22.jstree-anchor%22)%2C%0D%0A%09%09%09%09o%20%3D%20false%2C%0D%0A%09%09%09%09i%20%3D%20false%3B%0D%0A%09%09%09if(s.show_at_node%20%7C%7C%20x%20%3D%3D%3D%20undefined%20%7C%7C%20y%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09o%20%3D%20a.offset()%3B%0D%0A%09%09%09%09x%20%3D%20o.left%3B%0D%0A%09%09%09%09y%20%3D%20o.top%20%2B%20this._data.core.li_height%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(this.settings.contextmenu.select_node%20%26%26%20!this.is_selected(obj))%20%7B%0D%0A%09%09%09%09this.activate_node(obj%2C%20e)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09i%20%3D%20s.items%3B%0D%0A%09%09%09if(%24.isFunction(i))%20%7B%0D%0A%09%09%09%09i%20%3D%20i.call(this%2C%20obj%2C%20%24.proxy(function%20(i)%20%7B%0D%0A%09%09%09%09%09this._show_contextmenu(obj%2C%20x%2C%20y%2C%20i)%3B%0D%0A%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(%24.isPlainObject(i))%20%7B%0D%0A%09%09%09%09this._show_contextmenu(obj%2C%20x%2C%20y%2C%20i)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20show%20the%20prepared%20context%20menu%20for%20a%20node%0D%0A%09%09%20*%20%40name%20_show_contextmenu(obj%2C%20x%2C%20y%2C%20i)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20x%20the%20x-coordinate%20relative%20to%20the%20document%20to%20show%20the%20menu%20at%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20y%20the%20y-coordinate%20relative%20to%20the%20document%20to%20show%20the%20menu%20at%0D%0A%09%09%20*%20%40param%20%7BNumber%7D%20i%20the%20object%20of%20items%20to%20show%0D%0A%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%20*%20%40trigger%20show_contextmenu.jstree%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%2F%0D%0A%09%09this._show_contextmenu%20%3D%20function%20(obj%2C%20x%2C%20y%2C%20i)%20%7B%0D%0A%09%09%09var%20d%20%3D%20this.get_node(obj%2C%20true)%2C%0D%0A%09%09%09%09a%20%3D%20d.children(%22.jstree-anchor%22)%3B%0D%0A%09%09%09%24(document).one(%22context_show.vakata.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09var%20cls%20%3D%20'jstree-contextmenu%20jstree-'%20%2B%20this.get_theme()%20%2B%20'-contextmenu'%3B%0D%0A%09%09%09%09%24(data.element).addClass(cls)%3B%0D%0A%09%09%09%09a.addClass('jstree-context')%3B%0D%0A%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09this._data.contextmenu.visible%20%3D%20true%3B%0D%0A%09%09%09%24.vakata.context.show(a%2C%20%7B%20'x'%20%3A%20x%2C%20'y'%20%3A%20y%20%7D%2C%20i)%3B%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20when%20the%20contextmenu%20is%20shown%20for%20a%20node%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20show_contextmenu.jstree%0D%0A%09%09%09%20*%20%40param%20%7BObject%7D%20node%20the%20node%0D%0A%09%09%09%20*%20%40param%20%7BNumber%7D%20x%20the%20x-coordinate%20of%20the%20menu%20relative%20to%20the%20document%0D%0A%09%09%09%20*%20%40param%20%7BNumber%7D%20y%20the%20y-coordinate%20of%20the%20menu%20relative%20to%20the%20document%0D%0A%09%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('show_contextmenu'%2C%20%7B%20%22node%22%20%3A%20obj%2C%20%22x%22%20%3A%20x%2C%20%22y%22%20%3A%20y%20%7D)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20contextmenu%20helper%0D%0A%09(function%20(%24)%20%7B%0D%0A%09%09var%20right_to_left%20%3D%20false%2C%0D%0A%09%09%09vakata_context%20%3D%20%7B%0D%0A%09%09%09%09element%09%09%3A%20false%2C%0D%0A%09%09%09%09reference%09%3A%20false%2C%0D%0A%09%09%09%09position_x%09%3A%200%2C%0D%0A%09%09%09%09position_y%09%3A%200%2C%0D%0A%09%09%09%09items%09%09%3A%20%5B%5D%2C%0D%0A%09%09%09%09html%09%09%3A%20%22%22%2C%0D%0A%09%09%09%09is_visible%09%3A%20false%0D%0A%09%09%09%7D%3B%0D%0A%0D%0A%09%09%24.vakata.context%20%3D%20%7B%0D%0A%09%09%09settings%20%3A%20%7B%0D%0A%09%09%09%09hide_onmouseleave%09%3A%200%2C%0D%0A%09%09%09%09icons%09%09%09%09%3A%20true%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_trigger%20%3A%20function%20(event_name)%20%7B%0D%0A%09%09%09%09%24(document).triggerHandler(%22context_%22%20%2B%20event_name%20%2B%20%22.vakata%22%2C%20%7B%0D%0A%09%09%09%09%09%22reference%22%09%3A%20vakata_context.reference%2C%0D%0A%09%09%09%09%09%22element%22%09%3A%20vakata_context.element%2C%0D%0A%09%09%09%09%09%22position%22%09%3A%20%7B%0D%0A%09%09%09%09%09%09%22x%22%20%3A%20vakata_context.position_x%2C%0D%0A%09%09%09%09%09%09%22y%22%20%3A%20vakata_context.position_y%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_execute%20%3A%20function%20(i)%20%7B%0D%0A%09%09%09%09i%20%3D%20vakata_context.items%5Bi%5D%3B%0D%0A%09%09%09%09return%20i%20%26%26%20(!i._disabled%20%7C%7C%20(%24.isFunction(i._disabled)%20%26%26%20!i._disabled(%7B%20%22item%22%20%3A%20i%2C%20%22reference%22%20%3A%20vakata_context.reference%2C%20%22element%22%20%3A%20vakata_context.element%20%7D)))%20%26%26%20i.action%20%3F%20i.action.call(null%2C%20%7B%0D%0A%09%09%09%09%09%09%09%22item%22%09%09%3A%20i%2C%0D%0A%09%09%09%09%09%09%09%22reference%22%09%3A%20vakata_context.reference%2C%0D%0A%09%09%09%09%09%09%09%22element%22%09%3A%20vakata_context.element%2C%0D%0A%09%09%09%09%09%09%09%22position%22%09%3A%20%7B%0D%0A%09%09%09%09%09%09%09%09%22x%22%20%3A%20vakata_context.position_x%2C%0D%0A%09%09%09%09%09%09%09%09%22y%22%20%3A%20vakata_context.position_y%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D)%20%3A%20false%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_parse%20%3A%20function%20(o%2C%20is_callback)%20%7B%0D%0A%09%09%09%09if(!o)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09%09if(!is_callback)%20%7B%0D%0A%09%09%09%09%09vakata_context.html%09%09%3D%20%22%22%3B%0D%0A%09%09%09%09%09vakata_context.items%09%3D%20%5B%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09var%20str%20%3D%20%22%22%2C%0D%0A%09%09%09%09%09sep%20%3D%20false%2C%0D%0A%09%09%09%09%09tmp%3B%0D%0A%0D%0A%09%09%09%09if(is_callback)%20%7B%20str%20%2B%3D%20%22%3C%22%2B%22ul%3E%22%3B%20%7D%0D%0A%09%09%09%09%24.each(o%2C%20function%20(i%2C%20val)%20%7B%0D%0A%09%09%09%09%09if(!val)%20%7B%20return%20true%3B%20%7D%0D%0A%09%09%09%09%09vakata_context.items.push(val)%3B%0D%0A%09%09%09%09%09if(!sep%20%26%26%20val.separator_before)%20%7B%0D%0A%09%09%09%09%09%09str%20%2B%3D%20%22%3C%22%2B%22li%20class%3D'vakata-context-separator'%3E%3C%22%2B%22a%20href%3D'%23'%20%22%20%2B%20(%24.vakata.context.settings.icons%20%3F%20''%20%3A%20'style%3D%22margin-left%3A0px%3B%22')%20%2B%20%22%3E%26%23160%3B%3C%22%2B%22%2Fa%3E%3C%22%2B%22%2Fli%3E%22%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09sep%20%3D%20false%3B%0D%0A%09%09%09%09%09str%20%2B%3D%20%22%3C%22%2B%22li%20class%3D'%22%20%2B%20(val._class%20%7C%7C%20%22%22)%20%2B%20(val._disabled%20%3D%3D%3D%20true%20%7C%7C%20(%24.isFunction(val._disabled)%20%26%26%20val._disabled(%7B%20%22item%22%20%3A%20val%2C%20%22reference%22%20%3A%20vakata_context.reference%2C%20%22element%22%20%3A%20vakata_context.element%20%7D))%20%3F%20%22%20vakata-contextmenu-disabled%20%22%20%3A%20%22%22)%20%2B%20%22'%20%22%2B(val.shortcut%3F%22%20data-shortcut%3D'%22%2Bval.shortcut%2B%22'%20%22%3A'')%2B%22%3E%22%3B%0D%0A%09%09%09%09%09str%20%2B%3D%20%22%3C%22%2B%22a%20href%3D'%23'%20rel%3D'%22%20%2B%20(vakata_context.items.length%20-%201)%20%2B%20%22'%20%22%20%2B%20(val.title%20%3F%20%22title%3D'%22%20%2B%20val.title%20%2B%20%22'%22%20%3A%20%22%22)%20%2B%20%22%3E%22%3B%0D%0A%09%09%09%09%09if(%24.vakata.context.settings.icons)%20%7B%0D%0A%09%09%09%09%09%09str%20%2B%3D%20%22%3C%22%2B%22i%20%22%3B%0D%0A%09%09%09%09%09%09if(val.icon)%20%7B%0D%0A%09%09%09%09%09%09%09if(val.icon.indexOf(%22%2F%22)%20!%3D%3D%20-1%20%7C%7C%20val.icon.indexOf(%22.%22)%20!%3D%3D%20-1)%20%7B%20str%20%2B%3D%20%22%20style%3D'background%3Aurl(%5C%22%22%20%2B%20val.icon%20%2B%20%22%5C%22)%20center%20center%20no-repeat'%20%22%3B%20%7D%0D%0A%09%09%09%09%09%09%09else%20%7B%20str%20%2B%3D%20%22%20class%3D'%22%20%2B%20val.icon%20%2B%20%22'%20%22%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09str%20%2B%3D%20%22%3E%3C%22%2B%22%2Fi%3E%3C%22%2B%22span%20class%3D'vakata-contextmenu-sep'%3E%26%23160%3B%3C%22%2B%22%2Fspan%3E%22%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09str%20%2B%3D%20(%24.isFunction(val.label)%20%3F%20val.label(%7B%20%22item%22%20%3A%20i%2C%20%22reference%22%20%3A%20vakata_context.reference%2C%20%22element%22%20%3A%20vakata_context.element%20%7D)%20%3A%20val.label)%20%2B%20(val.shortcut%3F'%20%3Cspan%20class%3D%22vakata-contextmenu-shortcut%20vakata-contextmenu-shortcut-'%2Bval.shortcut%2B'%22%3E'%2B%20(val.shortcut_label%20%7C%7C%20'')%20%2B'%3C%2Fspan%3E'%3A'')%20%2B%20%22%3C%22%2B%22%2Fa%3E%22%3B%0D%0A%09%09%09%09%09if(val.submenu)%20%7B%0D%0A%09%09%09%09%09%09tmp%20%3D%20%24.vakata.context._parse(val.submenu%2C%20true)%3B%0D%0A%09%09%09%09%09%09if(tmp)%20%7B%20str%20%2B%3D%20tmp%3B%20%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09str%20%2B%3D%20%22%3C%22%2B%22%2Fli%3E%22%3B%0D%0A%09%09%09%09%09if(val.separator_after)%20%7B%0D%0A%09%09%09%09%09%09str%20%2B%3D%20%22%3C%22%2B%22li%20class%3D'vakata-context-separator'%3E%3C%22%2B%22a%20href%3D'%23'%20%22%20%2B%20(%24.vakata.context.settings.icons%20%3F%20''%20%3A%20'style%3D%22margin-left%3A0px%3B%22')%20%2B%20%22%3E%26%23160%3B%3C%22%2B%22%2Fa%3E%3C%22%2B%22%2Fli%3E%22%3B%0D%0A%09%09%09%09%09%09sep%20%3D%20true%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%09%09str%20%20%3D%20str.replace(%2F%3Cli%20class%5C%3D'vakata-context-separator'%5C%3E%3C%5C%2Fli%5C%3E%24%2F%2C%22%22)%3B%0D%0A%09%09%09%09if(is_callback)%20%7B%20str%20%2B%3D%20%22%3C%2Ful%3E%22%3B%20%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20on%20the%20document%20when%20the%20contextmenu%20is%20parsed%20(HTML%20is%20built)%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%09%09%20*%20%40name%20context_parse.vakata%0D%0A%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20reference%20the%20element%20that%20was%20right%20clicked%0D%0A%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20element%20the%20DOM%20element%20of%20the%20menu%20itself%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20position%20the%20x%20%26%20y%20coordinates%20of%20the%20menu%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09if(!is_callback)%20%7B%20vakata_context.html%20%3D%20str%3B%20%24.vakata.context._trigger(%22parse%22)%3B%20%7D%0D%0A%09%09%09%09return%20str.length%20%3E%2010%20%3F%20str%20%3A%20false%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_show_submenu%20%3A%20function%20(o)%20%7B%0D%0A%09%09%09%09o%20%3D%20%24(o)%3B%0D%0A%09%09%09%09if(!o.length%20%7C%7C%20!o.children(%22ul%22).length)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09var%20e%20%3D%20o.children(%22ul%22)%2C%0D%0A%09%09%09%09%09xl%20%3D%20o.offset().left%2C%0D%0A%09%09%09%09%09x%20%3D%20xl%20%2B%20o.outerWidth()%2C%0D%0A%09%09%09%09%09y%20%3D%20o.offset().top%2C%0D%0A%09%09%09%09%09w%20%3D%20e.width()%2C%0D%0A%09%09%09%09%09h%20%3D%20e.height()%2C%0D%0A%09%09%09%09%09dw%20%3D%20%24(window).width()%20%2B%20%24(window).scrollLeft()%2C%0D%0A%09%09%09%09%09dh%20%3D%20%24(window).height()%20%2B%20%24(window).scrollTop()%3B%0D%0A%09%09%09%09%2F%2F%20%D0%BC%D0%BE%D0%B6%D0%B5%20%D0%B4%D0%B0%20%D1%81%D0%B5%20%D1%81%D0%BF%D0%B5%D1%81%D1%82%D0%B8%20%D0%B5%20%D0%B5%D0%B4%D0%BD%D0%B0%20%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%20-%20%D0%B4%D0%B0%D0%BB%D0%B8%20%D0%BD%D1%8F%D0%BC%D0%B0%20%D0%BD%D1%8F%D0%BA%D0%BE%D0%B9%20%D0%BE%D1%82%20%D0%BA%D0%BB%D0%B0%D1%81%D0%BE%D0%B2%D0%B5%D1%82%D0%B5%20%D0%B2%D0%B5%D1%87%D0%B5%20%D0%BD%D0%B0%D0%B3%D0%BE%D1%80%D0%B5%0D%0A%09%09%09%09if(right_to_left)%20%7B%0D%0A%09%09%09%09%09o%5Bx%20-%20(w%20%2B%2010%20%2B%20o.outerWidth())%20%3C%200%20%3F%20%22addClass%22%20%3A%20%22removeClass%22%5D(%22vakata-context-left%22)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09o%5Bx%20%2B%20w%20%3E%20dw%20%20%26%26%20xl%20%3E%20dw%20-%20x%20%3F%20%22addClass%22%20%3A%20%22removeClass%22%5D(%22vakata-context-right%22)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(y%20%2B%20h%20%2B%2010%20%3E%20dh)%20%7B%0D%0A%09%09%09%09%09e.css(%22bottom%22%2C%22-1px%22)%3B%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%2F%2Fif%20does%20not%20fit%20-%20stick%20it%20to%20the%20side%0D%0A%09%09%09%09if%20(o.hasClass('vakata-context-right'))%20%7B%0D%0A%09%09%09%09%09if%20(xl%20%3C%20w)%20%7B%0D%0A%09%09%09%09%09%09e.css(%22margin-right%22%2C%20xl%20-%20w)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09if%20(dw%20-%20x%20%3C%20w)%20%7B%0D%0A%09%09%09%09%09%09e.css(%22margin-left%22%2C%20dw%20-%20x%20-%20w)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09e.show()%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09show%20%3A%20function%20(reference%2C%20position%2C%20data)%20%7B%0D%0A%09%09%09%09var%20o%2C%20e%2C%20x%2C%20y%2C%20w%2C%20h%2C%20dw%2C%20dh%2C%20cond%20%3D%20true%3B%0D%0A%09%09%09%09if(vakata_context.element%20%26%26%20vakata_context.element.length)%20%7B%0D%0A%09%09%09%09%09vakata_context.element.width('')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09switch(cond)%20%7B%0D%0A%09%09%09%09%09case%20(!position%20%26%26%20!reference)%3A%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09case%20(!!position%20%26%26%20!!reference)%3A%0D%0A%09%09%09%09%09%09vakata_context.reference%09%3D%20reference%3B%0D%0A%09%09%09%09%09%09vakata_context.position_x%09%3D%20position.x%3B%0D%0A%09%09%09%09%09%09vakata_context.position_y%09%3D%20position.y%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09case%20(!position%20%26%26%20!!reference)%3A%0D%0A%09%09%09%09%09%09vakata_context.reference%09%3D%20reference%3B%0D%0A%09%09%09%09%09%09o%20%3D%20reference.offset()%3B%0D%0A%09%09%09%09%09%09vakata_context.position_x%09%3D%20o.left%20%2B%20reference.outerHeight()%3B%0D%0A%09%09%09%09%09%09vakata_context.position_y%09%3D%20o.top%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09case%20(!!position%20%26%26%20!reference)%3A%0D%0A%09%09%09%09%09%09vakata_context.position_x%09%3D%20position.x%3B%0D%0A%09%09%09%09%09%09vakata_context.position_y%09%3D%20position.y%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!!reference%20%26%26%20!data%20%26%26%20%24(reference).data('vakata_contextmenu'))%20%7B%0D%0A%09%09%09%09%09data%20%3D%20%24(reference).data('vakata_contextmenu')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(%24.vakata.context._parse(data))%20%7B%0D%0A%09%09%09%09%09vakata_context.element.html(vakata_context.html)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(vakata_context.items.length)%20%7B%0D%0A%09%09%09%09%09vakata_context.element.appendTo(document.body)%3B%0D%0A%09%09%09%09%09e%20%3D%20vakata_context.element%3B%0D%0A%09%09%09%09%09x%20%3D%20vakata_context.position_x%3B%0D%0A%09%09%09%09%09y%20%3D%20vakata_context.position_y%3B%0D%0A%09%09%09%09%09w%20%3D%20e.width()%3B%0D%0A%09%09%09%09%09h%20%3D%20e.height()%3B%0D%0A%09%09%09%09%09dw%20%3D%20%24(window).width()%20%2B%20%24(window).scrollLeft()%3B%0D%0A%09%09%09%09%09dh%20%3D%20%24(window).height()%20%2B%20%24(window).scrollTop()%3B%0D%0A%09%09%09%09%09if(right_to_left)%20%7B%0D%0A%09%09%09%09%09%09x%20-%3D%20(e.outerWidth()%20-%20%24(reference).outerWidth())%3B%0D%0A%09%09%09%09%09%09if(x%20%3C%20%24(window).scrollLeft()%20%2B%2020)%20%7B%0D%0A%09%09%09%09%09%09%09x%20%3D%20%24(window).scrollLeft()%20%2B%2020%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(x%20%2B%20w%20%2B%2020%20%3E%20dw)%20%7B%0D%0A%09%09%09%09%09%09x%20%3D%20dw%20-%20(w%20%2B%2020)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(y%20%2B%20h%20%2B%2020%20%3E%20dh)%20%7B%0D%0A%09%09%09%09%09%09y%20%3D%20dh%20-%20(h%20%2B%2020)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09vakata_context.element%0D%0A%09%09%09%09%09%09.css(%7B%20%22left%22%20%3A%20x%2C%20%22top%22%20%3A%20y%20%7D)%0D%0A%09%09%09%09%09%09.show()%0D%0A%09%09%09%09%09%09.find('a').first().focus().parent().addClass(%22vakata-context-hover%22)%3B%0D%0A%09%09%09%09%09vakata_context.is_visible%20%3D%20true%3B%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20on%20the%20document%20when%20the%20contextmenu%20is%20shown%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%09%09%09%20*%20%40name%20context_show.vakata%0D%0A%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20reference%20the%20element%20that%20was%20right%20clicked%0D%0A%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20element%20the%20DOM%20element%20of%20the%20menu%20itself%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20position%20the%20x%20%26%20y%20coordinates%20of%20the%20menu%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09%24.vakata.context._trigger(%22show%22)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09hide%20%3A%20function%20()%20%7B%0D%0A%09%09%09%09if(vakata_context.is_visible)%20%7B%0D%0A%09%09%09%09%09vakata_context.element.hide().find(%22ul%22).hide().end().find('%3Afocus').blur().end().detach()%3B%0D%0A%09%09%09%09%09vakata_context.is_visible%20%3D%20false%3B%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20on%20the%20document%20when%20the%20contextmenu%20is%20hidden%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40plugin%20contextmenu%0D%0A%09%09%09%09%09%20*%20%40name%20context_hide.vakata%0D%0A%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20reference%20the%20element%20that%20was%20right%20clicked%0D%0A%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20element%20the%20DOM%20element%20of%20the%20menu%20itself%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20position%20the%20x%20%26%20y%20coordinates%20of%20the%20menu%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09%24.vakata.context._trigger(%22hide%22)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%24(function%20()%20%7B%0D%0A%09%09%09right_to_left%20%3D%20%24(document.body).css(%22direction%22)%20%3D%3D%3D%20%22rtl%22%3B%0D%0A%09%09%09var%20to%20%3D%20false%3B%0D%0A%0D%0A%09%09%09vakata_context.element%20%3D%20%24(%22%3Cul%20class%3D'vakata-context'%3E%3C%2Ful%3E%22)%3B%0D%0A%09%09%09vakata_context.element%0D%0A%09%09%09%09.on(%22mouseenter%22%2C%20%22li%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%0D%0A%09%09%09%09%09if(%24.contains(this%2C%20e.relatedTarget))%20%7B%0D%0A%09%09%09%09%09%09%2F%2F%20%D0%BF%D1%80%D0%B5%D0%BC%D0%B0%D1%85%D0%BD%D0%B0%D1%82%D0%BE%20%D0%B7%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%20delegate%20mouseleave%20%D0%BF%D0%BE-%D0%B4%D0%BE%D0%BB%D1%83%0D%0A%09%09%09%09%09%09%2F%2F%20%24(this).find(%22.vakata-context-hover%22).removeClass(%22vakata-context-hover%22)%3B%0D%0A%09%09%09%09%09%09return%3B%0D%0A%09%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09%09if(to)%20%7B%20clearTimeout(to)%3B%20%7D%0D%0A%09%09%09%09%09vakata_context.element.find(%22.vakata-context-hover%22).removeClass(%22vakata-context-hover%22).end()%3B%0D%0A%0D%0A%09%09%09%09%09%24(this)%0D%0A%09%09%09%09%09%09.siblings().find(%22ul%22).hide().end().end()%0D%0A%09%09%09%09%09%09.parentsUntil(%22.vakata-context%22%2C%20%22li%22).addBack().addClass(%22vakata-context-hover%22)%3B%0D%0A%09%09%09%09%09%24.vakata.context._show_submenu(this)%3B%0D%0A%09%09%09%09%7D)%0D%0A%09%09%09%09%2F%2F%20%D1%82%D0%B5%D1%81%D1%82%D0%BE%D0%B2%D0%BE%20-%20%D0%B4%D0%B0%D0%BB%D0%B8%20%D0%BD%D0%B5%20%D0%BD%D0%B0%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%B2%D0%B0%3F%0D%0A%09%09%09%09.on(%22mouseleave%22%2C%20%22li%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09if(%24.contains(this%2C%20e.relatedTarget))%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%09%24(this).find(%22.vakata-context-hover%22).addBack().removeClass(%22vakata-context-hover%22)%3B%0D%0A%09%09%09%09%7D)%0D%0A%09%09%09%09.on(%22mouseleave%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%24(this).find(%22.vakata-context-hover%22).removeClass(%22vakata-context-hover%22)%3B%0D%0A%09%09%09%09%09if(%24.vakata.context.settings.hide_onmouseleave)%20%7B%0D%0A%09%09%09%09%09%09to%20%3D%20setTimeout(%0D%0A%09%09%09%09%09%09%09(function%20(t)%20%7B%0D%0A%09%09%09%09%09%09%09%09return%20function%20()%20%7B%20%24.vakata.context.hide()%3B%20%7D%3B%0D%0A%09%09%09%09%09%09%09%7D(this))%2C%20%24.vakata.context.settings.hide_onmouseleave)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%0D%0A%09%09%09%09.on(%22click%22%2C%20%22a%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%2F%2F%7D)%0D%0A%09%09%09%09%2F%2F.on(%22mouseup%22%2C%20%22a%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09if(!%24(this).blur().parent().hasClass(%22vakata-context-disabled%22)%20%26%26%20%24.vakata.context._execute(%24(this).attr(%22rel%22))%20!%3D%3D%20false)%20%7B%0D%0A%09%09%09%09%09%09%24.vakata.context.hide()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%0D%0A%09%09%09%09.on('keydown'%2C%20'a'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09var%20o%20%3D%20null%3B%0D%0A%09%09%09%09%09%09switch(e.which)%20%7B%0D%0A%09%09%09%09%09%09%09case%2013%3A%0D%0A%09%09%09%09%09%09%09case%2032%3A%0D%0A%09%09%09%09%09%09%09%09e.type%20%3D%20%22click%22%3B%0D%0A%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09%24(e.currentTarget).trigger(e)%3B%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09case%2037%3A%0D%0A%09%09%09%09%09%09%09%09if(vakata_context.is_visible)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09vakata_context.element.find(%22.vakata-context-hover%22).last().closest(%22li%22).first().find(%22ul%22).hide().find(%22.vakata-context-hover%22).removeClass(%22vakata-context-hover%22).end().end().children('a').focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09case%2038%3A%0D%0A%09%09%09%09%09%09%09%09if(vakata_context.is_visible)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09o%20%3D%20vakata_context.element.find(%22ul%3Avisible%22).addBack().last().children(%22.vakata-context-hover%22).removeClass(%22vakata-context-hover%22).prevAll(%22li%3Anot(.vakata-context-separator)%22).first()%3B%0D%0A%09%09%09%09%09%09%09%09%09if(!o.length)%20%7B%20o%20%3D%20vakata_context.element.find(%22ul%3Avisible%22).addBack().last().children(%22li%3Anot(.vakata-context-separator)%22).last()%3B%20%7D%0D%0A%09%09%09%09%09%09%09%09%09o.addClass(%22vakata-context-hover%22).children('a').focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09case%2039%3A%0D%0A%09%09%09%09%09%09%09%09if(vakata_context.is_visible)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09vakata_context.element.find(%22.vakata-context-hover%22).last().children(%22ul%22).show().children(%22li%3Anot(.vakata-context-separator)%22).removeClass(%22vakata-context-hover%22).first().addClass(%22vakata-context-hover%22).children('a').focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09case%2040%3A%0D%0A%09%09%09%09%09%09%09%09if(vakata_context.is_visible)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09o%20%3D%20vakata_context.element.find(%22ul%3Avisible%22).addBack().last().children(%22.vakata-context-hover%22).removeClass(%22vakata-context-hover%22).nextAll(%22li%3Anot(.vakata-context-separator)%22).first()%3B%0D%0A%09%09%09%09%09%09%09%09%09if(!o.length)%20%7B%20o%20%3D%20vakata_context.element.find(%22ul%3Avisible%22).addBack().last().children(%22li%3Anot(.vakata-context-separator)%22).first()%3B%20%7D%0D%0A%09%09%09%09%09%09%09%09%09o.addClass(%22vakata-context-hover%22).children('a').focus()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09case%2027%3A%0D%0A%09%09%09%09%09%09%09%09%24.vakata.context.hide()%3B%0D%0A%09%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09default%3A%0D%0A%09%09%09%09%09%09%09%09%2F%2Fconsole.log(e.which)%3B%0D%0A%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09.on('keydown'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09var%20a%20%3D%20vakata_context.element.find('.vakata-contextmenu-shortcut-'%20%2B%20e.which).parent()%3B%0D%0A%09%09%09%09%09if(a.parent().not('.vakata-context-disabled'))%20%7B%0D%0A%09%09%09%09%09%09a.click()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%3B%0D%0A%0D%0A%09%09%09%24(document)%0D%0A%09%09%09%09.on(%22mousedown.vakata.jstree%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09if(vakata_context.is_visible%20%26%26%20vakata_context.element%5B0%5D%20!%3D%3D%20e.target%20%20%26%26%20!%24.contains(vakata_context.element%5B0%5D%2C%20e.target))%20%7B%0D%0A%09%09%09%09%09%09%24.vakata.context.hide()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D)%0D%0A%09%09%09%09.on(%22context_show.vakata.jstree%22%2C%20function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09vakata_context.element.find(%22li%3Ahas(ul)%22).children(%22a%22).addClass(%22vakata-context-parent%22)%3B%0D%0A%09%09%09%09%09if(right_to_left)%20%7B%0D%0A%09%09%09%09%09%09vakata_context.element.addClass(%22vakata-context-rtl%22).css(%22direction%22%2C%20%22rtl%22)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%2F%2F%20also%20apply%20a%20RTL%20class%3F%0D%0A%09%09%09%09%09vakata_context.element.find(%22ul%22).hide().end()%3B%0D%0A%09%09%09%09%7D)%3B%0D%0A%09%09%7D)%3B%0D%0A%09%7D(%24))%3B%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22contextmenu%22)%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Drag'n'drop%20plugin%0D%0A%20*%0D%0A%20*%20Enables%20dragging%20and%20dropping%20of%20nodes%20in%20the%20tree%2C%20resulting%20in%20a%20move%20or%20copy%20operations.%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20stores%20all%20defaults%20for%20the%20drag'n'drop%20plugin%0D%0A%09%20*%20%40name%20%24.jstree.defaults.dnd%0D%0A%09%20*%20%40plugin%20dnd%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.dnd%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20a%20copy%20should%20be%20possible%20while%20dragging%20(by%20pressint%20the%20meta%20key%20or%20Ctrl).%20Defaults%20to%20%60true%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.copy%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09copy%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20number%20indicating%20how%20long%20a%20node%20should%20remain%20hovered%20while%20dragging%20to%20be%20opened.%20Defaults%20to%20%60500%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.open_timeout%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09open_timeout%20%3A%20500%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20function%20invoked%20each%20time%20a%20node%20is%20about%20to%20be%20dragged%2C%20invoked%20in%20the%20tree's%20scope%20and%20receives%20the%20nodes%20about%20to%20be%20dragged%20as%20an%20argument%20(array)%20and%20the%20event%20that%20started%20the%20drag%20-%20return%20%60false%60%20to%20prevent%20dragging%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.is_draggable%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09is_draggable%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20checks%20should%20constantly%20be%20made%20while%20the%20user%20is%20dragging%20the%20node%20(as%20opposed%20to%20checking%20only%20on%20drop)%2C%20default%20is%20%60true%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.check_while_dragging%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09check_while_dragging%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20boolean%20indicating%20if%20nodes%20from%20this%20tree%20should%20only%20be%20copied%20with%20dnd%20(as%20opposed%20to%20moved)%2C%20default%20is%20%60false%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.always_copy%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09always_copy%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20when%20dropping%20a%20node%20%22inside%22%2C%20this%20setting%20indicates%20the%20position%20the%20node%20should%20go%20to%20-%20it%20can%20be%20an%20integer%20or%20a%20string%3A%20%22first%22%20(same%20as%200)%20or%20%22last%22%2C%20default%20is%20%600%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.inside_pos%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09inside_pos%20%3A%200%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20when%20starting%20the%20drag%20on%20a%20node%20that%20is%20selected%20this%20setting%20controls%20if%20all%20selected%20nodes%20are%20dragged%20or%20only%20the%20single%20node%2C%20default%20is%20%60true%60%2C%20which%20means%20all%20selected%20nodes%20are%20dragged%20when%20the%20drag%20is%20started%20on%20a%20selected%20node%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.drag_selection%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09drag_selection%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20controls%20whether%20dnd%20works%20on%20touch%20devices.%20If%20left%20as%20boolean%20true%20dnd%20will%20work%20the%20same%20as%20in%20desktop%20browsers%2C%20which%20in%20some%20cases%20may%20impair%20scrolling.%20If%20set%20to%20boolean%20false%20dnd%20will%20not%20work%20on%20touch%20devices.%20There%20is%20a%20special%20third%20option%20-%20string%20%22selected%22%20which%20means%20only%20selected%20nodes%20can%20be%20dragged%20on%20touch%20devices.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.touch%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09touch%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20controls%20whether%20items%20can%20be%20dropped%20anywhere%20on%20the%20node%2C%20not%20just%20on%20the%20anchor%2C%20by%20default%20only%20the%20node%20anchor%20is%20a%20valid%20drop%20target.%20Works%20best%20with%20the%20wholerow%20plugin.%20If%20enabled%20on%20mobile%20depending%20on%20the%20interface%20it%20might%20be%20hard%20for%20the%20user%20to%20cancel%20the%20drop%2C%20since%20the%20whole%20tree%20container%20will%20be%20a%20valid%20drop%20target.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.large_drop_target%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09large_drop_target%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20controls%20whether%20a%20drag%20can%20be%20initiated%20from%20any%20part%20of%20the%20node%20and%20not%20just%20the%20text%2Ficon%20part%2C%20works%20best%20with%20the%20wholerow%20plugin.%20Keep%20in%20mind%20it%20can%20cause%20problems%20with%20tree%20scrolling%20on%20mobile%20depending%20on%20the%20interface%20-%20in%20that%20case%20set%20the%20touch%20option%20to%20%22selected%22.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.large_drag_target%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09large_drag_target%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20controls%20whether%20use%20HTML5%20dnd%20api%20instead%20of%20classical.%20That%20will%20allow%20better%20integration%20of%20dnd%20events%20with%20other%20HTML5%20controls.%0D%0A%09%09%20*%20%40reference%20http%3A%2F%2Fcaniuse.com%2F%23feat%3Ddragndrop%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.dnd.use_html5%0D%0A%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%20*%2F%0D%0A%09%09use_html5%3A%20false%0D%0A%09%7D%3B%0D%0A%09var%20drg%2C%20elm%3B%0D%0A%09%2F%2F%20TODO%3A%20now%20check%20works%20by%20checking%20for%20each%20node%20individually%2C%20how%20about%20max_children%2C%20unique%2C%20etc%3F%0D%0A%09%24.jstree.plugins.dnd%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.init%20%3D%20function%20(el%2C%20options)%20%7B%0D%0A%09%09%09parent.init.call(this%2C%20el%2C%20options)%3B%0D%0A%09%09%09this.settings.dnd.use_html5%20%3D%20this.settings.dnd.use_html5%20%26%26%20('draggable'%20in%20document.createElement('span'))%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on(this.settings.dnd.use_html5%20%3F%20'dragstart.jstree'%20%3A%20'mousedown.jstree%20touchstart.jstree'%2C%20this.settings.dnd.large_drag_target%20%3F%20'.jstree-node'%20%3A%20'.jstree-anchor'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(this.settings.dnd.large_drag_target%20%26%26%20%24(e.target).closest('.jstree-node')%5B0%5D%20!%3D%3D%20e.currentTarget)%20%7B%0D%0A%09%09%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(e.type%20%3D%3D%3D%20%22touchstart%22%20%26%26%20(!this.settings.dnd.touch%20%7C%7C%20(this.settings.dnd.touch%20%3D%3D%3D%20'selected'%20%26%26%20!%24(e.currentTarget).closest('.jstree-node').children('.jstree-anchor').hasClass('jstree-clicked'))))%20%7B%0D%0A%09%09%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09var%20obj%20%3D%20this.get_node(e.target)%2C%0D%0A%09%09%09%09%09%09%09mlt%20%3D%20this.is_selected(obj)%20%26%26%20this.settings.dnd.drag_selection%20%3F%20this.get_top_selected().length%20%3A%201%2C%0D%0A%09%09%09%09%09%09%09txt%20%3D%20(mlt%20%3E%201%20%3F%20mlt%20%2B%20'%20'%20%2B%20this.get_string('nodes')%20%3A%20this.get_text(e.currentTarget))%3B%0D%0A%09%09%09%09%09%09if(this.settings.core.force_text)%20%7B%0D%0A%09%09%09%09%09%09%09txt%20%3D%20%24.vakata.html.escape(txt)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(obj%20%26%26%20obj.id%20%26%26%20obj.id%20!%3D%3D%20%24.jstree.root%20%26%26%20(e.which%20%3D%3D%3D%201%20%7C%7C%20e.type%20%3D%3D%3D%20%22touchstart%22%20%7C%7C%20e.type%20%3D%3D%3D%20%22dragstart%22)%20%26%26%0D%0A%09%09%09%09%09%09%09(this.settings.dnd.is_draggable%20%3D%3D%3D%20true%20%7C%7C%20(%24.isFunction(this.settings.dnd.is_draggable)%20%26%26%20this.settings.dnd.is_draggable.call(this%2C%20(mlt%20%3E%201%20%3F%20this.get_top_selected(true)%20%3A%20%5Bobj%5D)%2C%20e)))%0D%0A%09%09%09%09%09%09)%20%7B%0D%0A%09%09%09%09%09%09%09drg%20%3D%20%7B%20'jstree'%20%3A%20true%2C%20'origin'%20%3A%20this%2C%20'obj'%20%3A%20this.get_node(obj%2Ctrue)%2C%20'nodes'%20%3A%20mlt%20%3E%201%20%3F%20this.get_top_selected()%20%3A%20%5Bobj.id%5D%20%7D%3B%0D%0A%09%09%09%09%09%09%09elm%20%3D%20e.currentTarget%3B%0D%0A%09%09%09%09%09%09%09if%20(this.settings.dnd.use_html5)%20%7B%0D%0A%09%09%09%09%09%09%09%09%24.vakata.dnd._trigger('start'%2C%20e%2C%20%7B%20'helper'%3A%20%24()%2C%20'element'%3A%20elm%2C%20'data'%3A%20drg%20%7D)%3B%0D%0A%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%09this.element.trigger('mousedown.jstree')%3B%0D%0A%09%09%09%09%09%09%09%09return%20%24.vakata.dnd.start(e%2C%20drg%2C%20'%3Cdiv%20id%3D%22jstree-dnd%22%20class%3D%22jstree-'%20%2B%20this.get_theme()%20%2B%20'%20jstree-'%20%2B%20this.get_theme()%20%2B%20'-'%20%2B%20this.get_theme_variant()%20%2B%20'%20'%20%2B%20(%20this.settings.core.themes.responsive%20%3F%20'%20jstree-dnd-responsive'%20%3A%20''%20)%20%2B%20'%22%3E%3Ci%20class%3D%22jstree-icon%20jstree-er%22%3E%3C%2Fi%3E'%20%2B%20txt%20%2B%20'%3Cins%20class%3D%22jstree-copy%22%20style%3D%22display%3Anone%3B%22%3E%2B%3C%2Fins%3E%3C%2Fdiv%3E')%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09if%20(this.settings.dnd.use_html5)%20%7B%0D%0A%09%09%09%09this.element%0D%0A%09%09%09%09%09.on('dragover.jstree'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%24.vakata.dnd._trigger('move'%2C%20e%2C%20%7B%20'helper'%3A%20%24()%2C%20'element'%3A%20elm%2C%20'data'%3A%20drg%20%7D)%3B%0D%0A%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%7D)%0D%0A%09%09%09%09%09%2F%2F.on('dragenter.jstree'%2C%20this.settings.dnd.large_drop_target%20%3F%20'.jstree-node'%20%3A%20'.jstree-anchor'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%2F%2F%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%2F%2F%09%09%24.vakata.dnd._trigger('move'%2C%20e%2C%20%7B%20'helper'%3A%20%24()%2C%20'element'%3A%20elm%2C%20'data'%3A%20drg%20%7D)%3B%0D%0A%09%09%09%09%09%2F%2F%09%09return%20false%3B%0D%0A%09%09%09%09%09%2F%2F%09%7D%2C%20this))%0D%0A%09%09%09%09%09.on('drop.jstree'%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09%24.vakata.dnd._trigger('stop'%2C%20e%2C%20%7B%20'helper'%3A%20%24()%2C%20'element'%3A%20elm%2C%20'data'%3A%20drg%20%7D)%3B%0D%0A%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09this.redraw_node%20%3D%20function(obj%2C%20deep%2C%20callback%2C%20force_render)%20%7B%0D%0A%09%09%09obj%20%3D%20parent.redraw_node.apply(this%2C%20arguments)%3B%0D%0A%09%09%09if%20(obj%20%26%26%20this.settings.dnd.use_html5)%20%7B%0D%0A%09%09%09%09if%20(this.settings.dnd.large_drag_target)%20%7B%0D%0A%09%09%09%09%09obj.setAttribute('draggable'%2C%20true)%3B%0D%0A%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09var%20i%2C%20j%2C%20tmp%20%3D%20null%3B%0D%0A%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.childNodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if(obj.childNodes%5Bi%5D%20%26%26%20obj.childNodes%5Bi%5D.className%20%26%26%20obj.childNodes%5Bi%5D.className.indexOf(%22jstree-anchor%22)%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09tmp%20%3D%20obj.childNodes%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(tmp)%20%7B%0D%0A%09%09%09%09%09%09tmp.setAttribute('draggable'%2C%20true)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09%24(function()%20%7B%0D%0A%09%09%2F%2F%20bind%20only%20once%20for%20all%20instances%0D%0A%09%09var%20lastmv%20%3D%20false%2C%0D%0A%09%09%09laster%20%3D%20false%2C%0D%0A%09%09%09lastev%20%3D%20false%2C%0D%0A%09%09%09opento%20%3D%20false%2C%0D%0A%09%09%09marker%20%3D%20%24('%3Cdiv%20id%3D%22jstree-marker%22%3E%26%23160%3B%3C%2Fdiv%3E').hide()%3B%20%2F%2F.appendTo('body')%3B%0D%0A%0D%0A%09%09%24(document)%0D%0A%09%09%09.on('dragover.vakata.jstree'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09if%20(elm)%20%7B%0D%0A%09%09%09%09%09%24.vakata.dnd._trigger('move'%2C%20e%2C%20%7B%20'helper'%3A%20%24()%2C%20'element'%3A%20elm%2C%20'data'%3A%20drg%20%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%0D%0A%09%09%09.on('drop.vakata.jstree'%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09if%20(elm)%20%7B%0D%0A%09%09%09%09%09%24.vakata.dnd._trigger('stop'%2C%20e%2C%20%7B%20'helper'%3A%20%24()%2C%20'element'%3A%20elm%2C%20'data'%3A%20drg%20%7D)%3B%0D%0A%09%09%09%09%09elm%20%3D%20null%3B%0D%0A%09%09%09%09%09drg%20%3D%20null%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%0D%0A%09%09%09.on('dnd_start.vakata.jstree'%2C%20function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09lastmv%20%3D%20false%3B%0D%0A%09%09%09%09lastev%20%3D%20false%3B%0D%0A%09%09%09%09if(!data%20%7C%7C%20!data.data%20%7C%7C%20!data.data.jstree)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09marker.appendTo(document.body)%3B%20%2F%2F.show()%3B%0D%0A%09%09%09%7D)%0D%0A%09%09%09.on('dnd_move.vakata.jstree'%2C%20function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09var%20isDifferentNode%20%3D%20data.event.target%20!%3D%3D%20lastev.target%3B%0D%0A%09%09%09%09if(opento)%20%7B%0D%0A%09%09%09%09%09if%20(!data.event%20%7C%7C%20data.event.type%20!%3D%3D%20'dragover'%20%7C%7C%20isDifferentNode)%20%7B%0D%0A%09%09%09%09%09%09clearTimeout(opento)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!data%20%7C%7C%20!data.data%20%7C%7C%20!data.data.jstree)%20%7B%20return%3B%20%7D%0D%0A%0D%0A%09%09%09%09%2F%2F%20if%20we%20are%20hovering%20the%20marker%20image%20do%20nothing%20(can%20happen%20on%20%22inside%22%20drags)%0D%0A%09%09%09%09if(data.event.target.id%20%26%26%20data.event.target.id%20%3D%3D%3D%20'jstree-marker')%20%7B%0D%0A%09%09%09%09%09return%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09lastev%20%3D%20data.event%3B%0D%0A%0D%0A%09%09%09%09var%20ins%20%3D%20%24.jstree.reference(data.event.target)%2C%0D%0A%09%09%09%09%09ref%20%3D%20false%2C%0D%0A%09%09%09%09%09off%20%3D%20false%2C%0D%0A%09%09%09%09%09rel%20%3D%20false%2C%0D%0A%09%09%09%09%09tmp%2C%20l%2C%20t%2C%20h%2C%20p%2C%20i%2C%20o%2C%20ok%2C%20t1%2C%20t2%2C%20op%2C%20ps%2C%20pr%2C%20ip%2C%20tm%2C%20is_copy%2C%20pn%3B%0D%0A%09%09%09%09%2F%2F%20if%20we%20are%20over%20an%20instance%0D%0A%09%09%09%09if(ins%20%26%26%20ins._data%20%26%26%20ins._data.dnd)%20%7B%0D%0A%09%09%09%09%09marker.attr('class'%2C%20'jstree-'%20%2B%20ins.get_theme()%20%2B%20(%20ins.settings.core.themes.responsive%20%3F%20'%20jstree-dnd-responsive'%20%3A%20''%20))%3B%0D%0A%09%09%09%09%09is_copy%20%3D%20data.data.origin%20%26%26%20(data.data.origin.settings.dnd.always_copy%20%7C%7C%20(data.data.origin.settings.dnd.copy%20%26%26%20(data.event.metaKey%20%7C%7C%20data.event.ctrlKey)))%3B%0D%0A%09%09%09%09%09data.helper%0D%0A%09%09%09%09%09%09.children().attr('class'%2C%20'jstree-'%20%2B%20ins.get_theme()%20%2B%20'%20jstree-'%20%2B%20ins.get_theme()%20%2B%20'-'%20%2B%20ins.get_theme_variant()%20%2B%20'%20'%20%2B%20(%20ins.settings.core.themes.responsive%20%3F%20'%20jstree-dnd-responsive'%20%3A%20''%20))%0D%0A%09%09%09%09%09%09.find('.jstree-copy').first()%5B%20is_copy%20%3F%20'show'%20%3A%20'hide'%20%5D()%3B%0D%0A%0D%0A%09%09%09%09%09%2F%2F%20if%20are%20hovering%20the%20container%20itself%20add%20a%20new%20root%20node%0D%0A%09%09%09%09%09%2F%2Fconsole.log(data.event)%3B%0D%0A%09%09%09%09%09if(%20(data.event.target%20%3D%3D%3D%20ins.element%5B0%5D%20%7C%7C%20data.event.target%20%3D%3D%3D%20ins.get_container_ul()%5B0%5D)%20%26%26%20ins.get_container_ul().children().length%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%09%09ok%20%3D%20true%3B%0D%0A%09%09%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20data.data.nodes.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09ok%20%3D%20ok%20%26%26%20ins.check(%20(data.data.origin%20%26%26%20(data.data.origin.settings.dnd.always_copy%20%7C%7C%20(data.data.origin.settings.dnd.copy%20%26%26%20(data.event.metaKey%20%7C%7C%20data.event.ctrlKey))%20)%20%3F%20%22copy_node%22%20%3A%20%22move_node%22)%2C%20(data.data.origin%20%26%26%20data.data.origin%20!%3D%3D%20ins%20%3F%20data.data.origin.get_node(data.data.nodes%5Bt1%5D)%20%3A%20data.data.nodes%5Bt1%5D)%2C%20%24.jstree.root%2C%20'last'%2C%20%7B%20'dnd'%20%3A%20true%2C%20'ref'%20%3A%20ins.get_node(%24.jstree.root)%2C%20'pos'%20%3A%20'i'%2C%20'origin'%20%3A%20data.data.origin%2C%20'is_multi'%20%3A%20(data.data.origin%20%26%26%20data.data.origin%20!%3D%3D%20ins)%2C%20'is_foreign'%20%3A%20(!data.data.origin)%20%7D)%3B%0D%0A%09%09%09%09%09%09%09if(!ok)%20%7B%20break%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(ok)%20%7B%0D%0A%09%09%09%09%09%09%09lastmv%20%3D%20%7B%20'ins'%20%3A%20ins%2C%20'par'%20%3A%20%24.jstree.root%2C%20'pos'%20%3A%20'last'%20%7D%3B%0D%0A%09%09%09%09%09%09%09marker.hide()%3B%0D%0A%09%09%09%09%09%09%09data.helper.find('.jstree-icon').first().removeClass('jstree-er').addClass('jstree-ok')%3B%0D%0A%09%09%09%09%09%09%09if%20(data.event.originalEvent%20%26%26%20data.event.originalEvent.dataTransfer)%20%7B%0D%0A%09%09%09%09%09%09%09%09data.event.originalEvent.dataTransfer.dropEffect%20%3D%20is_copy%20%3F%20'copy'%20%3A%20'move'%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09return%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%2F%2F%20if%20we%20are%20hovering%20a%20tree%20node%0D%0A%09%09%09%09%09%09ref%20%3D%20ins.settings.dnd.large_drop_target%20%3F%20%24(data.event.target).closest('.jstree-node').children('.jstree-anchor')%20%3A%20%24(data.event.target).closest('.jstree-anchor')%3B%0D%0A%09%09%09%09%09%09if(ref%20%26%26%20ref.length%20%26%26%20ref.parent().is('.jstree-closed%2C%20.jstree-open%2C%20.jstree-leaf'))%20%7B%0D%0A%09%09%09%09%09%09%09off%20%3D%20ref.offset()%3B%0D%0A%09%09%09%09%09%09%09rel%20%3D%20(data.event.pageY%20!%3D%3D%20undefined%20%3F%20data.event.pageY%20%3A%20data.event.originalEvent.pageY)%20-%20off.top%3B%0D%0A%09%09%09%09%09%09%09h%20%3D%20ref.outerHeight()%3B%0D%0A%09%09%09%09%09%09%09if(rel%20%3C%20h%20%2F%203)%20%7B%0D%0A%09%09%09%09%09%09%09%09o%20%3D%20%5B'b'%2C%20'i'%2C%20'a'%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09else%20if(rel%20%3E%20h%20-%20h%20%2F%203)%20%7B%0D%0A%09%09%09%09%09%09%09%09o%20%3D%20%5B'a'%2C%20'i'%2C%20'b'%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09o%20%3D%20rel%20%3E%20h%20%2F%202%20%3F%20%5B'i'%2C%20'a'%2C%20'b'%5D%20%3A%20%5B'i'%2C%20'b'%2C%20'a'%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%24.each(o%2C%20function%20(j%2C%20v)%20%7B%0D%0A%09%09%09%09%09%09%09%09switch(v)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09case%20'b'%3A%0D%0A%09%09%09%09%09%09%09%09%09%09l%20%3D%20off.left%20-%206%3B%0D%0A%09%09%09%09%09%09%09%09%09%09t%20%3D%20off.top%3B%0D%0A%09%09%09%09%09%09%09%09%09%09p%20%3D%20ins.get_parent(ref)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09i%20%3D%20ref.parent().index()%3B%0D%0A%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09case%20'i'%3A%0D%0A%09%09%09%09%09%09%09%09%09%09ip%20%3D%20ins.settings.dnd.inside_pos%3B%0D%0A%09%09%09%09%09%09%09%09%09%09tm%20%3D%20ins.get_node(ref.parent())%3B%0D%0A%09%09%09%09%09%09%09%09%09%09l%20%3D%20off.left%20-%202%3B%0D%0A%09%09%09%09%09%09%09%09%09%09t%20%3D%20off.top%20%2B%20h%20%2F%202%20%2B%201%3B%0D%0A%09%09%09%09%09%09%09%09%09%09p%20%3D%20tm.id%3B%0D%0A%09%09%09%09%09%09%09%09%09%09i%20%3D%20ip%20%3D%3D%3D%20'first'%20%3F%200%20%3A%20(ip%20%3D%3D%3D%20'last'%20%3F%20tm.children.length%20%3A%20Math.min(ip%2C%20tm.children.length))%3B%0D%0A%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09case%20'a'%3A%0D%0A%09%09%09%09%09%09%09%09%09%09l%20%3D%20off.left%20-%206%3B%0D%0A%09%09%09%09%09%09%09%09%09%09t%20%3D%20off.top%20%2B%20h%3B%0D%0A%09%09%09%09%09%09%09%09%09%09p%20%3D%20ins.get_parent(ref)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09i%20%3D%20ref.parent().index()%20%2B%201%3B%0D%0A%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09ok%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20data.data.nodes.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09op%20%3D%20data.data.origin%20%26%26%20(data.data.origin.settings.dnd.always_copy%20%7C%7C%20(data.data.origin.settings.dnd.copy%20%26%26%20(data.event.metaKey%20%7C%7C%20data.event.ctrlKey)))%20%3F%20%22copy_node%22%20%3A%20%22move_node%22%3B%0D%0A%09%09%09%09%09%09%09%09%09ps%20%3D%20i%3B%0D%0A%09%09%09%09%09%09%09%09%09if(op%20%3D%3D%3D%20%22move_node%22%20%26%26%20v%20%3D%3D%3D%20'a'%20%26%26%20(data.data.origin%20%26%26%20data.data.origin%20%3D%3D%3D%20ins)%20%26%26%20p%20%3D%3D%3D%20ins.get_parent(data.data.nodes%5Bt1%5D))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09pr%20%3D%20ins.get_node(p)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09if(ps%20%3E%20%24.inArray(data.data.nodes%5Bt1%5D%2C%20pr.children))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09ps%20-%3D%201%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09ok%20%3D%20ok%20%26%26%20(%20(ins%20%26%26%20ins.settings%20%26%26%20ins.settings.dnd%20%26%26%20ins.settings.dnd.check_while_dragging%20%3D%3D%3D%20false)%20%7C%7C%20ins.check(op%2C%20(data.data.origin%20%26%26%20data.data.origin%20!%3D%3D%20ins%20%3F%20data.data.origin.get_node(data.data.nodes%5Bt1%5D)%20%3A%20data.data.nodes%5Bt1%5D)%2C%20p%2C%20ps%2C%20%7B%20'dnd'%20%3A%20true%2C%20'ref'%20%3A%20ins.get_node(ref.parent())%2C%20'pos'%20%3A%20v%2C%20'origin'%20%3A%20data.data.origin%2C%20'is_multi'%20%3A%20(data.data.origin%20%26%26%20data.data.origin%20!%3D%3D%20ins)%2C%20'is_foreign'%20%3A%20(!data.data.origin)%20%7D)%20)%3B%0D%0A%09%09%09%09%09%09%09%09%09if(!ok)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09if(ins%20%26%26%20ins.last_error)%20%7B%20laster%20%3D%20ins.last_error()%3B%20%7D%0D%0A%09%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09if(v%20%3D%3D%3D%20'i'%20%26%26%20ref.parent().is('.jstree-closed')%20%26%26%20ins.settings.dnd.open_timeout)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if%20(!data.event%20%7C%7C%20data.event.type%20!%3D%3D%20'dragover'%20%7C%7C%20isDifferentNode)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(opento)%20%7B%20clearTimeout(opento)%3B%20%7D%0D%0A%09%09%09%09%09%09%09%09%09%09opento%20%3D%20setTimeout((function%20(x%2C%20z)%20%7B%20return%20function%20()%20%7B%20x.open_node(z)%3B%20%7D%3B%20%7D(ins%2C%20ref))%2C%20ins.settings.dnd.open_timeout)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09if(ok)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09pn%20%3D%20ins.get_node(p%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09if%20(!pn.hasClass('.jstree-dnd-parent'))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%24('.jstree-dnd-parent').removeClass('jstree-dnd-parent')%3B%0D%0A%09%09%09%09%09%09%09%09%09%09pn.addClass('jstree-dnd-parent')%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09lastmv%20%3D%20%7B%20'ins'%20%3A%20ins%2C%20'par'%20%3A%20p%2C%20'pos'%20%3A%20v%20%3D%3D%3D%20'i'%20%26%26%20ip%20%3D%3D%3D%20'last'%20%26%26%20i%20%3D%3D%3D%200%20%26%26%20!ins.is_loaded(tm)%20%3F%20'last'%20%3A%20i%20%7D%3B%0D%0A%09%09%09%09%09%09%09%09%09marker.css(%7B%20'left'%20%3A%20l%20%2B%20'px'%2C%20'top'%20%3A%20t%20%2B%20'px'%20%7D).show()%3B%0D%0A%09%09%09%09%09%09%09%09%09data.helper.find('.jstree-icon').first().removeClass('jstree-er').addClass('jstree-ok')%3B%0D%0A%09%09%09%09%09%09%09%09%09if%20(data.event.originalEvent%20%26%26%20data.event.originalEvent.dataTransfer)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09data.event.originalEvent.dataTransfer.dropEffect%20%3D%20is_copy%20%3F%20'copy'%20%3A%20'move'%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09laster%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09%09%09%09%09%09o%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%09if(o%20%3D%3D%3D%20true)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%24('.jstree-dnd-parent').removeClass('jstree-dnd-parent')%3B%0D%0A%09%09%09%09lastmv%20%3D%20false%3B%0D%0A%09%09%09%09data.helper.find('.jstree-icon').removeClass('jstree-ok').addClass('jstree-er')%3B%0D%0A%09%09%09%09if%20(data.event.originalEvent%20%26%26%20data.event.originalEvent.dataTransfer)%20%7B%0D%0A%09%09%09%09%09%2F%2Fdata.event.originalEvent.dataTransfer.dropEffect%20%3D%20'none'%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09marker.hide()%3B%0D%0A%09%09%09%7D)%0D%0A%09%09%09.on('dnd_scroll.vakata.jstree'%2C%20function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09if(!data%20%7C%7C%20!data.data%20%7C%7C%20!data.data.jstree)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09marker.hide()%3B%0D%0A%09%09%09%09lastmv%20%3D%20false%3B%0D%0A%09%09%09%09lastev%20%3D%20false%3B%0D%0A%09%09%09%09data.helper.find('.jstree-icon').first().removeClass('jstree-ok').addClass('jstree-er')%3B%0D%0A%09%09%09%7D)%0D%0A%09%09%09.on('dnd_stop.vakata.jstree'%2C%20function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%24('.jstree-dnd-parent').removeClass('jstree-dnd-parent')%3B%0D%0A%09%09%09%09if(opento)%20%7B%20clearTimeout(opento)%3B%20%7D%0D%0A%09%09%09%09if(!data%20%7C%7C%20!data.data%20%7C%7C%20!data.data.jstree)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09marker.hide().detach()%3B%0D%0A%09%09%09%09var%20i%2C%20j%2C%20nodes%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09if(lastmv)%20%7B%0D%0A%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20data.data.nodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09nodes%5Bi%5D%20%3D%20data.data.origin%20%3F%20data.data.origin.get_node(data.data.nodes%5Bi%5D)%20%3A%20data.data.nodes%5Bi%5D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09lastmv.ins%5B%20data.data.origin%20%26%26%20(data.data.origin.settings.dnd.always_copy%20%7C%7C%20(data.data.origin.settings.dnd.copy%20%26%26%20(data.event.metaKey%20%7C%7C%20data.event.ctrlKey)))%20%3F%20'copy_node'%20%3A%20'move_node'%20%5D(nodes%2C%20lastmv.par%2C%20lastmv.pos%2C%20false%2C%20false%2C%20false%2C%20data.data.origin)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09i%20%3D%20%24(data.event.target).closest('.jstree')%3B%0D%0A%09%09%09%09%09if(i.length%20%26%26%20laster%20%26%26%20laster.error%20%26%26%20laster.error%20%3D%3D%3D%20'check')%20%7B%0D%0A%09%09%09%09%09%09i%20%3D%20i.jstree(true)%3B%0D%0A%09%09%09%09%09%09if(i)%20%7B%0D%0A%09%09%09%09%09%09%09i.settings.core.error.call(this%2C%20laster)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09lastev%20%3D%20false%3B%0D%0A%09%09%09%09lastmv%20%3D%20false%3B%0D%0A%09%09%09%7D)%0D%0A%09%09%09.on('keyup.jstree%20keydown.jstree'%2C%20function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09data%20%3D%20%24.vakata.dnd._get()%3B%0D%0A%09%09%09%09if(data%20%26%26%20data.data%20%26%26%20data.data.jstree)%20%7B%0D%0A%09%09%09%09%09if%20(e.type%20%3D%3D%3D%20%22keyup%22%20%26%26%20e.which%20%3D%3D%3D%2027)%20%7B%0D%0A%09%09%09%09%09%09if%20(opento)%20%7B%20clearTimeout(opento)%3B%20%7D%0D%0A%09%09%09%09%09%09lastmv%20%3D%20false%3B%0D%0A%09%09%09%09%09%09laster%20%3D%20false%3B%0D%0A%09%09%09%09%09%09lastev%20%3D%20false%3B%0D%0A%09%09%09%09%09%09opento%20%3D%20false%3B%0D%0A%09%09%09%09%09%09marker.hide().detach()%3B%0D%0A%09%09%09%09%09%09%24.vakata.dnd._clean()%3B%0D%0A%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09data.helper.find('.jstree-copy').first()%5B%20data.data.origin%20%26%26%20(data.data.origin.settings.dnd.always_copy%20%7C%7C%20(data.data.origin.settings.dnd.copy%20%26%26%20(e.metaKey%20%7C%7C%20e.ctrlKey)))%20%3F%20'show'%20%3A%20'hide'%20%5D()%3B%0D%0A%09%09%09%09%09%09if(lastev)%20%7B%0D%0A%09%09%09%09%09%09%09lastev.metaKey%20%3D%20e.metaKey%3B%0D%0A%09%09%09%09%09%09%09lastev.ctrlKey%20%3D%20e.ctrlKey%3B%0D%0A%09%09%09%09%09%09%09%24.vakata.dnd._trigger('move'%2C%20lastev)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%3B%0D%0A%09%7D)%3B%0D%0A%0D%0A%09%2F%2F%20helpers%0D%0A%09(function%20(%24)%20%7B%0D%0A%09%09%24.vakata.html%20%3D%20%7B%0D%0A%09%09%09div%20%3A%20%24('%3Cdiv%20%2F%3E')%2C%0D%0A%09%09%09escape%20%3A%20function%20(str)%20%7B%0D%0A%09%09%09%09return%20%24.vakata.html.div.text(str).html()%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09strip%20%3A%20function%20(str)%20%7B%0D%0A%09%09%09%09return%20%24.vakata.html.div.empty().append(%24.parseHTML(str)).text()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%2F%2F%20private%20variable%0D%0A%09%09var%20vakata_dnd%20%3D%20%7B%0D%0A%09%09%09element%09%3A%20false%2C%0D%0A%09%09%09target%09%3A%20false%2C%0D%0A%09%09%09is_down%09%3A%20false%2C%0D%0A%09%09%09is_drag%09%3A%20false%2C%0D%0A%09%09%09helper%09%3A%20false%2C%0D%0A%09%09%09helper_w%3A%200%2C%0D%0A%09%09%09data%09%3A%20false%2C%0D%0A%09%09%09init_x%09%3A%200%2C%0D%0A%09%09%09init_y%09%3A%200%2C%0D%0A%09%09%09scroll_l%3A%200%2C%0D%0A%09%09%09scroll_t%3A%200%2C%0D%0A%09%09%09scroll_e%3A%20false%2C%0D%0A%09%09%09scroll_i%3A%20false%2C%0D%0A%09%09%09is_touch%3A%20false%0D%0A%09%09%7D%3B%0D%0A%09%09%24.vakata.dnd%20%3D%20%7B%0D%0A%09%09%09settings%20%3A%20%7B%0D%0A%09%09%09%09scroll_speed%09%09%3A%2010%2C%0D%0A%09%09%09%09scroll_proximity%09%3A%2020%2C%0D%0A%09%09%09%09helper_left%09%09%09%3A%205%2C%0D%0A%09%09%09%09helper_top%09%09%09%3A%2010%2C%0D%0A%09%09%09%09threshold%09%09%09%3A%205%2C%0D%0A%09%09%09%09threshold_touch%09%09%3A%2010%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_trigger%20%3A%20function%20(event_name%2C%20e%2C%20data)%20%7B%0D%0A%09%09%09%09if%20(data%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09data%20%3D%20%24.vakata.dnd._get()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09data.event%20%3D%20e%3B%0D%0A%09%09%09%09%24(document).triggerHandler(%22dnd_%22%20%2B%20event_name%20%2B%20%22.vakata%22%2C%20data)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_get%20%3A%20function%20()%20%7B%0D%0A%09%09%09%09return%20%7B%0D%0A%09%09%09%09%09%22data%22%09%09%3A%20vakata_dnd.data%2C%0D%0A%09%09%09%09%09%22element%22%09%3A%20vakata_dnd.element%2C%0D%0A%09%09%09%09%09%22helper%22%09%3A%20vakata_dnd.helper%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_clean%20%3A%20function%20()%20%7B%0D%0A%09%09%09%09if(vakata_dnd.helper)%20%7B%20vakata_dnd.helper.remove()%3B%20%7D%0D%0A%09%09%09%09if(vakata_dnd.scroll_i)%20%7B%20clearInterval(vakata_dnd.scroll_i)%3B%20vakata_dnd.scroll_i%20%3D%20false%3B%20%7D%0D%0A%09%09%09%09vakata_dnd%20%3D%20%7B%0D%0A%09%09%09%09%09element%09%3A%20false%2C%0D%0A%09%09%09%09%09target%09%3A%20false%2C%0D%0A%09%09%09%09%09is_down%09%3A%20false%2C%0D%0A%09%09%09%09%09is_drag%09%3A%20false%2C%0D%0A%09%09%09%09%09helper%09%3A%20false%2C%0D%0A%09%09%09%09%09helper_w%3A%200%2C%0D%0A%09%09%09%09%09data%09%3A%20false%2C%0D%0A%09%09%09%09%09init_x%09%3A%200%2C%0D%0A%09%09%09%09%09init_y%09%3A%200%2C%0D%0A%09%09%09%09%09scroll_l%3A%200%2C%0D%0A%09%09%09%09%09scroll_t%3A%200%2C%0D%0A%09%09%09%09%09scroll_e%3A%20false%2C%0D%0A%09%09%09%09%09scroll_i%3A%20false%2C%0D%0A%09%09%09%09%09is_touch%3A%20false%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09%09%24(document).off(%22mousemove.vakata.jstree%20touchmove.vakata.jstree%22%2C%20%24.vakata.dnd.drag)%3B%0D%0A%09%09%09%09%24(document).off(%22mouseup.vakata.jstree%20touchend.vakata.jstree%22%2C%20%24.vakata.dnd.stop)%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09_scroll%20%3A%20function%20(init_only)%20%7B%0D%0A%09%09%09%09if(!vakata_dnd.scroll_e%20%7C%7C%20(!vakata_dnd.scroll_l%20%26%26%20!vakata_dnd.scroll_t))%20%7B%0D%0A%09%09%09%09%09if(vakata_dnd.scroll_i)%20%7B%20clearInterval(vakata_dnd.scroll_i)%3B%20vakata_dnd.scroll_i%20%3D%20false%3B%20%7D%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!vakata_dnd.scroll_i)%20%7B%0D%0A%09%09%09%09%09vakata_dnd.scroll_i%20%3D%20setInterval(%24.vakata.dnd._scroll%2C%20100)%3B%0D%0A%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(init_only%20%3D%3D%3D%20true)%20%7B%20return%20false%3B%20%7D%0D%0A%0D%0A%09%09%09%09var%20i%20%3D%20vakata_dnd.scroll_e.scrollTop()%2C%0D%0A%09%09%09%09%09j%20%3D%20vakata_dnd.scroll_e.scrollLeft()%3B%0D%0A%09%09%09%09vakata_dnd.scroll_e.scrollTop(i%20%2B%20vakata_dnd.scroll_t%20*%20%24.vakata.dnd.settings.scroll_speed)%3B%0D%0A%09%09%09%09vakata_dnd.scroll_e.scrollLeft(j%20%2B%20vakata_dnd.scroll_l%20*%20%24.vakata.dnd.settings.scroll_speed)%3B%0D%0A%09%09%09%09if(i%20!%3D%3D%20vakata_dnd.scroll_e.scrollTop()%20%7C%7C%20j%20!%3D%3D%20vakata_dnd.scroll_e.scrollLeft())%20%7B%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20on%20the%20document%20when%20a%20drag%20causes%20an%20element%20to%20scroll%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%09%09%09%20*%20%40name%20dnd_scroll.vakata%0D%0A%09%09%09%09%09%20*%20%40param%20%7BMixed%7D%20data%20any%20data%20supplied%20with%20the%20call%20to%20%24.vakata.dnd.start%0D%0A%09%09%09%09%09%20*%20%40param%20%7BDOM%7D%20element%20the%20DOM%20element%20being%20dragged%0D%0A%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20helper%20the%20helper%20shown%20next%20to%20the%20mouse%0D%0A%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20event%20the%20element%20that%20is%20scrolling%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09%24.vakata.dnd._trigger(%22scroll%22%2C%20vakata_dnd.scroll_e)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09start%20%3A%20function%20(e%2C%20data%2C%20html)%20%7B%0D%0A%09%09%09%09if(e.type%20%3D%3D%3D%20%22touchstart%22%20%26%26%20e.originalEvent%20%26%26%20e.originalEvent.changedTouches%20%26%26%20e.originalEvent.changedTouches%5B0%5D)%20%7B%0D%0A%09%09%09%09%09e.pageX%20%3D%20e.originalEvent.changedTouches%5B0%5D.pageX%3B%0D%0A%09%09%09%09%09e.pageY%20%3D%20e.originalEvent.changedTouches%5B0%5D.pageY%3B%0D%0A%09%09%09%09%09e.target%20%3D%20document.elementFromPoint(e.originalEvent.changedTouches%5B0%5D.pageX%20-%20window.pageXOffset%2C%20e.originalEvent.changedTouches%5B0%5D.pageY%20-%20window.pageYOffset)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(vakata_dnd.is_drag)%20%7B%20%24.vakata.dnd.stop(%7B%7D)%3B%20%7D%0D%0A%09%09%09%09try%20%7B%0D%0A%09%09%09%09%09e.currentTarget.unselectable%20%3D%20%22on%22%3B%0D%0A%09%09%09%09%09e.currentTarget.onselectstart%20%3D%20function()%20%7B%20return%20false%3B%20%7D%3B%0D%0A%09%09%09%09%09if(e.currentTarget.style)%20%7B%0D%0A%09%09%09%09%09%09e.currentTarget.style.touchAction%20%3D%20%22none%22%3B%0D%0A%09%09%09%09%09%09e.currentTarget.style.msTouchAction%20%3D%20%22none%22%3B%0D%0A%09%09%09%09%09%09e.currentTarget.style.MozUserSelect%20%3D%20%22none%22%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%20catch(ignore)%20%7B%20%7D%0D%0A%09%09%09%09vakata_dnd.init_x%09%3D%20e.pageX%3B%0D%0A%09%09%09%09vakata_dnd.init_y%09%3D%20e.pageY%3B%0D%0A%09%09%09%09vakata_dnd.data%09%09%3D%20data%3B%0D%0A%09%09%09%09vakata_dnd.is_down%09%3D%20true%3B%0D%0A%09%09%09%09vakata_dnd.element%09%3D%20e.currentTarget%3B%0D%0A%09%09%09%09vakata_dnd.target%09%3D%20e.target%3B%0D%0A%09%09%09%09vakata_dnd.is_touch%09%3D%20e.type%20%3D%3D%3D%20%22touchstart%22%3B%0D%0A%09%09%09%09if(html%20!%3D%3D%20false)%20%7B%0D%0A%09%09%09%09%09vakata_dnd.helper%20%3D%20%24(%22%3Cdiv%20id%3D'vakata-dnd'%3E%3C%2Fdiv%3E%22).html(html).css(%7B%0D%0A%09%09%09%09%09%09%22display%22%09%09%3A%20%22block%22%2C%0D%0A%09%09%09%09%09%09%22margin%22%09%09%3A%20%220%22%2C%0D%0A%09%09%09%09%09%09%22padding%22%09%09%3A%20%220%22%2C%0D%0A%09%09%09%09%09%09%22position%22%09%09%3A%20%22absolute%22%2C%0D%0A%09%09%09%09%09%09%22top%22%09%09%09%3A%20%22-2000px%22%2C%0D%0A%09%09%09%09%09%09%22lineHeight%22%09%3A%20%2216px%22%2C%0D%0A%09%09%09%09%09%09%22zIndex%22%09%09%3A%20%2210000%22%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%24(document).on(%22mousemove.vakata.jstree%20touchmove.vakata.jstree%22%2C%20%24.vakata.dnd.drag)%3B%0D%0A%09%09%09%09%24(document).on(%22mouseup.vakata.jstree%20touchend.vakata.jstree%22%2C%20%24.vakata.dnd.stop)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09drag%20%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09if(e.type%20%3D%3D%3D%20%22touchmove%22%20%26%26%20e.originalEvent%20%26%26%20e.originalEvent.changedTouches%20%26%26%20e.originalEvent.changedTouches%5B0%5D)%20%7B%0D%0A%09%09%09%09%09e.pageX%20%3D%20e.originalEvent.changedTouches%5B0%5D.pageX%3B%0D%0A%09%09%09%09%09e.pageY%20%3D%20e.originalEvent.changedTouches%5B0%5D.pageY%3B%0D%0A%09%09%09%09%09e.target%20%3D%20document.elementFromPoint(e.originalEvent.changedTouches%5B0%5D.pageX%20-%20window.pageXOffset%2C%20e.originalEvent.changedTouches%5B0%5D.pageY%20-%20window.pageYOffset)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!vakata_dnd.is_down)%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09if(!vakata_dnd.is_drag)%20%7B%0D%0A%09%09%09%09%09if(%0D%0A%09%09%09%09%09%09Math.abs(e.pageX%20-%20vakata_dnd.init_x)%20%3E%20(vakata_dnd.is_touch%20%3F%20%24.vakata.dnd.settings.threshold_touch%20%3A%20%24.vakata.dnd.settings.threshold)%20%7C%7C%0D%0A%09%09%09%09%09%09Math.abs(e.pageY%20-%20vakata_dnd.init_y)%20%3E%20(vakata_dnd.is_touch%20%3F%20%24.vakata.dnd.settings.threshold_touch%20%3A%20%24.vakata.dnd.settings.threshold)%0D%0A%09%09%09%09%09)%20%7B%0D%0A%09%09%09%09%09%09if(vakata_dnd.helper)%20%7B%0D%0A%09%09%09%09%09%09%09vakata_dnd.helper.appendTo(document.body)%3B%0D%0A%09%09%09%09%09%09%09vakata_dnd.helper_w%20%3D%20vakata_dnd.helper.outerWidth()%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09vakata_dnd.is_drag%20%3D%20true%3B%0D%0A%09%09%09%09%09%09%24(vakata_dnd.target).one('click.vakata'%2C%20false)%3B%0D%0A%09%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%09%20*%20triggered%20on%20the%20document%20when%20a%20drag%20starts%0D%0A%09%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%09%09%09%09%20*%20%40name%20dnd_start.vakata%0D%0A%09%09%09%09%09%09%20*%20%40param%20%7BMixed%7D%20data%20any%20data%20supplied%20with%20the%20call%20to%20%24.vakata.dnd.start%0D%0A%09%09%09%09%09%09%20*%20%40param%20%7BDOM%7D%20element%20the%20DOM%20element%20being%20dragged%0D%0A%09%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20helper%20the%20helper%20shown%20next%20to%20the%20mouse%0D%0A%09%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20that%20caused%20the%20start%20(probably%20mousemove)%0D%0A%09%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09%09%24.vakata.dnd._trigger(%22start%22%2C%20e)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09else%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09var%20d%20%20%3D%20false%2C%20w%20%20%3D%20false%2C%0D%0A%09%09%09%09%09dh%20%3D%20false%2C%20wh%20%3D%20false%2C%0D%0A%09%09%09%09%09dw%20%3D%20false%2C%20ww%20%3D%20false%2C%0D%0A%09%09%09%09%09dt%20%3D%20false%2C%20dl%20%3D%20false%2C%0D%0A%09%09%09%09%09ht%20%3D%20false%2C%20hl%20%3D%20false%3B%0D%0A%0D%0A%09%09%09%09vakata_dnd.scroll_t%20%3D%200%3B%0D%0A%09%09%09%09vakata_dnd.scroll_l%20%3D%200%3B%0D%0A%09%09%09%09vakata_dnd.scroll_e%20%3D%20false%3B%0D%0A%09%09%09%09%24(%24(e.target).parentsUntil(%22body%22).addBack().get().reverse())%0D%0A%09%09%09%09%09.filter(function%20()%20%7B%0D%0A%09%09%09%09%09%09return%09(%2F%5Eauto%7Cscroll%24%2F).test(%24(this).css(%22overflow%22))%20%26%26%0D%0A%09%09%09%09%09%09%09%09(this.scrollHeight%20%3E%20this.offsetHeight%20%7C%7C%20this.scrollWidth%20%3E%20this.offsetWidth)%3B%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09%09.each(function%20()%20%7B%0D%0A%09%09%09%09%09%09var%20t%20%3D%20%24(this)%2C%20o%20%3D%20t.offset()%3B%0D%0A%09%09%09%09%09%09if(this.scrollHeight%20%3E%20this.offsetHeight)%20%7B%0D%0A%09%09%09%09%09%09%09if(o.top%20%2B%20t.height()%20-%20e.pageY%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%7B%20vakata_dnd.scroll_t%20%3D%201%3B%20%7D%0D%0A%09%09%09%09%09%09%09if(e.pageY%20-%20o.top%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%09%09%09%7B%20vakata_dnd.scroll_t%20%3D%20-1%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(this.scrollWidth%20%3E%20this.offsetWidth)%20%7B%0D%0A%09%09%09%09%09%09%09if(o.left%20%2B%20t.width()%20-%20e.pageX%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%7B%20vakata_dnd.scroll_l%20%3D%201%3B%20%7D%0D%0A%09%09%09%09%09%09%09if(e.pageX%20-%20o.left%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%09%09%09%7B%20vakata_dnd.scroll_l%20%3D%20-1%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(vakata_dnd.scroll_t%20%7C%7C%20vakata_dnd.scroll_l)%20%7B%0D%0A%09%09%09%09%09%09%09vakata_dnd.scroll_e%20%3D%20%24(this)%3B%0D%0A%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%0D%0A%09%09%09%09if(!vakata_dnd.scroll_e)%20%7B%0D%0A%09%09%09%09%09d%20%20%3D%20%24(document)%3B%20w%20%3D%20%24(window)%3B%0D%0A%09%09%09%09%09dh%20%3D%20d.height()%3B%20wh%20%3D%20w.height()%3B%0D%0A%09%09%09%09%09dw%20%3D%20d.width()%3B%20ww%20%3D%20w.width()%3B%0D%0A%09%09%09%09%09dt%20%3D%20d.scrollTop()%3B%20dl%20%3D%20d.scrollLeft()%3B%0D%0A%09%09%09%09%09if(dh%20%3E%20wh%20%26%26%20e.pageY%20-%20dt%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%09%7B%20vakata_dnd.scroll_t%20%3D%20-1%3B%20%20%7D%0D%0A%09%09%09%09%09if(dh%20%3E%20wh%20%26%26%20wh%20-%20(e.pageY%20-%20dt)%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%7B%20vakata_dnd.scroll_t%20%3D%201%3B%20%7D%0D%0A%09%09%09%09%09if(dw%20%3E%20ww%20%26%26%20e.pageX%20-%20dl%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%09%7B%20vakata_dnd.scroll_l%20%3D%20-1%3B%20%7D%0D%0A%09%09%09%09%09if(dw%20%3E%20ww%20%26%26%20ww%20-%20(e.pageX%20-%20dl)%20%3C%20%24.vakata.dnd.settings.scroll_proximity)%09%7B%20vakata_dnd.scroll_l%20%3D%201%3B%20%7D%0D%0A%09%09%09%09%09if(vakata_dnd.scroll_t%20%7C%7C%20vakata_dnd.scroll_l)%20%7B%0D%0A%09%09%09%09%09%09vakata_dnd.scroll_e%20%3D%20d%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(vakata_dnd.scroll_e)%20%7B%20%24.vakata.dnd._scroll(true)%3B%20%7D%0D%0A%0D%0A%09%09%09%09if(vakata_dnd.helper)%20%7B%0D%0A%09%09%09%09%09ht%20%3D%20parseInt(e.pageY%20%2B%20%24.vakata.dnd.settings.helper_top%2C%2010)%3B%0D%0A%09%09%09%09%09hl%20%3D%20parseInt(e.pageX%20%2B%20%24.vakata.dnd.settings.helper_left%2C%2010)%3B%0D%0A%09%09%09%09%09if(dh%20%26%26%20ht%20%2B%2025%20%3E%20dh)%20%7B%20ht%20%3D%20dh%20-%2050%3B%20%7D%0D%0A%09%09%09%09%09if(dw%20%26%26%20hl%20%2B%20vakata_dnd.helper_w%20%3E%20dw)%20%7B%20hl%20%3D%20dw%20-%20(vakata_dnd.helper_w%20%2B%202)%3B%20%7D%0D%0A%09%09%09%09%09vakata_dnd.helper.css(%7B%0D%0A%09%09%09%09%09%09left%09%3A%20hl%20%2B%20%22px%22%2C%0D%0A%09%09%09%09%09%09top%09%09%3A%20ht%20%2B%20%22px%22%0D%0A%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20on%20the%20document%20when%20a%20drag%20is%20in%20progress%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%09%09%20*%20%40name%20dnd_move.vakata%0D%0A%09%09%09%09%20*%20%40param%20%7BMixed%7D%20data%20any%20data%20supplied%20with%20the%20call%20to%20%24.vakata.dnd.start%0D%0A%09%09%09%09%20*%20%40param%20%7BDOM%7D%20element%20the%20DOM%20element%20being%20dragged%0D%0A%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20helper%20the%20helper%20shown%20next%20to%20the%20mouse%0D%0A%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20that%20caused%20this%20to%20trigger%20(most%20likely%20mousemove)%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09%24.vakata.dnd._trigger(%22move%22%2C%20e)%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%2C%0D%0A%09%09%09stop%20%3A%20function%20(e)%20%7B%0D%0A%09%09%09%09if(e.type%20%3D%3D%3D%20%22touchend%22%20%26%26%20e.originalEvent%20%26%26%20e.originalEvent.changedTouches%20%26%26%20e.originalEvent.changedTouches%5B0%5D)%20%7B%0D%0A%09%09%09%09%09e.pageX%20%3D%20e.originalEvent.changedTouches%5B0%5D.pageX%3B%0D%0A%09%09%09%09%09e.pageY%20%3D%20e.originalEvent.changedTouches%5B0%5D.pageY%3B%0D%0A%09%09%09%09%09e.target%20%3D%20document.elementFromPoint(e.originalEvent.changedTouches%5B0%5D.pageX%20-%20window.pageXOffset%2C%20e.originalEvent.changedTouches%5B0%5D.pageY%20-%20window.pageYOffset)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(vakata_dnd.is_drag)%20%7B%0D%0A%09%09%09%09%09%2F**%0D%0A%09%09%09%09%09%20*%20triggered%20on%20the%20document%20when%20a%20drag%20stops%20(the%20dragged%20element%20is%20dropped)%0D%0A%09%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%09%20*%20%40plugin%20dnd%0D%0A%09%09%09%09%09%20*%20%40name%20dnd_stop.vakata%0D%0A%09%09%09%09%09%20*%20%40param%20%7BMixed%7D%20data%20any%20data%20supplied%20with%20the%20call%20to%20%24.vakata.dnd.start%0D%0A%09%09%09%09%09%20*%20%40param%20%7BDOM%7D%20element%20the%20DOM%20element%20being%20dragged%0D%0A%09%09%09%09%09%20*%20%40param%20%7BjQuery%7D%20helper%20the%20helper%20shown%20next%20to%20the%20mouse%0D%0A%09%09%09%09%09%20*%20%40param%20%7BObject%7D%20event%20the%20event%20that%20caused%20the%20stop%0D%0A%09%09%09%09%09%20*%2F%0D%0A%09%09%09%09%09if%20(e.target%20!%3D%3D%20vakata_dnd.target)%20%7B%0D%0A%09%09%09%09%09%09%24(vakata_dnd.target).off('click.vakata')%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%24.vakata.dnd._trigger(%22stop%22%2C%20e)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09if(e.type%20%3D%3D%3D%20%22touchend%22%20%26%26%20e.target%20%3D%3D%3D%20vakata_dnd.target)%20%7B%0D%0A%09%09%09%09%09%09var%20to%20%3D%20setTimeout(function%20()%20%7B%20%24(e.target).click()%3B%20%7D%2C%20100)%3B%0D%0A%09%09%09%09%09%09%24(e.target).one('click'%2C%20function()%20%7B%20if(to)%20%7B%20clearTimeout(to)%3B%20%7D%20%7D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%24.vakata.dnd._clean()%3B%0D%0A%09%09%09%09return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D(%24))%3B%0D%0A%0D%0A%09%2F%2F%20include%20the%20dnd%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22dnd%22)%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Massload%20plugin%0D%0A%20*%0D%0A%20*%20Adds%20massload%20functionality%20to%20jsTree%2C%20so%20that%20multiple%20nodes%20can%20be%20loaded%20in%20a%20single%20request%20(only%20useful%20with%20lazy%20loading).%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20massload%20configuration%0D%0A%09%20*%0D%0A%09%20*%20It%20is%20possible%20to%20set%20this%20to%20a%20standard%20jQuery-like%20AJAX%20config.%0D%0A%09%20*%20In%20addition%20to%20the%20standard%20jQuery%20ajax%20options%20here%20you%20can%20supply%20functions%20for%20%60data%60%20and%20%60url%60%2C%20the%20functions%20will%20be%20run%20in%20the%20current%20instance's%20scope%20and%20a%20param%20will%20be%20passed%20indicating%20which%20node%20IDs%20need%20to%20be%20loaded%2C%20the%20return%20value%20of%20those%20functions%20will%20be%20used.%0D%0A%09%20*%0D%0A%09%20*%20You%20can%20also%20set%20this%20to%20a%20function%2C%20that%20function%20will%20receive%20the%20node%20IDs%20being%20loaded%20as%20argument%20and%20a%20second%20param%20which%20is%20a%20function%20(callback)%20which%20should%20be%20called%20with%20the%20result.%0D%0A%09%20*%0D%0A%09%20*%20Both%20the%20AJAX%20and%20the%20function%20approach%20rely%20on%20the%20same%20return%20value%20-%20an%20object%20where%20the%20keys%20are%20the%20node%20IDs%2C%20and%20the%20value%20is%20the%20children%20of%20that%20node%20as%20an%20array.%0D%0A%09%20*%0D%0A%09%20*%09%7B%0D%0A%09%20*%09%09%22id1%22%20%3A%20%5B%7B%20%22text%22%20%3A%20%22Child%20of%20ID1%22%2C%20%22id%22%20%3A%20%22c1%22%20%7D%2C%20%7B%20%22text%22%20%3A%20%22Another%20child%20of%20ID1%22%2C%20%22id%22%20%3A%20%22c2%22%20%7D%5D%2C%0D%0A%09%20*%09%09%22id2%22%20%3A%20%5B%7B%20%22text%22%20%3A%20%22Child%20of%20ID2%22%2C%20%22id%22%20%3A%20%22c3%22%20%7D%5D%0D%0A%09%20*%09%7D%0D%0A%09%20*%20%0D%0A%09%20*%20%40name%20%24.jstree.defaults.massload%0D%0A%09%20*%20%40plugin%20massload%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.massload%20%3D%20null%3B%0D%0A%09%24.jstree.plugins.massload%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.init%20%3D%20function%20(el%2C%20options)%20%7B%0D%0A%09%09%09this._data.massload%20%3D%20%7B%7D%3B%0D%0A%09%09%09parent.init.call(this%2C%20el%2C%20options)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this._load_nodes%20%3D%20function%20(nodes%2C%20callback%2C%20is_callback%2C%20force_reload)%20%7B%0D%0A%09%09%09var%20s%20%3D%20this.settings.massload%2C%0D%0A%09%09%09%09nodesString%20%3D%20JSON.stringify(nodes)%2C%0D%0A%09%09%09%09toLoad%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09i%2C%20j%2C%20dom%3B%0D%0A%09%09%09if%20(!is_callback)%20%7B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20nodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(!m%5Bnodes%5Bi%5D%5D%20%7C%7C%20(%20(!m%5Bnodes%5Bi%5D%5D.state.loaded%20%26%26%20!m%5Bnodes%5Bi%5D%5D.state.failed)%20%7C%7C%20force_reload)%20)%20%7B%0D%0A%09%09%09%09%09%09toLoad.push(nodes%5Bi%5D)%3B%0D%0A%09%09%09%09%09%09dom%20%3D%20this.get_node(nodes%5Bi%5D%2C%20true)%3B%0D%0A%09%09%09%09%09%09if%20(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09%09%09dom.addClass(%22jstree-loading%22).attr('aria-busy'%2Ctrue)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09this._data.massload%20%3D%20%7B%7D%3B%0D%0A%09%09%09%09if%20(toLoad.length)%20%7B%0D%0A%09%09%09%09%09if(%24.isFunction(s))%20%7B%0D%0A%09%09%09%09%09%09return%20s.call(this%2C%20toLoad%2C%20%24.proxy(function%20(data)%20%7B%0D%0A%09%09%09%09%09%09%09var%20i%2C%20j%3B%0D%0A%09%09%09%09%09%09%09if(data)%20%7B%0D%0A%09%09%09%09%09%09%09%09for(i%20in%20data)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if(data.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09this._data.massload%5Bi%5D%20%3D%20data%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20nodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09dom%20%3D%20this.get_node(nodes%5Bi%5D%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09if%20(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09dom.removeClass(%22jstree-loading%22).attr('aria-busy'%2Cfalse)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09parent._load_nodes.call(this%2C%20nodes%2C%20callback%2C%20is_callback%2C%20force_reload)%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(typeof%20s%20%3D%3D%3D%20'object'%20%26%26%20s%20%26%26%20s.url)%20%7B%0D%0A%09%09%09%09%09%09s%20%3D%20%24.extend(true%2C%20%7B%7D%2C%20s)%3B%0D%0A%09%09%09%09%09%09if(%24.isFunction(s.url))%20%7B%0D%0A%09%09%09%09%09%09%09s.url%20%3D%20s.url.call(this%2C%20toLoad)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(%24.isFunction(s.data))%20%7B%0D%0A%09%09%09%09%09%09%09s.data%20%3D%20s.data.call(this%2C%20toLoad)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09return%20%24.ajax(s)%0D%0A%09%09%09%09%09%09%09.done(%24.proxy(function%20(data%2Ct%2Cx)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09var%20i%2C%20j%3B%0D%0A%09%09%09%09%09%09%09%09%09if(data)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09for(i%20in%20data)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09if(data.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09this._data.massload%5Bi%5D%20%3D%20data%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20nodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09dom%20%3D%20this.get_node(nodes%5Bi%5D%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09dom.removeClass(%22jstree-loading%22).attr('aria-busy'%2Cfalse)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09parent._load_nodes.call(this%2C%20nodes%2C%20callback%2C%20is_callback%2C%20force_reload)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%09%09%09.fail(%24.proxy(function%20(f)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09parent._load_nodes.call(this%2C%20nodes%2C%20callback%2C%20is_callback%2C%20force_reload)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20parent._load_nodes.call(this%2C%20nodes%2C%20callback%2C%20is_callback%2C%20force_reload)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this._load_node%20%3D%20function%20(obj%2C%20callback)%20%7B%0D%0A%09%09%09var%20data%20%3D%20this._data.massload%5Bobj.id%5D%2C%0D%0A%09%09%09%09rslt%20%3D%20null%2C%20dom%3B%0D%0A%09%09%09if(data)%20%7B%0D%0A%09%09%09%09rslt%20%3D%20this%5Btypeof%20data%20%3D%3D%3D%20'string'%20%3F%20'_append_html_data'%20%3A%20'_append_json_data'%5D(%0D%0A%09%09%09%09%09obj%2C%0D%0A%09%09%09%09%09typeof%20data%20%3D%3D%3D%20'string'%20%3F%20%24(%24.parseHTML(data)).filter(function%20()%20%7B%20return%20this.nodeType%20!%3D%3D%203%3B%20%7D)%20%3A%20data%2C%0D%0A%09%09%09%09%09function%20(status)%20%7B%20callback.call(this%2C%20status)%3B%20%7D%0D%0A%09%09%09%09)%3B%0D%0A%09%09%09%09dom%20%3D%20this.get_node(obj.id%2C%20true)%3B%0D%0A%09%09%09%09if%20(dom%20%26%26%20dom.length)%20%7B%0D%0A%09%09%09%09%09dom.removeClass(%22jstree-loading%22).attr('aria-busy'%2Cfalse)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09delete%20this._data.massload%5Bobj.id%5D%3B%0D%0A%09%09%09%09return%20rslt%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20parent._load_node.call(this%2C%20obj%2C%20callback)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Search%20plugin%0D%0A%20*%0D%0A%20*%20Adds%20search%20functionality%20to%20jsTree.%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20stores%20all%20defaults%20for%20the%20search%20plugin%0D%0A%09%20*%20%40name%20%24.jstree.defaults.search%0D%0A%09%20*%20%40plugin%20search%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.search%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20a%20jQuery-like%20AJAX%20config%2C%20which%20jstree%20uses%20if%20a%20server%20should%20be%20queried%20for%20results.%0D%0A%09%09%20*%0D%0A%09%09%20*%20A%20%60str%60%20(which%20is%20the%20search%20string)%20parameter%20will%20be%20added%20with%20the%20request%2C%20an%20optional%20%60inside%60%20parameter%20will%20be%20added%20if%20the%20search%20is%20limited%20to%20a%20node%20id.%20The%20expected%20result%20is%20a%20JSON%20array%20with%20nodes%20that%20need%20to%20be%20opened%20so%20that%20matching%20nodes%20will%20be%20revealed.%0D%0A%09%09%20*%20Leave%20this%20setting%20as%20%60false%60%20to%20not%20query%20the%20server.%20You%20can%20also%20set%20this%20to%20a%20function%2C%20which%20will%20be%20invoked%20in%20the%20instance's%20scope%20and%20receive%203%20parameters%20-%20the%20search%20string%2C%20the%20callback%20to%20call%20with%20the%20array%20of%20nodes%20to%20load%2C%20and%20the%20optional%20node%20ID%20to%20limit%20the%20search%20to%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.ajax%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09ajax%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20the%20search%20should%20be%20fuzzy%20or%20not%20(should%20%60chnd3%60%20match%20%60child%20node%203%60).%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.fuzzy%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09fuzzy%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20the%20search%20should%20be%20case%20sensitive.%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.case_sensitive%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09case_sensitive%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20the%20tree%20should%20be%20filtered%20(by%20default)%20to%20show%20only%20matching%20nodes%20(keep%20in%20mind%20this%20can%20be%20a%20heavy%20on%20large%20trees%20in%20old%20browsers).%0D%0A%09%09%20*%20This%20setting%20can%20be%20changed%20at%20runtime%20when%20calling%20the%20search%20method.%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.show_only_matches%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09show_only_matches%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20the%20children%20of%20matched%20element%20are%20shown%20(when%20show_only_matches%20is%20true)%0D%0A%09%09%20*%20This%20setting%20can%20be%20changed%20at%20runtime%20when%20calling%20the%20search%20method.%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.show_only_matches_children%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09show_only_matches_children%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20all%20nodes%20opened%20to%20reveal%20the%20search%20result%2C%20should%20be%20closed%20when%20the%20search%20is%20cleared%20or%20a%20new%20search%20is%20performed.%20Default%20is%20%60true%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.close_opened_onclear%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09close_opened_onclear%20%3A%20true%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20only%20leaf%20nodes%20should%20be%20included%20in%20search%20results.%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.search_leaves_only%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09search_leaves_only%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20If%20set%20to%20a%20function%20it%20wil%20be%20called%20in%20the%20instance's%20scope%20with%20two%20arguments%20-%20search%20string%20and%20node%20(where%20node%20will%20be%20every%20node%20in%20the%20structure%2C%20so%20use%20with%20caution).%0D%0A%09%09%20*%20If%20the%20function%20returns%20a%20truthy%20value%20the%20node%20will%20be%20considered%20a%20match%20(it%20might%20not%20be%20displayed%20if%20search_only_leaves%20is%20set%20to%20true%20and%20the%20node%20is%20not%20a%20leaf).%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.search.search_callback%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%2F%0D%0A%09%09search_callback%20%3A%20false%0D%0A%09%7D%3B%0D%0A%0D%0A%09%24.jstree.plugins.search%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%0D%0A%09%09%09this._data.search.str%20%3D%20%22%22%3B%0D%0A%09%09%09this._data.search.dom%20%3D%20%24()%3B%0D%0A%09%09%09this._data.search.res%20%3D%20%5B%5D%3B%0D%0A%09%09%09this._data.search.opn%20%3D%20%5B%5D%3B%0D%0A%09%09%09this._data.search.som%20%3D%20false%3B%0D%0A%09%09%09this._data.search.smc%20%3D%20false%3B%0D%0A%09%09%09this._data.search.hdn%20%3D%20%5B%5D%3B%0D%0A%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on(%22search.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09if(this._data.search.som%20%26%26%20data.res.length)%20%7B%0D%0A%09%09%09%09%09%09%09var%20m%20%3D%20this._model.data%2C%20i%2C%20j%2C%20p%20%3D%20%5B%5D%2C%20k%2C%20l%3B%0D%0A%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20data.res.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09if(m%5Bdata.res%5Bi%5D%5D%20%26%26%20!m%5Bdata.res%5Bi%5D%5D.state.hidden)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09p.push(data.res%5Bi%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%09p%20%3D%20p.concat(m%5Bdata.res%5Bi%5D%5D.parents)%3B%0D%0A%09%09%09%09%09%09%09%09%09if(this._data.search.smc)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09for%20(k%20%3D%200%2C%20l%20%3D%20m%5Bdata.res%5Bi%5D%5D.children_d.length%3B%20k%20%3C%20l%3B%20k%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09if%20(m%5Bm%5Bdata.res%5Bi%5D%5D.children_d%5Bk%5D%5D%20%26%26%20!m%5Bm%5Bdata.res%5Bi%5D%5D.children_d%5Bk%5D%5D.state.hidden)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09p.push(m%5Bdata.res%5Bi%5D%5D.children_d%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09p%20%3D%20%24.vakata.array_remove_item(%24.vakata.array_unique(p)%2C%20%24.jstree.root)%3B%0D%0A%09%09%09%09%09%09%09this._data.search.hdn%20%3D%20this.hide_all(true)%3B%0D%0A%09%09%09%09%09%09%09this.show_node(p%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09this.redraw(true)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22clear_search.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09if(this._data.search.som%20%26%26%20data.res.length)%20%7B%0D%0A%09%09%09%09%09%09%09this.show_node(this._data.search.hdn%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09this.redraw(true)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20used%20to%20search%20the%20tree%20nodes%20for%20a%20given%20string%0D%0A%09%09%20*%20%40name%20search(str%20%5B%2C%20skip_async%5D)%0D%0A%09%09%20*%20%40param%20%7BString%7D%20str%20the%20search%20string%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20skip_async%20if%20set%20to%20true%20server%20will%20not%20be%20queried%20even%20if%20configured%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20show_only_matches%20if%20set%20to%20true%20only%20matching%20nodes%20will%20be%20shown%20(keep%20in%20mind%20this%20can%20be%20very%20slow%20on%20large%20trees%20or%20old%20browsers)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20inside%20an%20optional%20node%20to%20whose%20children%20to%20limit%20the%20search%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20append%20if%20set%20to%20true%20the%20results%20of%20this%20search%20are%20appended%20to%20the%20previous%20search%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%20%40trigger%20search.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09this.search%20%3D%20function%20(str%2C%20skip_async%2C%20show_only_matches%2C%20inside%2C%20append%2C%20show_only_matches_children)%20%7B%0D%0A%09%09%09if(str%20%3D%3D%3D%20false%20%7C%7C%20%24.trim(str.toString())%20%3D%3D%3D%20%22%22)%20%7B%0D%0A%09%09%09%09return%20this.clear_search()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09inside%20%3D%20this.get_node(inside)%3B%0D%0A%09%09%09inside%20%3D%20inside%20%26%26%20inside.id%20%3F%20inside.id%20%3A%20null%3B%0D%0A%09%09%09str%20%3D%20str.toString()%3B%0D%0A%09%09%09var%20s%20%3D%20this.settings.search%2C%0D%0A%09%09%09%09a%20%3D%20s.ajax%20%3F%20s.ajax%20%3A%20false%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09f%20%3D%20null%2C%0D%0A%09%09%09%09r%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09p%20%3D%20%5B%5D%2C%20i%2C%20j%3B%0D%0A%09%09%09if(this._data.search.res.length%20%26%26%20!append)%20%7B%0D%0A%09%09%09%09this.clear_search()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(show_only_matches%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09show_only_matches%20%3D%20s.show_only_matches%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(show_only_matches_children%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09show_only_matches_children%20%3D%20s.show_only_matches_children%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!skip_async%20%26%26%20a%20!%3D%3D%20false)%20%7B%0D%0A%09%09%09%09if(%24.isFunction(a))%20%7B%0D%0A%09%09%09%09%09return%20a.call(this%2C%20str%2C%20%24.proxy(function%20(d)%20%7B%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.d)%20%7B%20d%20%3D%20d.d%3B%20%7D%0D%0A%09%09%09%09%09%09%09this._load_nodes(!%24.isArray(d)%20%3F%20%5B%5D%20%3A%20%24.vakata.array_unique(d)%2C%20function%20()%20%7B%0D%0A%09%09%09%09%09%09%09%09this.search(str%2C%20true%2C%20show_only_matches%2C%20inside%2C%20append%2C%20show_only_matches_children)%3B%0D%0A%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this)%2C%20inside)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09a%20%3D%20%24.extend(%7B%7D%2C%20a)%3B%0D%0A%09%09%09%09%09if(!a.data)%20%7B%20a.data%20%3D%20%7B%7D%3B%20%7D%0D%0A%09%09%09%09%09a.data.str%20%3D%20str%3B%0D%0A%09%09%09%09%09if(inside)%20%7B%0D%0A%09%09%09%09%09%09a.data.inside%20%3D%20inside%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(this._data.search.lastRequest)%20%7B%0D%0A%09%09%09%09%09%09this._data.search.lastRequest.abort()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09this._data.search.lastRequest%20%3D%20%24.ajax(a)%0D%0A%09%09%09%09%09%09.fail(%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'ajax'%2C%20'plugin'%20%3A%20'search'%2C%20'id'%20%3A%20'search_01'%2C%20'reason'%20%3A%20'Could%20not%20load%20search%20parents'%2C%20'data'%20%3A%20JSON.stringify(a)%20%7D%3B%0D%0A%09%09%09%09%09%09%09this.settings.core.error.call(this%2C%20this._data.core.last_error)%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%09%09.done(%24.proxy(function%20(d)%20%7B%0D%0A%09%09%09%09%09%09%09if(d%20%26%26%20d.d)%20%7B%20d%20%3D%20d.d%3B%20%7D%0D%0A%09%09%09%09%09%09%09this._load_nodes(!%24.isArray(d)%20%3F%20%5B%5D%20%3A%20%24.vakata.array_unique(d)%2C%20function%20()%20%7B%0D%0A%09%09%09%09%09%09%09%09this.search(str%2C%20true%2C%20show_only_matches%2C%20inside%2C%20append%2C%20show_only_matches_children)%3B%0D%0A%09%09%09%09%09%09%09%7D)%3B%0D%0A%09%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%09return%20this._data.search.lastRequest%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!append)%20%7B%0D%0A%09%09%09%09this._data.search.str%20%3D%20str%3B%0D%0A%09%09%09%09this._data.search.dom%20%3D%20%24()%3B%0D%0A%09%09%09%09this._data.search.res%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09this._data.search.opn%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09this._data.search.som%20%3D%20show_only_matches%3B%0D%0A%09%09%09%09this._data.search.smc%20%3D%20show_only_matches_children%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09f%20%3D%20new%20%24.vakata.search(str%2C%20true%2C%20%7B%20caseSensitive%20%3A%20s.case_sensitive%2C%20fuzzy%20%3A%20s.fuzzy%20%7D)%3B%0D%0A%09%09%09%24.each(m%5Binside%20%3F%20inside%20%3A%20%24.jstree.root%5D.children_d%2C%20function%20(ii%2C%20i)%20%7B%0D%0A%09%09%09%09var%20v%20%3D%20m%5Bi%5D%3B%0D%0A%09%09%09%09if(v.text%20%26%26%20!v.state.hidden%20%26%26%20(!s.search_leaves_only%20%7C%7C%20(v.state.loaded%20%26%26%20v.children.length%20%3D%3D%3D%200))%20%26%26%20(%20(s.search_callback%20%26%26%20s.search_callback.call(this%2C%20str%2C%20v))%20%7C%7C%20(!s.search_callback%20%26%26%20f.search(v.text).isMatch)%20)%20)%20%7B%0D%0A%09%09%09%09%09r.push(i)%3B%0D%0A%09%09%09%09%09p%20%3D%20p.concat(v.parents)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D)%3B%0D%0A%09%09%09if(r.length)%20%7B%0D%0A%09%09%09%09p%20%3D%20%24.vakata.array_unique(p)%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20p.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09if(p%5Bi%5D%20!%3D%3D%20%24.jstree.root%20%26%26%20m%5Bp%5Bi%5D%5D%20%26%26%20this.open_node(p%5Bi%5D%2C%20null%2C%200)%20%3D%3D%3D%20true)%20%7B%0D%0A%09%09%09%09%09%09this._data.search.opn.push(p%5Bi%5D)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!append)%20%7B%0D%0A%09%09%09%09%09this._data.search.dom%20%3D%20%24(this.element%5B0%5D.querySelectorAll('%23'%20%2B%20%24.map(r%2C%20function%20(v)%20%7B%20return%20%220123456789%22.indexOf(v%5B0%5D)%20!%3D%3D%20-1%20%3F%20'%5C%5C3'%20%2B%20v%5B0%5D%20%2B%20'%20'%20%2B%20v.substr(1).replace(%24.jstree.idregex%2C'%5C%5C%24%26')%20%3A%20v.replace(%24.jstree.idregex%2C'%5C%5C%24%26')%3B%20%7D).join('%2C%20%23')))%3B%0D%0A%09%09%09%09%09this._data.search.res%20%3D%20r%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09this._data.search.dom%20%3D%20this._data.search.dom.add(%24(this.element%5B0%5D.querySelectorAll('%23'%20%2B%20%24.map(r%2C%20function%20(v)%20%7B%20return%20%220123456789%22.indexOf(v%5B0%5D)%20!%3D%3D%20-1%20%3F%20'%5C%5C3'%20%2B%20v%5B0%5D%20%2B%20'%20'%20%2B%20v.substr(1).replace(%24.jstree.idregex%2C'%5C%5C%24%26')%20%3A%20v.replace(%24.jstree.idregex%2C'%5C%5C%24%26')%3B%20%7D).join('%2C%20%23'))))%3B%0D%0A%09%09%09%09%09this._data.search.res%20%3D%20%24.vakata.array_unique(this._data.search.res.concat(r))%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09this._data.search.dom.children(%22.jstree-anchor%22).addClass('jstree-search')%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20after%20search%20is%20complete%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20search.jstree%0D%0A%09%09%09%20*%20%40param%20%7BjQuery%7D%20nodes%20a%20jQuery%20collection%20of%20matching%20nodes%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20str%20the%20search%20string%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20res%20a%20collection%20of%20objects%20represeing%20the%20matching%20nodes%0D%0A%09%09%09%20*%20%40plugin%20search%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('search'%2C%20%7B%20nodes%20%3A%20this._data.search.dom%2C%20str%20%3A%20str%2C%20res%20%3A%20this._data.search.res%2C%20show_only_matches%20%3A%20show_only_matches%20%7D)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20used%20to%20clear%20the%20last%20search%20(removes%20classes%20and%20shows%20all%20nodes%20if%20filtering%20is%20on)%0D%0A%09%09%20*%20%40name%20clear_search()%0D%0A%09%09%20*%20%40plugin%20search%0D%0A%09%09%20*%20%40trigger%20clear_search.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09this.clear_search%20%3D%20function%20()%20%7B%0D%0A%09%09%09if(this.settings.search.close_opened_onclear)%20%7B%0D%0A%09%09%09%09this.close_node(this._data.search.opn%2C%200)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%2F**%0D%0A%09%09%09%20*%20triggered%20after%20search%20is%20complete%0D%0A%09%09%09%20*%20%40event%0D%0A%09%09%09%20*%20%40name%20clear_search.jstree%0D%0A%09%09%09%20*%20%40param%20%7BjQuery%7D%20nodes%20a%20jQuery%20collection%20of%20matching%20nodes%20(the%20result%20from%20the%20last%20search)%0D%0A%09%09%09%20*%20%40param%20%7BString%7D%20str%20the%20search%20string%20(the%20last%20search%20string)%0D%0A%09%09%09%20*%20%40param%20%7BArray%7D%20res%20a%20collection%20of%20objects%20represeing%20the%20matching%20nodes%20(the%20result%20from%20the%20last%20search)%0D%0A%09%09%09%20*%20%40plugin%20search%0D%0A%09%09%09%20*%2F%0D%0A%09%09%09this.trigger('clear_search'%2C%20%7B%20'nodes'%20%3A%20this._data.search.dom%2C%20str%20%3A%20this._data.search.str%2C%20res%20%3A%20this._data.search.res%20%7D)%3B%0D%0A%09%09%09if(this._data.search.res.length)%20%7B%0D%0A%09%09%09%09this._data.search.dom%20%3D%20%24(this.element%5B0%5D.querySelectorAll('%23'%20%2B%20%24.map(this._data.search.res%2C%20function%20(v)%20%7B%0D%0A%09%09%09%09%09return%20%220123456789%22.indexOf(v%5B0%5D)%20!%3D%3D%20-1%20%3F%20'%5C%5C3'%20%2B%20v%5B0%5D%20%2B%20'%20'%20%2B%20v.substr(1).replace(%24.jstree.idregex%2C'%5C%5C%24%26')%20%3A%20v.replace(%24.jstree.idregex%2C'%5C%5C%24%26')%3B%0D%0A%09%09%09%09%7D).join('%2C%20%23')))%3B%0D%0A%09%09%09%09this._data.search.dom.children(%22.jstree-anchor%22).removeClass(%22jstree-search%22)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09this._data.search.str%20%3D%20%22%22%3B%0D%0A%09%09%09this._data.search.res%20%3D%20%5B%5D%3B%0D%0A%09%09%09this._data.search.opn%20%3D%20%5B%5D%3B%0D%0A%09%09%09this._data.search.dom%20%3D%20%24()%3B%0D%0A%09%09%7D%3B%0D%0A%0D%0A%09%09this.redraw_node%20%3D%20function(obj%2C%20deep%2C%20callback%2C%20force_render)%20%7B%0D%0A%09%09%09obj%20%3D%20parent.redraw_node.apply(this%2C%20arguments)%3B%0D%0A%09%09%09if(obj)%20%7B%0D%0A%09%09%09%09if(%24.inArray(obj.id%2C%20this._data.search.res)%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09var%20i%2C%20j%2C%20tmp%20%3D%20null%3B%0D%0A%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.childNodes.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09if(obj.childNodes%5Bi%5D%20%26%26%20obj.childNodes%5Bi%5D.className%20%26%26%20obj.childNodes%5Bi%5D.className.indexOf(%22jstree-anchor%22)%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09tmp%20%3D%20obj.childNodes%5Bi%5D%3B%0D%0A%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if(tmp)%20%7B%0D%0A%09%09%09%09%09%09tmp.className%20%2B%3D%20'%20jstree-search'%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20helpers%0D%0A%09(function%20(%24)%20%7B%0D%0A%09%09%2F%2F%20from%20http%3A%2F%2Fkiro.me%2Fprojects%2Ffuse.html%0D%0A%09%09%24.vakata.search%20%3D%20function(pattern%2C%20txt%2C%20options)%20%7B%0D%0A%09%09%09options%20%3D%20options%20%7C%7C%20%7B%7D%3B%0D%0A%09%09%09options%20%3D%20%24.extend(%7B%7D%2C%20%24.vakata.search.defaults%2C%20options)%3B%0D%0A%09%09%09if(options.fuzzy%20!%3D%3D%20false)%20%7B%0D%0A%09%09%09%09options.fuzzy%20%3D%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09pattern%20%3D%20options.caseSensitive%20%3F%20pattern%20%3A%20pattern.toLowerCase()%3B%0D%0A%09%09%09var%20MATCH_LOCATION%09%3D%20options.location%2C%0D%0A%09%09%09%09MATCH_DISTANCE%09%3D%20options.distance%2C%0D%0A%09%09%09%09MATCH_THRESHOLD%09%3D%20options.threshold%2C%0D%0A%09%09%09%09patternLen%20%3D%20pattern.length%2C%0D%0A%09%09%09%09matchmask%2C%20pattern_alphabet%2C%20match_bitapScore%2C%20search%3B%0D%0A%09%09%09if(patternLen%20%3E%2032)%20%7B%0D%0A%09%09%09%09options.fuzzy%20%3D%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(options.fuzzy)%20%7B%0D%0A%09%09%09%09matchmask%20%3D%201%20%3C%3C%20(patternLen%20-%201)%3B%0D%0A%09%09%09%09pattern_alphabet%20%3D%20(function%20()%20%7B%0D%0A%09%09%09%09%09var%20mask%20%3D%20%7B%7D%2C%0D%0A%09%09%09%09%09%09i%20%3D%200%3B%0D%0A%09%09%09%09%09for%20(i%20%3D%200%3B%20i%20%3C%20patternLen%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09mask%5Bpattern.charAt(i)%5D%20%3D%200%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09for%20(i%20%3D%200%3B%20i%20%3C%20patternLen%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09mask%5Bpattern.charAt(i)%5D%20%7C%3D%201%20%3C%3C%20(patternLen%20-%20i%20-%201)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20mask%3B%0D%0A%09%09%09%09%7D())%3B%0D%0A%09%09%09%09match_bitapScore%20%3D%20function%20(e%2C%20x)%20%7B%0D%0A%09%09%09%09%09var%20accuracy%20%3D%20e%20%2F%20patternLen%2C%0D%0A%09%09%09%09%09%09proximity%20%3D%20Math.abs(MATCH_LOCATION%20-%20x)%3B%0D%0A%09%09%09%09%09if(!MATCH_DISTANCE)%20%7B%0D%0A%09%09%09%09%09%09return%20proximity%20%3F%201.0%20%3A%20accuracy%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20accuracy%20%2B%20(proximity%20%2F%20MATCH_DISTANCE)%3B%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09search%20%3D%20function%20(text)%20%7B%0D%0A%09%09%09%09text%20%3D%20options.caseSensitive%20%3F%20text%20%3A%20text.toLowerCase()%3B%0D%0A%09%09%09%09if(pattern%20%3D%3D%3D%20text%20%7C%7C%20text.indexOf(pattern)%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09return%20%7B%0D%0A%09%09%09%09%09%09isMatch%3A%20true%2C%0D%0A%09%09%09%09%09%09score%3A%200%0D%0A%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!options.fuzzy)%20%7B%0D%0A%09%09%09%09%09return%20%7B%0D%0A%09%09%09%09%09%09isMatch%3A%20false%2C%0D%0A%09%09%09%09%09%09score%3A%201%0D%0A%09%09%09%09%09%7D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09var%20i%2C%20j%2C%0D%0A%09%09%09%09%09textLen%20%3D%20text.length%2C%0D%0A%09%09%09%09%09scoreThreshold%20%3D%20MATCH_THRESHOLD%2C%0D%0A%09%09%09%09%09bestLoc%20%3D%20text.indexOf(pattern%2C%20MATCH_LOCATION)%2C%0D%0A%09%09%09%09%09binMin%2C%20binMid%2C%0D%0A%09%09%09%09%09binMax%20%3D%20patternLen%20%2B%20textLen%2C%0D%0A%09%09%09%09%09lastRd%2C%20start%2C%20finish%2C%20rd%2C%20charMatch%2C%0D%0A%09%09%09%09%09score%20%3D%201%2C%0D%0A%09%09%09%09%09locations%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09if%20(bestLoc%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09scoreThreshold%20%3D%20Math.min(match_bitapScore(0%2C%20bestLoc)%2C%20scoreThreshold)%3B%0D%0A%09%09%09%09%09bestLoc%20%3D%20text.lastIndexOf(pattern%2C%20MATCH_LOCATION%20%2B%20patternLen)%3B%0D%0A%09%09%09%09%09if%20(bestLoc%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09scoreThreshold%20%3D%20Math.min(match_bitapScore(0%2C%20bestLoc)%2C%20scoreThreshold)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09bestLoc%20%3D%20-1%3B%0D%0A%09%09%09%09for%20(i%20%3D%200%3B%20i%20%3C%20patternLen%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09binMin%20%3D%200%3B%0D%0A%09%09%09%09%09binMid%20%3D%20binMax%3B%0D%0A%09%09%09%09%09while%20(binMin%20%3C%20binMid)%20%7B%0D%0A%09%09%09%09%09%09if%20(match_bitapScore(i%2C%20MATCH_LOCATION%20%2B%20binMid)%20%3C%3D%20scoreThreshold)%20%7B%0D%0A%09%09%09%09%09%09%09binMin%20%3D%20binMid%3B%0D%0A%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09binMax%20%3D%20binMid%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09binMid%20%3D%20Math.floor((binMax%20-%20binMin)%20%2F%202%20%2B%20binMin)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09binMax%20%3D%20binMid%3B%0D%0A%09%09%09%09%09start%20%3D%20Math.max(1%2C%20MATCH_LOCATION%20-%20binMid%20%2B%201)%3B%0D%0A%09%09%09%09%09finish%20%3D%20Math.min(MATCH_LOCATION%20%2B%20binMid%2C%20textLen)%20%2B%20patternLen%3B%0D%0A%09%09%09%09%09rd%20%3D%20new%20Array(finish%20%2B%202)%3B%0D%0A%09%09%09%09%09rd%5Bfinish%20%2B%201%5D%20%3D%20(1%20%3C%3C%20i)%20-%201%3B%0D%0A%09%09%09%09%09for%20(j%20%3D%20finish%3B%20j%20%3E%3D%20start%3B%20j--)%20%7B%0D%0A%09%09%09%09%09%09charMatch%20%3D%20pattern_alphabet%5Btext.charAt(j%20-%201)%5D%3B%0D%0A%09%09%09%09%09%09if%20(i%20%3D%3D%3D%200)%20%7B%0D%0A%09%09%09%09%09%09%09rd%5Bj%5D%20%3D%20((rd%5Bj%20%2B%201%5D%20%3C%3C%201)%20%7C%201)%20%26%20charMatch%3B%0D%0A%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09rd%5Bj%5D%20%3D%20((rd%5Bj%20%2B%201%5D%20%3C%3C%201)%20%7C%201)%20%26%20charMatch%20%7C%20(((lastRd%5Bj%20%2B%201%5D%20%7C%20lastRd%5Bj%5D)%20%3C%3C%201)%20%7C%201)%20%7C%20lastRd%5Bj%20%2B%201%5D%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if%20(rd%5Bj%5D%20%26%20matchmask)%20%7B%0D%0A%09%09%09%09%09%09%09score%20%3D%20match_bitapScore(i%2C%20j%20-%201)%3B%0D%0A%09%09%09%09%09%09%09if%20(score%20%3C%3D%20scoreThreshold)%20%7B%0D%0A%09%09%09%09%09%09%09%09scoreThreshold%20%3D%20score%3B%0D%0A%09%09%09%09%09%09%09%09bestLoc%20%3D%20j%20-%201%3B%0D%0A%09%09%09%09%09%09%09%09locations.push(bestLoc)%3B%0D%0A%09%09%09%09%09%09%09%09if%20(bestLoc%20%3E%20MATCH_LOCATION)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09start%20%3D%20Math.max(1%2C%202%20*%20MATCH_LOCATION%20-%20bestLoc)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%20else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(match_bitapScore(i%20%2B%201%2C%20MATCH_LOCATION)%20%3E%20scoreThreshold)%20%7B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09lastRd%20%3D%20rd%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20%7B%0D%0A%09%09%09%09%09isMatch%3A%20bestLoc%20%3E%3D%200%2C%0D%0A%09%09%09%09%09score%3A%20score%0D%0A%09%09%09%09%7D%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09return%20txt%20%3D%3D%3D%20true%20%3F%20%7B%20'search'%20%3A%20search%20%7D%20%3A%20search(txt)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%24.vakata.search.defaults%20%3D%20%7B%0D%0A%09%09%09location%20%3A%200%2C%0D%0A%09%09%09distance%20%3A%20100%2C%0D%0A%09%09%09threshold%20%3A%200.6%2C%0D%0A%09%09%09fuzzy%20%3A%20false%2C%0D%0A%09%09%09caseSensitive%20%3A%20false%0D%0A%09%09%7D%3B%0D%0A%09%7D(%24))%3B%0D%0A%0D%0A%09%2F%2F%20include%20the%20search%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22search%22)%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Sort%20plugin%0D%0A%20*%0D%0A%20*%20Automatically%20sorts%20all%20siblings%20in%20the%20tree%20according%20to%20a%20sorting%20function.%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20the%20settings%20function%20used%20to%20sort%20the%20nodes.%0D%0A%09%20*%20It%20is%20executed%20in%20the%20tree's%20context%2C%20accepts%20two%20nodes%20as%20arguments%20and%20should%20return%20%601%60%20or%20%60-1%60.%0D%0A%09%20*%20%40name%20%24.jstree.defaults.sort%0D%0A%09%20*%20%40plugin%20sort%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.sort%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%09%09%2F%2Freturn%20this.get_type(a)%20%3D%3D%3D%20this.get_type(b)%20%3F%20(this.get_text(a)%20%3E%20this.get_text(b)%20%3F%201%20%3A%20-1)%20%3A%20this.get_type(a)%20%3E%3D%20this.get_type(b)%3B%0D%0A%09%09return%20this.get_text(a)%20%3E%20this.get_text(b)%20%3F%201%20%3A%20-1%3B%0D%0A%09%7D%3B%0D%0A%09%24.jstree.plugins.sort%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on(%22model.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09this.sort(data.parent%2C%20true)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22rename_node.jstree%20create_node.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09this.sort(data.parent%20%7C%7C%20data.node.parent%2C%20false)%3B%0D%0A%09%09%09%09%09%09this.redraw_node(data.parent%20%7C%7C%20data.node.parent%2C%20true)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22move_node.jstree%20copy_node.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09this.sort(data.parent%2C%20false)%3B%0D%0A%09%09%09%09%09%09this.redraw_node(data.parent%2C%20true)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20used%20to%20sort%20a%20node's%20children%0D%0A%09%09%20*%20%40private%0D%0A%09%09%20*%20%40name%20sort(obj%20%5B%2C%20deep%5D)%0D%0A%09%09%20*%20%40param%20%20%7Bmixed%7D%20obj%20the%20node%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20deep%20if%20set%20to%20%60true%60%20nodes%20are%20sorted%20recursively.%0D%0A%09%09%20*%20%40plugin%20sort%0D%0A%09%09%20*%20%40trigger%20search.jstree%0D%0A%09%09%20*%2F%0D%0A%09%09this.sort%20%3D%20function%20(obj%2C%20deep)%20%7B%0D%0A%09%09%09var%20i%2C%20j%3B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(obj%20%26%26%20obj.children%20%26%26%20obj.children.length)%20%7B%0D%0A%09%09%09%09obj.children.sort(%24.proxy(this.settings.sort%2C%20this))%3B%0D%0A%09%09%09%09if(deep)%20%7B%0D%0A%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09this.sort(obj.children_d%5Bi%5D%2C%20false)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20include%20the%20sort%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22sort%22)%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20State%20plugin%0D%0A%20*%0D%0A%20*%20Saves%20the%20state%20of%20the%20tree%20(selected%20nodes%2C%20opened%20nodes)%20on%20the%20user's%20computer%20using%20available%20options%20(localStorage%2C%20cookies%2C%20etc)%0D%0A%20*%2F%0D%0A%0D%0A%09var%20to%20%3D%20false%3B%0D%0A%09%2F**%0D%0A%09%20*%20stores%20all%20defaults%20for%20the%20state%20plugin%0D%0A%09%20*%20%40name%20%24.jstree.defaults.state%0D%0A%09%20*%20%40plugin%20state%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.state%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20A%20string%20for%20the%20key%20to%20use%20when%20saving%20the%20current%20tree%20(change%20if%20using%20multiple%20trees%20in%20your%20project).%20Defaults%20to%20%60jstree%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.state.key%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09key%09%09%3A%20'jstree'%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20A%20space%20separated%20list%20of%20events%20that%20trigger%20a%20state%20save.%20Defaults%20to%20%60changed.jstree%20open_node.jstree%20close_node.jstree%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.state.events%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09events%09%3A%20'changed.jstree%20open_node.jstree%20close_node.jstree%20check_node.jstree%20uncheck_node.jstree'%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Time%20in%20milliseconds%20after%20which%20the%20state%20will%20expire.%20Defaults%20to%20'false'%20meaning%20-%20no%20expire.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.state.ttl%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09ttl%09%09%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20A%20function%20that%20will%20be%20executed%20prior%20to%20restoring%20state%20with%20one%20argument%20-%20the%20state%20object.%20Can%20be%20used%20to%20clear%20unwanted%20parts%20of%20the%20state.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.state.filter%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09filter%09%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Should%20loaded%20nodes%20be%20restored%20(setting%20this%20to%20true%20means%20that%20it%20is%20possible%20that%20the%20whole%20tree%20will%20be%20loaded%20for%20some%20users%20-%20use%20with%20caution).%20Defaults%20to%20%60false%60%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.state.preserve_loaded%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09preserve_loaded%20%3A%20false%0D%0A%09%7D%3B%0D%0A%09%24.jstree.plugins.state%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%09%09%09var%20bind%20%3D%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09this.element.on(this.settings.state.events%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09if(to)%20%7B%20clearTimeout(to)%3B%20%7D%0D%0A%09%09%09%09%09to%20%3D%20setTimeout(%24.proxy(function%20()%20%7B%20this.save_state()%3B%20%7D%2C%20this)%2C%20100)%3B%0D%0A%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09%09%2F**%0D%0A%09%09%09%09%20*%20triggered%20when%20the%20state%20plugin%20is%20finished%20restoring%20the%20state%20(and%20immediately%20after%20ready%20if%20there%20is%20no%20state%20to%20restore).%0D%0A%09%09%09%09%20*%20%40event%0D%0A%09%09%09%09%20*%20%40name%20state_ready.jstree%0D%0A%09%09%09%09%20*%20%40plugin%20state%0D%0A%09%09%09%09%20*%2F%0D%0A%09%09%09%09this.trigger('state_ready')%3B%0D%0A%09%09%09%7D%2C%20this)%3B%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on(%22ready.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09this.element.one(%22restore_state.jstree%22%2C%20bind)%3B%0D%0A%09%09%09%09%09%09if(!this.restore_state())%20%7B%20bind()%3B%20%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20save%20the%20state%0D%0A%09%09%20*%20%40name%20save_state()%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09this.save_state%20%3D%20function%20()%20%7B%0D%0A%09%09%09var%20tm%20%3D%20this.get_state()%3B%0D%0A%09%09%09if%20(!this.settings.state.preserve_loaded)%20%7B%0D%0A%09%09%09%09delete%20tm.core.loaded%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09var%20st%20%3D%20%7B%20'state'%20%3A%20tm%2C%20'ttl'%20%3A%20this.settings.state.ttl%2C%20'sec'%20%3A%20%2B(new%20Date())%20%7D%3B%0D%0A%09%09%09%24.vakata.storage.set(this.settings.state.key%2C%20JSON.stringify(st))%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20restore%20the%20state%20from%20the%20user's%20computer%0D%0A%09%09%20*%20%40name%20restore_state()%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09this.restore_state%20%3D%20function%20()%20%7B%0D%0A%09%09%09var%20k%20%3D%20%24.vakata.storage.get(this.settings.state.key)%3B%0D%0A%09%09%09if(!!k)%20%7B%20try%20%7B%20k%20%3D%20JSON.parse(k)%3B%20%7D%20catch(ex)%20%7B%20return%20false%3B%20%7D%20%7D%0D%0A%09%09%09if(!!k%20%26%26%20k.ttl%20%26%26%20k.sec%20%26%26%20%2B(new%20Date())%20-%20k.sec%20%3E%20k.ttl)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(!!k%20%26%26%20k.state)%20%7B%20k%20%3D%20k.state%3B%20%7D%0D%0A%09%09%09if(!!k%20%26%26%20%24.isFunction(this.settings.state.filter))%20%7B%20k%20%3D%20this.settings.state.filter.call(this%2C%20k)%3B%20%7D%0D%0A%09%09%09if(!!k)%20%7B%0D%0A%09%09%09%09if%20(!this.settings.state.preserve_loaded)%20%7B%0D%0A%09%09%09%09%09delete%20k.core.loaded%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09this.element.one(%22set_state.jstree%22%2C%20function%20(e%2C%20data)%20%7B%20data.instance.trigger('restore_state'%2C%20%7B%20'state'%20%3A%20%24.extend(true%2C%20%7B%7D%2C%20k)%20%7D)%3B%20%7D)%3B%0D%0A%09%09%09%09this.set_state(k)%3B%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20false%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20clear%20the%20state%20on%20the%20user's%20computer%0D%0A%09%09%20*%20%40name%20clear_state()%0D%0A%09%09%20*%20%40plugin%20state%0D%0A%09%09%20*%2F%0D%0A%09%09this.clear_state%20%3D%20function%20()%20%7B%0D%0A%09%09%09return%20%24.vakata.storage.del(this.settings.state.key)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09(function%20(%24%2C%20undefined)%20%7B%0D%0A%09%09%24.vakata.storage%20%3D%20%7B%0D%0A%09%09%09%2F%2F%20simply%20specifying%20the%20functions%20in%20FF%20throws%20an%20error%0D%0A%09%09%09set%20%3A%20function%20(key%2C%20val)%20%7B%20return%20window.localStorage.setItem(key%2C%20val)%3B%20%7D%2C%0D%0A%09%09%09get%20%3A%20function%20(key)%20%7B%20return%20window.localStorage.getItem(key)%3B%20%7D%2C%0D%0A%09%09%09del%20%3A%20function%20(key)%20%7B%20return%20window.localStorage.removeItem(key)%3B%20%7D%0D%0A%09%09%7D%3B%0D%0A%09%7D(%24))%3B%0D%0A%0D%0A%09%2F%2F%20include%20the%20state%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22state%22)%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Types%20plugin%0D%0A%20*%0D%0A%20*%20Makes%20it%20possible%20to%20add%20predefined%20types%20for%20groups%20of%20nodes%2C%20which%20make%20it%20possible%20to%20easily%20control%20nesting%20rules%20and%20icon%20for%20each%20group.%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20An%20object%20storing%20all%20types%20as%20key%20value%20pairs%2C%20where%20the%20key%20is%20the%20type%20name%20and%20the%20value%20is%20an%20object%20that%20could%20contain%20following%20keys%20(all%20optional).%0D%0A%09%20*%0D%0A%09%20*%20*%20%60max_children%60%20the%20maximum%20number%20of%20immediate%20children%20this%20node%20type%20can%20have.%20Do%20not%20specify%20or%20set%20to%20%60-1%60%20for%20unlimited.%0D%0A%09%20*%20*%20%60max_depth%60%20the%20maximum%20number%20of%20nesting%20this%20node%20type%20can%20have.%20A%20value%20of%20%601%60%20would%20mean%20that%20the%20node%20can%20have%20children%2C%20but%20no%20grandchildren.%20Do%20not%20specify%20or%20set%20to%20%60-1%60%20for%20unlimited.%0D%0A%09%20*%20*%20%60valid_children%60%20an%20array%20of%20node%20type%20strings%2C%20that%20nodes%20of%20this%20type%20can%20have%20as%20children.%20Do%20not%20specify%20or%20set%20to%20%60-1%60%20for%20no%20limits.%0D%0A%09%20*%20*%20%60icon%60%20a%20string%20-%20can%20be%20a%20path%20to%20an%20icon%20or%20a%20className%2C%20if%20using%20an%20image%20that%20is%20in%20the%20current%20directory%20use%20a%20%60.%2F%60%20prefix%2C%20otherwise%20it%20will%20be%20detected%20as%20a%20class.%20Omit%20to%20use%20the%20default%20icon%20from%20your%20theme.%0D%0A%09%20*%20*%20%60li_attr%60%20an%20object%20of%20values%20which%20will%20be%20used%20to%20add%20HTML%20attributes%20on%20the%20resulting%20LI%20DOM%20node%20(merged%20with%20the%20node's%20own%20data)%0D%0A%09%20*%20*%20%60a_attr%60%20an%20object%20of%20values%20which%20will%20be%20used%20to%20add%20HTML%20attributes%20on%20the%20resulting%20A%20DOM%20node%20(merged%20with%20the%20node's%20own%20data)%0D%0A%09%20*%0D%0A%09%20*%20There%20are%20two%20predefined%20types%3A%0D%0A%09%20*%0D%0A%09%20*%20*%20%60%23%60%20represents%20the%20root%20of%20the%20tree%2C%20for%20example%20%60max_children%60%20would%20control%20the%20maximum%20number%20of%20root%20nodes.%0D%0A%09%20*%20*%20%60default%60%20represents%20the%20default%20node%20-%20any%20settings%20here%20will%20be%20applied%20to%20all%20nodes%20that%20do%20not%20have%20a%20type%20specified.%0D%0A%09%20*%0D%0A%09%20*%20%40name%20%24.jstree.defaults.types%0D%0A%09%20*%20%40plugin%20types%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.types%20%3D%20%7B%0D%0A%09%09'default'%20%3A%20%7B%7D%0D%0A%09%7D%3B%0D%0A%09%24.jstree.defaults.types%5B%24.jstree.root%5D%20%3D%20%7B%7D%3B%0D%0A%0D%0A%09%24.jstree.plugins.types%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.init%20%3D%20function%20(el%2C%20options)%20%7B%0D%0A%09%09%09var%20i%2C%20j%3B%0D%0A%09%09%09if(options%20%26%26%20options.types%20%26%26%20options.types%5B'default'%5D)%20%7B%0D%0A%09%09%09%09for(i%20in%20options.types)%20%7B%0D%0A%09%09%09%09%09if(i%20!%3D%3D%20%22default%22%20%26%26%20i%20!%3D%3D%20%24.jstree.root%20%26%26%20options.types.hasOwnProperty(i))%20%7B%0D%0A%09%09%09%09%09%09for(j%20in%20options.types%5B'default'%5D)%20%7B%0D%0A%09%09%09%09%09%09%09if(options.types%5B'default'%5D.hasOwnProperty(j)%20%26%26%20options.types%5Bi%5D%5Bj%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09%09options.types%5Bi%5D%5Bj%5D%20%3D%20options.types%5B'default'%5D%5Bj%5D%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09parent.init.call(this%2C%20el%2C%20options)%3B%0D%0A%09%09%09this._model.data%5B%24.jstree.root%5D.type%20%3D%20%24.jstree.root%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.refresh%20%3D%20function%20(skip_loading%2C%20forget_state)%20%7B%0D%0A%09%09%09parent.refresh.call(this%2C%20skip_loading%2C%20forget_state)%3B%0D%0A%09%09%09this._model.data%5B%24.jstree.root%5D.type%20%3D%20%24.jstree.root%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on('model.jstree'%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09var%20m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09%09%09%09dpc%20%3D%20data.nodes%2C%0D%0A%09%09%09%09%09%09%09t%20%3D%20this.settings.types%2C%0D%0A%09%09%09%09%09%09%09i%2C%20j%2C%20c%20%3D%20'default'%2C%20k%3B%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20dpc.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09c%20%3D%20'default'%3B%0D%0A%09%09%09%09%09%09%09if(m%5Bdpc%5Bi%5D%5D.original%20%26%26%20m%5Bdpc%5Bi%5D%5D.original.type%20%26%26%20t%5Bm%5Bdpc%5Bi%5D%5D.original.type%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09c%20%3D%20m%5Bdpc%5Bi%5D%5D.original.type%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(m%5Bdpc%5Bi%5D%5D.data%20%26%26%20m%5Bdpc%5Bi%5D%5D.data.jstree%20%26%26%20m%5Bdpc%5Bi%5D%5D.data.jstree.type%20%26%26%20t%5Bm%5Bdpc%5Bi%5D%5D.data.jstree.type%5D)%20%7B%0D%0A%09%09%09%09%09%09%09%09c%20%3D%20m%5Bdpc%5Bi%5D%5D.data.jstree.type%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.type%20%3D%20c%3B%0D%0A%09%09%09%09%09%09%09if(m%5Bdpc%5Bi%5D%5D.icon%20%3D%3D%3D%20true%20%26%26%20t%5Bc%5D.icon%20!%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.icon%20%3D%20t%5Bc%5D.icon%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(t%5Bc%5D.li_attr%20!%3D%3D%20undefined%20%26%26%20typeof%20t%5Bc%5D.li_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(k%20in%20t%5Bc%5D.li_attr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if%20(t%5Bc%5D.li_attr.hasOwnProperty(k))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'id')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09else%20if%20(m%5Bdpc%5Bi%5D%5D.li_attr%5Bk%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.li_attr%5Bk%5D%20%3D%20t%5Bc%5D.li_attr%5Bk%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.li_attr%5B'class'%5D%20%3D%20t%5Bc%5D.li_attr%5B'class'%5D%20%2B%20'%20'%20%2B%20m%5Bdpc%5Bi%5D%5D.li_attr%5B'class'%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09if(t%5Bc%5D.a_attr%20!%3D%3D%20undefined%20%26%26%20typeof%20t%5Bc%5D.a_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09%09%09%09%09for%20(k%20in%20t%5Bc%5D.a_attr)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if%20(t%5Bc%5D.a_attr.hasOwnProperty(k))%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'id')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09else%20if%20(m%5Bdpc%5Bi%5D%5D.a_attr%5Bk%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.a_attr%5Bk%5D%20%3D%20t%5Bc%5D.a_attr%5Bk%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'href'%20%26%26%20m%5Bdpc%5Bi%5D%5D.a_attr%5Bk%5D%20%3D%3D%3D%20'%23')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.a_attr%5B'href'%5D%20%3D%20t%5Bc%5D.a_attr%5B'href'%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%09m%5Bdpc%5Bi%5D%5D.a_attr%5B'class'%5D%20%3D%20t%5Bc%5D.a_attr%5B'class'%5D%20%2B%20'%20'%20%2B%20m%5Bdpc%5Bi%5D%5D.a_attr%5B'class'%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09m%5B%24.jstree.root%5D.type%20%3D%20%24.jstree.root%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.get_json%20%3D%20function%20(obj%2C%20options%2C%20flat)%20%7B%0D%0A%09%09%09var%20i%2C%20j%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%0D%0A%09%09%09%09opt%20%3D%20options%20%3F%20%24.extend(true%2C%20%7B%7D%2C%20options%2C%20%7Bno_id%3Afalse%7D)%20%3A%20%7B%7D%2C%0D%0A%09%09%09%09tmp%20%3D%20parent.get_json.call(this%2C%20obj%2C%20opt%2C%20flat)%3B%0D%0A%09%09%09if(tmp%20%3D%3D%3D%20false)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09if(%24.isArray(tmp))%20%7B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09tmp%5Bi%5D.type%20%3D%20tmp%5Bi%5D.id%20%26%26%20m%5Btmp%5Bi%5D.id%5D%20%26%26%20m%5Btmp%5Bi%5D.id%5D.type%20%3F%20m%5Btmp%5Bi%5D.id%5D.type%20%3A%20%22default%22%3B%0D%0A%09%09%09%09%09if(options%20%26%26%20options.no_id)%20%7B%0D%0A%09%09%09%09%09%09delete%20tmp%5Bi%5D.id%3B%0D%0A%09%09%09%09%09%09if(tmp%5Bi%5D.li_attr%20%26%26%20tmp%5Bi%5D.li_attr.id)%20%7B%0D%0A%09%09%09%09%09%09%09delete%20tmp%5Bi%5D.li_attr.id%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(tmp%5Bi%5D.a_attr%20%26%26%20tmp%5Bi%5D.a_attr.id)%20%7B%0D%0A%09%09%09%09%09%09%09delete%20tmp%5Bi%5D.a_attr.id%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09tmp.type%20%3D%20tmp.id%20%26%26%20m%5Btmp.id%5D%20%26%26%20m%5Btmp.id%5D.type%20%3F%20m%5Btmp.id%5D.type%20%3A%20%22default%22%3B%0D%0A%09%09%09%09if(options%20%26%26%20options.no_id)%20%7B%0D%0A%09%09%09%09%09tmp%20%3D%20this._delete_ids(tmp)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20tmp%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this._delete_ids%20%3D%20function%20(tmp)%20%7B%0D%0A%09%09%09if(%24.isArray(tmp))%20%7B%0D%0A%09%09%09%09for(var%20i%20%3D%200%2C%20j%20%3D%20tmp.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09tmp%5Bi%5D%20%3D%20this._delete_ids(tmp%5Bi%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20tmp%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09delete%20tmp.id%3B%0D%0A%09%09%09if(tmp.li_attr%20%26%26%20tmp.li_attr.id)%20%7B%0D%0A%09%09%09%09delete%20tmp.li_attr.id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(tmp.a_attr%20%26%26%20tmp.a_attr.id)%20%7B%0D%0A%09%09%09%09delete%20tmp.a_attr.id%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(tmp.children%20%26%26%20%24.isArray(tmp.children))%20%7B%0D%0A%09%09%09%09tmp.children%20%3D%20this._delete_ids(tmp.children)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20tmp%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.check%20%3D%20function%20(chk%2C%20obj%2C%20par%2C%20pos%2C%20more)%20%7B%0D%0A%09%09%09if(parent.check.call(this%2C%20chk%2C%20obj%2C%20par%2C%20pos%2C%20more)%20%3D%3D%3D%20false)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09obj%20%3D%20obj%20%26%26%20obj.id%20%3F%20obj%20%3A%20this.get_node(obj)%3B%0D%0A%09%09%09par%20%3D%20par%20%26%26%20par.id%20%3F%20par%20%3A%20this.get_node(par)%3B%0D%0A%09%09%09var%20m%20%3D%20obj%20%26%26%20obj.id%20%3F%20(more%20%26%26%20more.origin%20%3F%20more.origin%20%3A%20%24.jstree.reference(obj.id))%20%3A%20null%2C%20tmp%2C%20d%2C%20i%2C%20j%3B%0D%0A%09%09%09m%20%3D%20m%20%26%26%20m._model%20%26%26%20m._model.data%20%3F%20m._model.data%20%3A%20null%3B%0D%0A%09%09%09switch(chk)%20%7B%0D%0A%09%09%09%09case%20%22create_node%22%3A%0D%0A%09%09%09%09case%20%22move_node%22%3A%0D%0A%09%09%09%09case%20%22copy_node%22%3A%0D%0A%09%09%09%09%09if(chk%20!%3D%3D%20'move_node'%20%7C%7C%20%24.inArray(obj.id%2C%20par.children)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09tmp%20%3D%20this.get_rules(par)%3B%0D%0A%09%09%09%09%09%09if(tmp.max_children%20!%3D%3D%20undefined%20%26%26%20tmp.max_children%20!%3D%3D%20-1%20%26%26%20tmp.max_children%20%3D%3D%3D%20par.children.length)%20%7B%0D%0A%09%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'types'%2C%20'id'%20%3A%20'types_01'%2C%20'reason'%20%3A%20'max_children%20prevents%20function%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(tmp.valid_children%20!%3D%3D%20undefined%20%26%26%20tmp.valid_children%20!%3D%3D%20-1%20%26%26%20%24.inArray((obj.type%20%7C%7C%20'default')%2C%20tmp.valid_children)%20%3D%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'types'%2C%20'id'%20%3A%20'types_02'%2C%20'reason'%20%3A%20'valid_children%20prevents%20function%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(m%20%26%26%20obj.children_d%20%26%26%20obj.parents)%20%7B%0D%0A%09%09%09%09%09%09%09d%20%3D%200%3B%0D%0A%09%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20obj.children_d.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09%09d%20%3D%20Math.max(d%2C%20m%5Bobj.children_d%5Bi%5D%5D.parents.length)%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09d%20%3D%20d%20-%20obj.parents.length%20%2B%201%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if(d%20%3C%3D%200%20%7C%7C%20d%20%3D%3D%3D%20undefined)%20%7B%20d%20%3D%201%3B%20%7D%0D%0A%09%09%09%09%09%09do%20%7B%0D%0A%09%09%09%09%09%09%09if(tmp.max_depth%20!%3D%3D%20undefined%20%26%26%20tmp.max_depth%20!%3D%3D%20-1%20%26%26%20tmp.max_depth%20%3C%20d)%20%7B%0D%0A%09%09%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'types'%2C%20'id'%20%3A%20'types_03'%2C%20'reason'%20%3A%20'max_depth%20prevents%20function%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09par%20%3D%20this.get_node(par.parent)%3B%0D%0A%09%09%09%09%09%09%09tmp%20%3D%20this.get_rules(par)%3B%0D%0A%09%09%09%09%09%09%09d%2B%2B%3B%0D%0A%09%09%09%09%09%09%7D%20while(par)%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20used%20to%20retrieve%20the%20type%20settings%20object%20for%20a%20node%0D%0A%09%09%20*%20%40name%20get_rules(obj)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20find%20the%20rules%20for%0D%0A%09%09%20*%20%40return%20%7BObject%7D%0D%0A%09%09%20*%20%40plugin%20types%0D%0A%09%09%20*%2F%0D%0A%09%09this.get_rules%20%3D%20function%20(obj)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09var%20tmp%20%3D%20this.get_type(obj%2C%20true)%3B%0D%0A%09%09%09if(tmp.max_depth%20%3D%3D%3D%20undefined)%20%7B%20tmp.max_depth%20%3D%20-1%3B%20%7D%0D%0A%09%09%09if(tmp.max_children%20%3D%3D%3D%20undefined)%20%7B%20tmp.max_children%20%3D%20-1%3B%20%7D%0D%0A%09%09%09if(tmp.valid_children%20%3D%3D%3D%20undefined)%20%7B%20tmp.valid_children%20%3D%20-1%3B%20%7D%0D%0A%09%09%09return%20tmp%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20used%20to%20retrieve%20the%20type%20string%20or%20settings%20object%20for%20a%20node%0D%0A%09%09%20*%20%40name%20get_type(obj%20%5B%2C%20rules%5D)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20find%20the%20rules%20for%0D%0A%09%09%20*%20%40param%20%7BBoolean%7D%20rules%20if%20set%20to%20%60true%60%20instead%20of%20a%20string%20the%20settings%20object%20will%20be%20returned%0D%0A%09%09%20*%20%40return%20%7BString%7CObject%7D%0D%0A%09%09%20*%20%40plugin%20types%0D%0A%09%09%20*%2F%0D%0A%09%09this.get_type%20%3D%20function%20(obj%2C%20rules)%20%7B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09return%20(!obj)%20%3F%20false%20%3A%20(%20rules%20%3F%20%24.extend(%7B%20'type'%20%3A%20obj.type%20%7D%2C%20this.settings.types%5Bobj.type%5D)%20%3A%20obj.type)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20used%20to%20change%20a%20node's%20type%0D%0A%09%09%20*%20%40name%20set_type(obj%2C%20type)%0D%0A%09%09%20*%20%40param%20%7Bmixed%7D%20obj%20the%20node%20to%20change%0D%0A%09%09%20*%20%40param%20%7BString%7D%20type%20the%20new%20type%0D%0A%09%09%20*%20%40plugin%20types%0D%0A%09%09%20*%2F%0D%0A%09%09this.set_type%20%3D%20function%20(obj%2C%20type)%20%7B%0D%0A%09%09%09var%20m%20%3D%20this._model.data%2C%20t%2C%20t1%2C%20t2%2C%20old_type%2C%20old_icon%2C%20k%2C%20d%2C%20a%3B%0D%0A%09%09%09if(%24.isArray(obj))%20%7B%0D%0A%09%09%09%09obj%20%3D%20obj.slice()%3B%0D%0A%09%09%09%09for(t1%20%3D%200%2C%20t2%20%3D%20obj.length%3B%20t1%20%3C%20t2%3B%20t1%2B%2B)%20%7B%0D%0A%09%09%09%09%09this.set_type(obj%5Bt1%5D%2C%20type)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20true%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09t%20%3D%20this.settings.types%3B%0D%0A%09%09%09obj%20%3D%20this.get_node(obj)%3B%0D%0A%09%09%09if(!t%5Btype%5D%20%7C%7C%20!obj)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09d%20%3D%20this.get_node(obj%2C%20true)%3B%0D%0A%09%09%09if%20(d%20%26%26%20d.length)%20%7B%0D%0A%09%09%09%09a%20%3D%20d.children('.jstree-anchor')%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09old_type%20%3D%20obj.type%3B%0D%0A%09%09%09old_icon%20%3D%20this.get_icon(obj)%3B%0D%0A%09%09%09obj.type%20%3D%20type%3B%0D%0A%09%09%09if(old_icon%20%3D%3D%3D%20true%20%7C%7C%20!t%5Bold_type%5D%20%7C%7C%20(t%5Bold_type%5D.icon%20!%3D%3D%20undefined%20%26%26%20old_icon%20%3D%3D%3D%20t%5Bold_type%5D.icon))%20%7B%0D%0A%09%09%09%09this.set_icon(obj%2C%20t%5Btype%5D.icon%20!%3D%3D%20undefined%20%3F%20t%5Btype%5D.icon%20%3A%20true)%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20remove%20old%20type%20props%0D%0A%09%09%09if(t%5Bold_type%5D%20%26%26%20t%5Bold_type%5D.li_attr%20!%3D%3D%20undefined%20%26%26%20typeof%20t%5Bold_type%5D.li_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(k%20in%20t%5Bold_type%5D.li_attr)%20%7B%0D%0A%09%09%09%09%09if%20(t%5Bold_type%5D.li_attr.hasOwnProperty(k))%20%7B%0D%0A%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'id')%20%7B%0D%0A%09%09%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.li_attr%5B'class'%5D%20%3D%20(m%5Bobj.id%5D.li_attr%5B'class'%5D%20%7C%7C%20'').replace(t%5Bold_type%5D.li_attr%5Bk%5D%2C%20'')%3B%0D%0A%09%09%09%09%09%09%09if%20(d)%20%7B%20d.removeClass(t%5Bold_type%5D.li_attr%5Bk%5D)%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(m%5Bobj.id%5D.li_attr%5Bk%5D%20%3D%3D%3D%20t%5Bold_type%5D.li_attr%5Bk%5D)%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.li_attr%5Bk%5D%20%3D%20null%3B%0D%0A%09%09%09%09%09%09%09if%20(d)%20%7B%20d.removeAttr(k)%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(t%5Bold_type%5D%20%26%26%20t%5Bold_type%5D.a_attr%20!%3D%3D%20undefined%20%26%26%20typeof%20t%5Bold_type%5D.a_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(k%20in%20t%5Bold_type%5D.a_attr)%20%7B%0D%0A%09%09%09%09%09if%20(t%5Bold_type%5D.a_attr.hasOwnProperty(k))%20%7B%0D%0A%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'id')%20%7B%0D%0A%09%09%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.a_attr%5B'class'%5D%20%3D%20(m%5Bobj.id%5D.a_attr%5B'class'%5D%20%7C%7C%20'').replace(t%5Bold_type%5D.a_attr%5Bk%5D%2C%20'')%3B%0D%0A%09%09%09%09%09%09%09if%20(a)%20%7B%20a.removeClass(t%5Bold_type%5D.a_attr%5Bk%5D)%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(m%5Bobj.id%5D.a_attr%5Bk%5D%20%3D%3D%3D%20t%5Bold_type%5D.a_attr%5Bk%5D)%20%7B%0D%0A%09%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'href')%20%7B%0D%0A%09%09%09%09%09%09%09%09m%5Bobj.id%5D.a_attr%5Bk%5D%20%3D%20'%23'%3B%0D%0A%09%09%09%09%09%09%09%09if%20(a)%20%7B%20a.attr('href'%2C%20'%23')%3B%20%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09delete%20m%5Bobj.id%5D.a_attr%5Bk%5D%3B%0D%0A%09%09%09%09%09%09%09%09if%20(a)%20%7B%20a.removeAttr(k)%3B%20%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09%2F%2F%20add%20new%20props%0D%0A%09%09%09if(t%5Btype%5D.li_attr%20!%3D%3D%20undefined%20%26%26%20typeof%20t%5Btype%5D.li_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(k%20in%20t%5Btype%5D.li_attr)%20%7B%0D%0A%09%09%09%09%09if%20(t%5Btype%5D.li_attr.hasOwnProperty(k))%20%7B%0D%0A%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'id')%20%7B%0D%0A%09%09%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(m%5Bobj.id%5D.li_attr%5Bk%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.li_attr%5Bk%5D%20%3D%20t%5Btype%5D.li_attr%5Bk%5D%3B%0D%0A%09%09%09%09%09%09%09if%20(d)%20%7B%0D%0A%09%09%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09d.addClass(t%5Btype%5D.li_attr%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09d.attr(k%2C%20t%5Btype%5D.li_attr%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.li_attr%5B'class'%5D%20%3D%20t%5Btype%5D.li_attr%5Bk%5D%20%2B%20'%20'%20%2B%20m%5Bobj.id%5D.li_attr%5B'class'%5D%3B%0D%0A%09%09%09%09%09%09%09if%20(d)%20%7B%20d.addClass(t%5Btype%5D.li_attr%5Bk%5D)%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09if(t%5Btype%5D.a_attr%20!%3D%3D%20undefined%20%26%26%20typeof%20t%5Btype%5D.a_attr%20%3D%3D%3D%20'object')%20%7B%0D%0A%09%09%09%09for%20(k%20in%20t%5Btype%5D.a_attr)%20%7B%0D%0A%09%09%09%09%09if%20(t%5Btype%5D.a_attr.hasOwnProperty(k))%20%7B%0D%0A%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'id')%20%7B%0D%0A%09%09%09%09%09%09%09continue%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(m%5Bobj.id%5D.a_attr%5Bk%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.a_attr%5Bk%5D%20%3D%20t%5Btype%5D.a_attr%5Bk%5D%3B%0D%0A%09%09%09%09%09%09%09if%20(a)%20%7B%0D%0A%09%09%09%09%09%09%09%09if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09a.addClass(t%5Btype%5D.a_attr%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09else%20%7B%0D%0A%09%09%09%09%09%09%09%09%09a.attr(k%2C%20t%5Btype%5D.a_attr%5Bk%5D)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'href'%20%26%26%20m%5Bobj.id%5D.a_attr%5Bk%5D%20%3D%3D%3D%20'%23')%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.a_attr%5B'href'%5D%20%3D%20t%5Btype%5D.a_attr%5B'href'%5D%3B%0D%0A%09%09%09%09%09%09%09if%20(a)%20%7B%20a.attr('href'%2C%20t%5Btype%5D.a_attr%5B'href'%5D)%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09else%20if%20(k%20%3D%3D%3D%20'class')%20%7B%0D%0A%09%09%09%09%09%09%09m%5Bobj.id%5D.a_attr%5B'class'%5D%20%3D%20t%5Btype%5D.a_attr%5B'class'%5D%20%2B%20'%20'%20%2B%20m%5Bobj.id%5D.a_attr%5B'class'%5D%3B%0D%0A%09%09%09%09%09%09%09if%20(a)%20%7B%20a.addClass(t%5Btype%5D.a_attr%5Bk%5D)%3B%20%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%09%2F%2F%20include%20the%20types%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22types%22)%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Unique%20plugin%0D%0A%20*%0D%0A%20*%20Enforces%20that%20no%20nodes%20with%20the%20same%20name%20can%20coexist%20as%20siblings.%0D%0A%20*%2F%0D%0A%0D%0A%09%2F**%0D%0A%09%20*%20stores%20all%20defaults%20for%20the%20unique%20plugin%0D%0A%09%20*%20%40name%20%24.jstree.defaults.unique%0D%0A%09%20*%20%40plugin%20unique%0D%0A%09%20*%2F%0D%0A%09%24.jstree.defaults.unique%20%3D%20%7B%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20the%20comparison%20should%20be%20case%20sensitive.%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.unique.case_sensitive%0D%0A%09%09%20*%20%40plugin%20unique%0D%0A%09%09%20*%2F%0D%0A%09%09case_sensitive%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20Indicates%20if%20white%20space%20should%20be%20trimmed%20before%20the%20comparison.%20Default%20is%20%60false%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.unique.trim_whitespace%0D%0A%09%09%20*%20%40plugin%20unique%0D%0A%09%09%20*%2F%0D%0A%09%09trim_whitespace%20%3A%20false%2C%0D%0A%09%09%2F**%0D%0A%09%09%20*%20A%20callback%20executed%20in%20the%20instance's%20scope%20when%20a%20new%20node%20is%20created%20and%20the%20name%20is%20already%20taken%2C%20the%20two%20arguments%20are%20the%20conflicting%20name%20and%20the%20counter.%20The%20default%20will%20produce%20results%20like%20%60New%20node%20(2)%60.%0D%0A%09%09%20*%20%40name%20%24.jstree.defaults.unique.duplicate%0D%0A%09%09%20*%20%40plugin%20unique%0D%0A%09%09%20*%2F%0D%0A%09%09duplicate%20%3A%20function%20(name%2C%20counter)%20%7B%0D%0A%09%09%09return%20name%20%2B%20'%20('%20%2B%20counter%20%2B%20')'%3B%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%0D%0A%09%24.jstree.plugins.unique%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.check%20%3D%20function%20(chk%2C%20obj%2C%20par%2C%20pos%2C%20more)%20%7B%0D%0A%09%09%09if(parent.check.call(this%2C%20chk%2C%20obj%2C%20par%2C%20pos%2C%20more)%20%3D%3D%3D%20false)%20%7B%20return%20false%3B%20%7D%0D%0A%09%09%09obj%20%3D%20obj%20%26%26%20obj.id%20%3F%20obj%20%3A%20this.get_node(obj)%3B%0D%0A%09%09%09par%20%3D%20par%20%26%26%20par.id%20%3F%20par%20%3A%20this.get_node(par)%3B%0D%0A%09%09%09if(!par%20%7C%7C%20!par.children)%20%7B%20return%20true%3B%20%7D%0D%0A%09%09%09var%20n%20%3D%20chk%20%3D%3D%3D%20%22rename_node%22%20%3F%20pos%20%3A%20obj.text%2C%0D%0A%09%09%09%09c%20%3D%20%5B%5D%2C%0D%0A%09%09%09%09s%20%3D%20this.settings.unique.case_sensitive%2C%0D%0A%09%09%09%09w%20%3D%20this.settings.unique.trim_whitespace%2C%0D%0A%09%09%09%09m%20%3D%20this._model.data%2C%20i%2C%20j%2C%20t%3B%0D%0A%09%09%09for(i%20%3D%200%2C%20j%20%3D%20par.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09t%20%3D%20m%5Bpar.children%5Bi%5D%5D.text%3B%0D%0A%09%09%09%09if%20(!s)%20%7B%0D%0A%09%09%09%09%09t%20%3D%20t.toLowerCase()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(w)%20%7B%0D%0A%09%09%09%09%09t%20%3D%20t.replace(%2F%5E%5B%5Cs%5CuFEFF%5CxA0%5D%2B%7C%5B%5Cs%5CuFEFF%5CxA0%5D%2B%24%2Fg%2C%20'')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09c.push(t)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if(!s)%20%7B%20n%20%3D%20n.toLowerCase()%3B%20%7D%0D%0A%09%09%09if%20(w)%20%7B%20n%20%3D%20n.replace(%2F%5E%5B%5Cs%5CuFEFF%5CxA0%5D%2B%7C%5B%5Cs%5CuFEFF%5CxA0%5D%2B%24%2Fg%2C%20'')%3B%20%7D%0D%0A%09%09%09switch(chk)%20%7B%0D%0A%09%09%09%09case%20%22delete_node%22%3A%0D%0A%09%09%09%09%09return%20true%3B%0D%0A%09%09%09%09case%20%22rename_node%22%3A%0D%0A%09%09%09%09%09t%20%3D%20obj.text%20%7C%7C%20''%3B%0D%0A%09%09%09%09%09if%20(!s)%20%7B%0D%0A%09%09%09%09%09%09t%20%3D%20t.toLowerCase()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(w)%20%7B%0D%0A%09%09%09%09%09%09t%20%3D%20t.replace(%2F%5E%5B%5Cs%5CuFEFF%5CxA0%5D%2B%7C%5B%5Cs%5CuFEFF%5CxA0%5D%2B%24%2Fg%2C%20'')%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09i%20%3D%20(%24.inArray(n%2C%20c)%20%3D%3D%3D%20-1%20%7C%7C%20(obj.text%20%26%26%20t%20%3D%3D%3D%20n))%3B%0D%0A%09%09%09%09%09if(!i)%20%7B%0D%0A%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'unique'%2C%20'id'%20%3A%20'unique_01'%2C%20'reason'%20%3A%20'Child%20with%20name%20'%20%2B%20n%20%2B%20'%20already%20exists.%20Preventing%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20i%3B%0D%0A%09%09%09%09case%20%22create_node%22%3A%0D%0A%09%09%09%09%09i%20%3D%20(%24.inArray(n%2C%20c)%20%3D%3D%3D%20-1)%3B%0D%0A%09%09%09%09%09if(!i)%20%7B%0D%0A%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'unique'%2C%20'id'%20%3A%20'unique_04'%2C%20'reason'%20%3A%20'Child%20with%20name%20'%20%2B%20n%20%2B%20'%20already%20exists.%20Preventing%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20i%3B%0D%0A%09%09%09%09case%20%22copy_node%22%3A%0D%0A%09%09%09%09%09i%20%3D%20(%24.inArray(n%2C%20c)%20%3D%3D%3D%20-1)%3B%0D%0A%09%09%09%09%09if(!i)%20%7B%0D%0A%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'unique'%2C%20'id'%20%3A%20'unique_02'%2C%20'reason'%20%3A%20'Child%20with%20name%20'%20%2B%20n%20%2B%20'%20already%20exists.%20Preventing%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20i%3B%0D%0A%09%09%09%09case%20%22move_node%22%3A%0D%0A%09%09%09%09%09i%20%3D%20(%20(obj.parent%20%3D%3D%3D%20par.id%20%26%26%20(!more%20%7C%7C%20!more.is_multi))%20%7C%7C%20%24.inArray(n%2C%20c)%20%3D%3D%3D%20-1)%3B%0D%0A%09%09%09%09%09if(!i)%20%7B%0D%0A%09%09%09%09%09%09this._data.core.last_error%20%3D%20%7B%20'error'%20%3A%20'check'%2C%20'plugin'%20%3A%20'unique'%2C%20'id'%20%3A%20'unique_03'%2C%20'reason'%20%3A%20'Child%20with%20name%20'%20%2B%20n%20%2B%20'%20already%20exists.%20Preventing%3A%20'%20%2B%20chk%2C%20'data'%20%3A%20JSON.stringify(%7B%20'chk'%20%3A%20chk%2C%20'pos'%20%3A%20pos%2C%20'obj'%20%3A%20obj%20%26%26%20obj.id%20%3F%20obj.id%20%3A%20false%2C%20'par'%20%3A%20par%20%26%26%20par.id%20%3F%20par.id%20%3A%20false%20%7D)%20%7D%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09return%20i%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20true%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.create_node%20%3D%20function%20(par%2C%20node%2C%20pos%2C%20callback%2C%20is_loaded)%20%7B%0D%0A%09%09%09if(!node%20%7C%7C%20node.text%20%3D%3D%3D%20undefined)%20%7B%0D%0A%09%09%09%09if(par%20%3D%3D%3D%20null)%20%7B%0D%0A%09%09%09%09%09par%20%3D%20%24.jstree.root%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09par%20%3D%20this.get_node(par)%3B%0D%0A%09%09%09%09if(!par)%20%7B%0D%0A%09%09%09%09%09return%20parent.create_node.call(this%2C%20par%2C%20node%2C%20pos%2C%20callback%2C%20is_loaded)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09pos%20%3D%20pos%20%3D%3D%3D%20undefined%20%3F%20%22last%22%20%3A%20pos%3B%0D%0A%09%09%09%09if(!pos.toString().match(%2F%5E(before%7Cafter)%24%2F)%20%26%26%20!is_loaded%20%26%26%20!this.is_loaded(par))%20%7B%0D%0A%09%09%09%09%09return%20parent.create_node.call(this%2C%20par%2C%20node%2C%20pos%2C%20callback%2C%20is_loaded)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if(!node)%20%7B%20node%20%3D%20%7B%7D%3B%20%7D%0D%0A%09%09%09%09var%20tmp%2C%20n%2C%20dpc%2C%20i%2C%20j%2C%20m%20%3D%20this._model.data%2C%20s%20%3D%20this.settings.unique.case_sensitive%2C%20w%20%3D%20this.settings.unique.trim_whitespace%2C%20cb%20%3D%20this.settings.unique.duplicate%2C%20t%3B%0D%0A%09%09%09%09n%20%3D%20tmp%20%3D%20this.get_string('New%20node')%3B%0D%0A%09%09%09%09dpc%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20par.children.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09t%20%3D%20m%5Bpar.children%5Bi%5D%5D.text%3B%0D%0A%09%09%09%09%09if%20(!s)%20%7B%0D%0A%09%09%09%09%09%09t%20%3D%20t.toLowerCase()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(w)%20%7B%0D%0A%09%09%09%09%09%09t%20%3D%20t.replace(%2F%5E%5B%5Cs%5CuFEFF%5CxA0%5D%2B%7C%5B%5Cs%5CuFEFF%5CxA0%5D%2B%24%2Fg%2C%20'')%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09dpc.push(t)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09i%20%3D%201%3B%0D%0A%09%09%09%09t%20%3D%20n%3B%0D%0A%09%09%09%09if%20(!s)%20%7B%0D%0A%09%09%09%09%09t%20%3D%20t.toLowerCase()%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09if%20(w)%20%7B%0D%0A%09%09%09%09%09t%20%3D%20t.replace(%2F%5E%5B%5Cs%5CuFEFF%5CxA0%5D%2B%7C%5B%5Cs%5CuFEFF%5CxA0%5D%2B%24%2Fg%2C%20'')%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09while(%24.inArray(t%2C%20dpc)%20!%3D%3D%20-1)%20%7B%0D%0A%09%09%09%09%09n%20%3D%20cb.call(this%2C%20tmp%2C%20(%2B%2Bi)).toString()%3B%0D%0A%09%09%09%09%09t%20%3D%20n%3B%0D%0A%09%09%09%09%09if%20(!s)%20%7B%0D%0A%09%09%09%09%09%09t%20%3D%20t.toLowerCase()%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09if%20(w)%20%7B%0D%0A%09%09%09%09%09%09t%20%3D%20t.replace(%2F%5E%5B%5Cs%5CuFEFF%5CxA0%5D%2B%7C%5B%5Cs%5CuFEFF%5CxA0%5D%2B%24%2Fg%2C%20'')%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09node.text%20%3D%20n%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20parent.create_node.call(this%2C%20par%2C%20node%2C%20pos%2C%20callback%2C%20is_loaded)%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20include%20the%20unique%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22unique%22)%3B%0D%0A%0D%0A%0D%0A%2F**%0D%0A%20*%20%23%23%23%20Wholerow%20plugin%0D%0A%20*%0D%0A%20*%20Makes%20each%20node%20appear%20block%20level.%20Making%20selection%20easier.%20May%20cause%20slow%20down%20for%20large%20trees%20in%20old%20browsers.%0D%0A%20*%2F%0D%0A%0D%0A%09var%20div%20%3D%20document.createElement('DIV')%3B%0D%0A%09div.setAttribute('unselectable'%2C'on')%3B%0D%0A%09div.setAttribute('role'%2C'presentation')%3B%0D%0A%09div.className%20%3D%20'jstree-wholerow'%3B%0D%0A%09div.innerHTML%20%3D%20'%26%23160%3B'%3B%0D%0A%09%24.jstree.plugins.wholerow%20%3D%20function%20(options%2C%20parent)%20%7B%0D%0A%09%09this.bind%20%3D%20function%20()%20%7B%0D%0A%09%09%09parent.bind.call(this)%3B%0D%0A%0D%0A%09%09%09this.element%0D%0A%09%09%09%09.on('ready.jstree%20set_state.jstree'%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09this.hide_dots()%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22init.jstree%20loading.jstree%20ready.jstree%22%2C%20%24.proxy(function%20()%20%7B%0D%0A%09%09%09%09%09%09%2F%2Fdiv.style.height%20%3D%20this._data.core.li_height%20%2B%20'px'%3B%0D%0A%09%09%09%09%09%09this.get_container_ul().addClass('jstree-wholerow-ul')%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22deselect_all.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09this.element.find('.jstree-wholerow-clicked').removeClass('jstree-wholerow-clicked')%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22changed.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09this.element.find('.jstree-wholerow-clicked').removeClass('jstree-wholerow-clicked')%3B%0D%0A%09%09%09%09%09%09var%20tmp%20%3D%20false%2C%20i%2C%20j%3B%0D%0A%09%09%09%09%09%09for(i%20%3D%200%2C%20j%20%3D%20data.selected.length%3B%20i%20%3C%20j%3B%20i%2B%2B)%20%7B%0D%0A%09%09%09%09%09%09%09tmp%20%3D%20this.get_node(data.selected%5Bi%5D%2C%20true)%3B%0D%0A%09%09%09%09%09%09%09if(tmp%20%26%26%20tmp.length)%20%7B%0D%0A%09%09%09%09%09%09%09%09tmp.children('.jstree-wholerow').addClass('jstree-wholerow-clicked')%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22open_node.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09this.get_node(data.node%2C%20true).find('.jstree-clicked').parent().children('.jstree-wholerow').addClass('jstree-wholerow-clicked')%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22hover_node.jstree%20dehover_node.jstree%22%2C%20%24.proxy(function%20(e%2C%20data)%20%7B%0D%0A%09%09%09%09%09%09if(e.type%20%3D%3D%3D%20%22hover_node%22%20%26%26%20this.is_disabled(data.node))%20%7B%20return%3B%20%7D%0D%0A%09%09%09%09%09%09this.get_node(data.node%2C%20true).children('.jstree-wholerow')%5Be.type%20%3D%3D%3D%20%22hover_node%22%3F%22addClass%22%3A%22removeClass%22%5D('jstree-wholerow-hovered')%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22contextmenu.jstree%22%2C%20%22.jstree-wholerow%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if%20(this._data.contextmenu)%20%7B%0D%0A%09%09%09%09%09%09%09e.preventDefault()%3B%0D%0A%09%09%09%09%09%09%09var%20tmp%20%3D%20%24.Event('contextmenu'%2C%20%7B%20metaKey%20%3A%20e.metaKey%2C%20ctrlKey%20%3A%20e.ctrlKey%2C%20altKey%20%3A%20e.altKey%2C%20shiftKey%20%3A%20e.shiftKey%2C%20pageX%20%3A%20e.pageX%2C%20pageY%20%3A%20e.pageY%20%7D)%3B%0D%0A%09%09%09%09%09%09%09%24(e.currentTarget).closest(%22.jstree-node%22).children(%22.jstree-anchor%22).first().trigger(tmp)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09%2F*!%0D%0A%09%09%09%09.on(%22mousedown.jstree%20touchstart.jstree%22%2C%20%22.jstree-wholerow%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09if(e.target%20%3D%3D%3D%20e.currentTarget)%20%7B%0D%0A%09%09%09%09%09%09%09var%20a%20%3D%20%24(e.currentTarget).closest(%22.jstree-node%22).children(%22.jstree-anchor%22)%3B%0D%0A%09%09%09%09%09%09%09e.target%20%3D%20a%5B0%5D%3B%0D%0A%09%09%09%09%09%09%09a.trigger(e)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09*%2F%0D%0A%09%09%09%09.on(%22click.jstree%22%2C%20%22.jstree-wholerow%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09var%20tmp%20%3D%20%24.Event('click'%2C%20%7B%20metaKey%20%3A%20e.metaKey%2C%20ctrlKey%20%3A%20e.ctrlKey%2C%20altKey%20%3A%20e.altKey%2C%20shiftKey%20%3A%20e.shiftKey%20%7D)%3B%0D%0A%09%09%09%09%09%09%24(e.currentTarget).closest(%22.jstree-node%22).children(%22.jstree-anchor%22).first().trigger(tmp).focus()%3B%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09.on(%22dblclick.jstree%22%2C%20%22.jstree-wholerow%22%2C%20function%20(e)%20%7B%0D%0A%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09var%20tmp%20%3D%20%24.Event('dblclick'%2C%20%7B%20metaKey%20%3A%20e.metaKey%2C%20ctrlKey%20%3A%20e.ctrlKey%2C%20altKey%20%3A%20e.altKey%2C%20shiftKey%20%3A%20e.shiftKey%20%7D)%3B%0D%0A%09%09%09%09%09%09%24(e.currentTarget).closest(%22.jstree-node%22).children(%22.jstree-anchor%22).first().trigger(tmp).focus()%3B%0D%0A%09%09%09%09%09%7D)%0D%0A%09%09%09%09.on(%22click.jstree%22%2C%20%22.jstree-leaf%20%3E%20.jstree-ocl%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09var%20tmp%20%3D%20%24.Event('click'%2C%20%7B%20metaKey%20%3A%20e.metaKey%2C%20ctrlKey%20%3A%20e.ctrlKey%2C%20altKey%20%3A%20e.altKey%2C%20shiftKey%20%3A%20e.shiftKey%20%7D)%3B%0D%0A%09%09%09%09%09%09%24(e.currentTarget).closest(%22.jstree-node%22).children(%22.jstree-anchor%22).first().trigger(tmp).focus()%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22mouseover.jstree%22%2C%20%22.jstree-wholerow%2C%20.jstree-icon%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09e.stopImmediatePropagation()%3B%0D%0A%09%09%09%09%09%09if(!this.is_disabled(e.currentTarget))%20%7B%0D%0A%09%09%09%09%09%09%09this.hover_node(e.currentTarget)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09return%20false%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%0D%0A%09%09%09%09.on(%22mouseleave.jstree%22%2C%20%22.jstree-node%22%2C%20%24.proxy(function%20(e)%20%7B%0D%0A%09%09%09%09%09%09this.dehover_node(e.currentTarget)%3B%0D%0A%09%09%09%09%09%7D%2C%20this))%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.teardown%20%3D%20function%20()%20%7B%0D%0A%09%09%09if(this.settings.wholerow)%20%7B%0D%0A%09%09%09%09this.element.find(%22.jstree-wholerow%22).remove()%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09parent.teardown.call(this)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09this.redraw_node%20%3D%20function(obj%2C%20deep%2C%20callback%2C%20force_render)%20%7B%0D%0A%09%09%09obj%20%3D%20parent.redraw_node.apply(this%2C%20arguments)%3B%0D%0A%09%09%09if(obj)%20%7B%0D%0A%09%09%09%09var%20tmp%20%3D%20div.cloneNode(true)%3B%0D%0A%09%09%09%09%2F%2Ftmp.style.height%20%3D%20this._data.core.li_height%20%2B%20'px'%3B%0D%0A%09%09%09%09if(%24.inArray(obj.id%2C%20this._data.core.selected)%20!%3D%3D%20-1)%20%7B%20tmp.className%20%2B%3D%20'%20jstree-wholerow-clicked'%3B%20%7D%0D%0A%09%09%09%09if(this._data.core.focused%20%26%26%20this._data.core.focused%20%3D%3D%3D%20obj.id)%20%7B%20tmp.className%20%2B%3D%20'%20jstree-wholerow-hovered'%3B%20%7D%0D%0A%09%09%09%09obj.insertBefore(tmp%2C%20obj.childNodes%5B0%5D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20obj%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%3B%0D%0A%09%2F%2F%20include%20the%20wholerow%20plugin%20by%20default%0D%0A%09%2F%2F%20%24.jstree.defaults.plugins.push(%22wholerow%22)%3B%0D%0A%09if(window.customElements%20%26%26%20Object%20%26%26%20Object.create)%20%7B%0D%0A%09%09var%20proto%20%3D%20Object.create(HTMLElement.prototype)%3B%0D%0A%09%09proto.createdCallback%20%3D%20function%20()%20%7B%0D%0A%09%09%09var%20c%20%3D%20%7B%20core%20%3A%20%7B%7D%2C%20plugins%20%3A%20%5B%5D%20%7D%2C%20i%3B%0D%0A%09%09%09for(i%20in%20%24.jstree.plugins)%20%7B%0D%0A%09%09%09%09if(%24.jstree.plugins.hasOwnProperty(i)%20%26%26%20this.attributes%5Bi%5D)%20%7B%0D%0A%09%09%09%09%09c.plugins.push(i)%3B%0D%0A%09%09%09%09%09if(this.getAttribute(i)%20%26%26%20JSON.parse(this.getAttribute(i)))%20%7B%0D%0A%09%09%09%09%09%09c%5Bi%5D%20%3D%20JSON.parse(this.getAttribute(i))%3B%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09for(i%20in%20%24.jstree.defaults.core)%20%7B%0D%0A%09%09%09%09if(%24.jstree.defaults.core.hasOwnProperty(i)%20%26%26%20this.attributes%5Bi%5D)%20%7B%0D%0A%09%09%09%09%09c.core%5Bi%5D%20%3D%20JSON.parse(this.getAttribute(i))%20%7C%7C%20this.getAttribute(i)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09%24(this).jstree(c)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%2F%2F%20proto.attributeChangedCallback%20%3D%20function%20(name%2C%20previous%2C%20value)%20%7B%20%7D%3B%0D%0A%09%09try%20%7B%0D%0A%09%09%09window.customElements.define(%22vakata-jstree%22%2C%20function()%20%7B%7D%2C%20%7B%20prototype%3A%20proto%20%7D)%3B%0D%0A%09%09%7D%20catch%20(ignore)%20%7B%20%7D%0D%0A%09%7D%0D%0A%0D%0A%7D))%3B"></script>

<style id="savepage-cssvariables">
  :root {
    --savepage-url-3: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABgCAYAAABsS6soAAAAB3RJTUUH4wMcFwoNnFxwuQAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAABPaSURBVHja7Z0LdBRlmoaLEBGdlZ2dETjiqHOGi7MjoIIQYAVHOKsw47q4IzImIqg4CKsDqwgqCMiuIsTF0REXSICFpDFA7iCXABElBIyEBNJJUMiV3Eg6SXdunXTS/e7/VXclTRO8TVVXtut7znlPdVdX+q+qdD31/XXpliTmR3PbbbeC22cYfeDPH8MwDKMPeu+BjN4+Y2z488cwDMPog957IKO3zxgb/vwxDMMw+qD3Hsjo7TPGhj9/DMMwjD7ovQcyWvtRUVG9unvcE+hp86MVBac/QXc5c+zDzny5dxmqv9myQOt50fvzzzB+YeOmjYiOjnaZTCaXKXqnUwzbo3eaOqJN9HinS7yGaHrNZIL8WIT+RuX2lVB7Ts/8OD3z0E6Pd5rEOO3b/15Rs30FEp2ztfbb05Ir58D2eSynQEfvPZBR2qcNurCoCFabFfXWetTX16GOUlcPq7VOjLfBZhOPG2hoQ2VlpSwBNdu3ifduaW6BtV60L9q01Flgqa9BTV0Naq018jzR/DWLaWhaLdrvaG//1nyRn4bt59/F7tO7VW1fQRGgo65EDj2+VgVI0VqCen/+GcYvUMVVU22RRWex1MJSW4t6IRsbhcTU2CLLidLR7pCH6gvIisyS44i/uBmZZZ8jq/IEzpalw1xxElkVaci+dAJZl9JwRkyjlQDlZfeJIuZdX0Uh8sJy5NmPILnyr3h14xJtBOip8EiAV1WEntcMUQWuXLkSFL3nQ0/02gMpG5fee0Cl/WHDhmk2H3RsTXQrnRXl5aixWOTqjlJT4xGhqLyo6iMRKDJQW0Axn+x2WWosiMxbjn1163Cw7i/IbN6D7OZEZDUlILMpDp9Z/wfnWpORcGEzaqprIf5GVQEeyjmKt44twt7sWHn5vQVoOrUNH+a9jOTL67GjaDViitbhg7yF6LfolofU/F9QdectuE4B+ojPXpsuJ6ArQI/8DC9BPaANIuaTXT1ivZP8tBQgYYo2OcvLy1BZUYmSkhKUlpaiooIkWC0kYJFFWCtiVQRoU1uAu1zV1TVYf/pFbC77E3ZcXoRk6zs4YA3HAVs49tevw776tUiyrMEHGf+ByzU1qv5/3vr4bSzPmIlY62t4I+1p/G9KdKcAd39lQnjWi4gsXYi1uXOw5twzeDfnWYTGTIU0Z8AINf8PigBJbjSUn3sJUBGfvwSoO4sXL/a7BLdt24Y5c+bg+47XEj0rQPrwa3Gc54dA4psxM0x7AZqiO8qEAItLilFUVIzi4hKUlF4SEqzA5aoqIUKLvD5qPRWRtaFe1XWzSwiQpLYkNQyr86fjo9LZ2FQ2FxHl8xBRMQ+by19AZPlL+M+86Xj1aCiqL1eTAF1qtB383MCxfzxwL5bm/BYLz4zD6m9+hwWfTcO2Q2InmBGFl9MexQuZ9yDs+FDM/uIePJ8WgkejJuLtj9eq/j/xFiDFtyJUxGiIClDB3xIk0VF73rJTxs2ePVv/FeIHaOOmg9600Wtxtu/7oMjPPwI0OcvKylEs5EcnQwoKi2QRlpSWoEKMpy5htRCU3CW02bSoAHFZVICvHA7FspypWJY3FSvzpmFF/jS8mfewkNNkzM8YjT+k/hJzEqeJadUToDRr0PiJ22/H9M/645EjP8PklN54LO1mhCY/gGcPTcG01JswJknCmAQJ98VLGLvpDqTnf6XJzpFObHgLTnneXfVH2f7ejMDfHletWqVLFSh5JKin/JQ90I8d/lgUAVJo41+1eq1f2/eWn7cAtWpfVIAuqvZIerl5uSJf42JBoSzDYtElplRUVqCqyn1szGqVK0B1BCS5BUiCXXR4BqanDsLTJ4ZjTvpwzD5xF2al3ynkNAgP7P0JJiTciKcSHhLTVqvaBX7tg5UYtXkgQhKF4BLcspu07zpMSArC6FgJo3dLGCUyZsNgpOdlqH4MVIGER2JrvJjSrQBpvHe0FqDuFWB4eLhuxwEV8UkGqvwU9KwAlWN+vtF4eV0VQvQkvBxzLsw5ZuTmnkfBxQJRDRa6u8VCgnSMUDkxoHoFaLHgqfgpGBd/PULi+2BC4g1CeH0xIb4vxsb1xn0iY+OvQ2jcFPlkjZoCpGWJP7Ufv/no57g3RsLdOyWMNIlESxgRJWG4yIj3f4GjWWmaLD+hyO9y/lbUn90vC867IlSkR68rCegKUE/5KZAEjSY/oqccA/Tn8lKFl2M2IyfHHbMQYa4Y5uWdR2GBW4JFxSVyRUyXrKgtQFrfYTtmOAdHSBgS0QtDtki4c0svDI2UQOMGi+GQyCA8GTdZnlZtAZLUNiVvx+D3bsavt0oYutkT0fY/rvsljpw+Jq8D9/KrJ8BgSbqBhnQ8TxGgdxQJKs+LT/13ZwK6AuTLYPSjJ50F9tfy0oatyM87VA2ac80o8hwXpGglwNDtM5xDIkg6vWUJDhbDoRFB4nEQFDHSNFoJkJb3o8QtuGNNfwz+OBi/2hCMoW/fgcTj+zuX3b38KgrwxqABFBIgVXjegiPh0Xi9BMgYFKNUft7L6y1As2eYm5MrqsI8eZgrV4e5qgtAaV++3u6QSRZcqKgEn5KHTzipKqShPF4kKW2fJhdi03sqyx99ZA9Grx+BcetD8Gn64SvkR+tJzfZlAQYHP0iiUyo+5Y4PkpwiQG/xGaICZBh/oXT5lbs9mpvEsKkZTc3uYXNzs3wHCB0XbRfRQkBK17K7uzF878zQ4lY8RW4UOiH0acYRpGYf7xznHZpWzS6wrwC9o6cAGcYQKF8GQN3KbuLyHafllxFcYx6uaDvQvgzBcxxwGAmtu3AFyDCMYbmWGPWeL4ZhmICFK0CGYRiGYRijwRUgwzAMwzCM0eAKkGEYhmEYxmhwBcgwDMPoh957IaO3zxgX/uwxDMMw+qH3Xsjo7TPGhT97DMMwjH7ovRcyevuMceHPHsMwDKMfeu+FjN4+Y1z4s8cwDMPoh957IaO3rwdFe17oRbkUP1+O8lzv+TIaRvzsMQakcMtz+DFRs/2SPfO7ErfAWRL7YoeIo9Sd9pK4f3eV7FngUqbRtP3vETXb/y4WL1km/xzAqtVr8dRzi+QhZcbMMBZUoKP3XsgI7dPG3HgxHe0Nl6+O7epx9opcVQVAQqH3dbZa4KgtQltTORwN5Wi1laK14RIcjZVob6F5qYLTXitPS3+jdvv0o0/floz8VESdfwfxZ6JVbf+7oN8fUcRHv1pH4qPQOC3b1fuzzzB+gWTmqCsWKbkibinVXhESAQ3VF2AVMkuOI+niZmSVfY5zFSeQU3kS5sp0+XH2pePILD0uT0PTaiFA3+X3Xge7vopC5IXlyLMfQXLlXxEZOV11OZDQuosiPG8Ber+u9nz0SPz9W7XDhg3rEStW772Q0r5e699PFaDLXp4jb/D2yly5wmutyEMbSbG+Oxla1Bagq62uCBHmZdhXtxYHrO8jsyUWWc1JyG5JRrY9CSm2D5Hn+BRxFzbIslZbgKm5BxB++EUcS/1IXn5vCZpObcOHeS8j+fJ67ChajZiidfggbyH6LbrlITX/DySz7qCdDv0kKAkwIeGSLEBC6ypQ722vE+XnAP3ZJm2APUWCehPI678oYm6vwq1znSRAu5CevdzsjpCAvSoXbaJLKoug/pKXBFUWYOx8l722EO9n/Bmbyudhx+U/I9n6Ng7YwuXsl7MOe61rse7LBaoLMDFyJpZnzESs9TW8kfY0Tn6+qVN+6ambEZ71IiJLF2Jt7hysOfcM3s15FnNjHoQ0Z8AINf8XigCDxiZeFcLfAuwRKD9arccGSCtYbwnqvRcK9PXvFuDzjpbSbCE9M5oLv0QLybA8V64GW6vy4RBycniqQfdxwSqVBbjA2WK5gNdTw/BW/nRsKJuFjRVzEVExDxGVlPnYbVkmXvs9FqY8LuZHPQEGPzdwbNjBu7E057dYeGYcVn/zOyz4bBrSj21E2tFNeDntUbyQeQ/Cjg/F7C/uwfNpIZgRFYIDkU9q0gXuSQLUe9uTD37SxkclsF4bYE+QoF4YYf0LAQYVbftTa3PJGTSXn0NTwSk0FZ5Ey6WzsJedk6XYWiUqw8p8tFmoKirVRoA1X2Pp0VC8nvMw3sx/CCvPT8WK89OwIv9hvJH7z5iXMQqPpPZHWNxkIcAS9SrAWYPGT95xK6Z/1h+PHPkZJqf0xmNpNyM0+QE8e2gKpqXehDFJEsYkSLgvXsKEjYPw1dfHNTkJ0tMEqCu0sJWVlZ1noPTcANXYCJW9yY8d/q380PbUXv8/tH211/+1EALsXbhtXmtL8Wkhv5Ow5R9G44WjaCw4geYiUQ2WuStDuXssRCgfD3QL0KVK+3te6FW6Rwiw+mssPvxH/FvqbZiTPhzPnhqBZ04Nx+yTd+FfUgcgJLEP7kvojdC4KfI8qCkg08ePY8zG/qINCWMT3LKbtO86TEgKwuhYCaN3SxglMn7D7cjMOSofBjCCAA1fAXYXXVeInzHC+qcKsHDb80KAZ9B4MQ22nIOwmg+h8WshwotfoLn4lKgEs4UIzXKXmLqf7bZK1QRIlJAALQWYlTQVIfF9hYT6YpwYhiTcgLHxQnxxvUX1FSTSG0/Gqi9Aeq+9GQkY+dFPcW+MhLt3ShhpEomWMCJKwnCR0X+5BaeyUzpPCBlBgD0CvY5BMW4Cff3LAtz6fFvLpSxR+R1B/bkDqD97ANac/Wi4cFge11SQLirCU+4TIyJ0GUrhlrmqngRptRThqR0zXUMjgjAkQpIzOLJrODjCnSdjJ2siQJJa4qH1uPO9n+LXWyUM3eyJaPPu8Nvw5elkr+XXVoDXgi6INlQFqKDHWUimi0Be/3QSpGjLXCed+HDL71M5dWf3i6GIEGHjN4fRcPGEfLG0IgC1rwOkS27CdjzhHCILsBfkYaRnGNElwNDtM5xaCZCWNyb+XQxZ8w8Y/HEwfrUhGHe98wscO7ZDXnbv5dfqQuhrXQtIUQRIPQHvcVrMR48jUDfA/y8E8voX1ZyLNmyq/ApPx4jsQsGZXag3CyGeOygkeNAjx/2dd4xocSeI6ZBJCO4JZ9iOGc5QipBd2HYaPiE/piSl7VP9GBy9F71n48UUOcmHNmLs+t/ggfWjcCJtZ2flp0SrY4BEUVExfOMtP8rKlQfl6k85RKPFfBA9pgJkGC1R7gSh28yc9hr5Oj952FLjHop0OOhkkEOzO0F8Lz6+VpRb8dQWoFLdUVrKzTh2ei++PJtylfwoNK0/b4Uj2ZH0KCRC5TGNp96Jv+aDYQIS5csNur/xf0G3XwQQSF9GoHf73wVVvb5dYeX4H1WBWrXLFSDDMAzDMIzR4AqQYRiGYRjGaHAFyDAMwzAMYzS4AmQYhmEYhjEaXAEyDMMwDMMYDa4AGYZhGIZhjAZXgAzDMAzDMEaDK0CGYRiGYRijwRUgwzAMwzCM0dCrArxZ5C2RTJFGEbuIWeS/RG710zw8LJInAk/yPOM0J1iSbvCOn5bX3faNQQNWrFixqruMGzcu1J/zwjBGZLqIVeoSj29e0bj9W0SqRFzdtO3yvHaLVo3L0hMSEg+HUeixPyVIkuvu91hbmltQWVkJEqG/5oVh9MbfFeBjIk7JLZu9IpNFfiLy9yIPiLzkNe1SkeUqt09ia5G6hJciMsuTFK/xLZJGEvTIbhj91B8lODj4QXruLwl2J0D6FTSal5wcs/ycJcgw6tNfxCa5BbP0O6Z9yzPduyrPQ5XUJTnqdo/0eZ2eN3ter9JiJcgVn5AeCYd+I9bfEuxOgC4RW4MNZiFAGpIQWYKMEfBnBbhacosl9lum6SXyvuTuiqrdFX5Y6ur22j1Di8gon+lGSl3dYdWPCXoL8KGXpvhdgtfqAtNv4pL8csxmuRKkeOaJYRgVyJbcYpkgMlCkj8/rvUW2Su4u8nwN2ldOeFBXlyRn8TyvEbnPZ1qlO5yn9kz4CtBXglofE/QI0HVVFSjGtLc7YBUSpHkhGfJJESbQ8WcFSGd7qaqiY350xjdR6pLgdSIxIh0iT2vUvtL1neV5TpVfjWdctXSlBGd5Ta8q3QnQW4KSxlXg+PHjw7oTILxGUheYKkIWIMOoR4PkFuD1IlMldzd0v0g/kXgRh8jjnmmDRJ4U+YOK7fsKkCDpVUtdlaDSHQ5gAU4IhdPVge9C2JAFyAQ6/qwAsyS3UP7J8/z3Iq0idZJbho94TTvaM22+iu17d4G9IQkqlSB1i0dKAdwFnjhpYpjL6WpXKj4l7gdXFoYsQIZRD+XMbpzXuGmSWzpTfKaN8UwbrmL73idBfM/+jpK6jgkqJ0gC8iTIpEmTwpxOpwNOwNnRAafo7soRjzvaO+Tur1IDsgCZQMefFSDd/aFcAP261/i/85nuFc80TSK3qzwPymUwdKlLd5fAKPILyMtgQkJCek2cODHM0dbWRqKjkx4Ohzt0zK+DhnT8T8TFFSDDqM6/Sl0XQu+T3JUfCfBGyX0hdKLUVX3N1qB9w18ITQJsbmx20J0fLS2eNF8dIUGuAJmAR497gR8VqZeufSscVWdayE/B0LfC3X///aFWm7WjobEBV6SpAbYGkUabfAkMSZAFyDDa8HORlSKnJffZYZLeOcl958cgP82DIb8MYfz48aEOR5uztbUNdrtdiK4Z9hY7Wu2taG9zyN3iDhE+CcIYAf4+QINBXe7FS5Y5X126nNKx5LU3O5aIIT1fvGS569Uly1zidVD4ThCGYQIKpQt+Q78+A2jYt1+fgX37XT+w70007DNQ7pIr8XN1yjD+hitAhmEYhmEYo8EVIMMwDMMwjNHgCpBhGIZhGMZocAXIMAzzN/B/k6iepo2i7PsAAAAASUVORK5CYII=);
    --savepage-url-4: url(data:image/gif;base64,R0lGODlhEAAQAPMPAJycnBQUFODg4L6+vnp6egAAAFhYWDY2NoqKivDw8CQkJGhoaEZGRqysrAQEBP///yH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQFCgAPACwAAAAAEAAQAEAEcPDJl+gydUrEOtBTIopMgSSFYxhC1kqC8AjH0AACIlOaUCgJR6G1CyUah6IkE0IEGMqEYKCcEWSAz2PAnAgUrcKQ15MhTMJYd1ZyUDXSDGelBY0qogFh/ZoQFAAJCDoxDRRvIQYED1kzgSAgAwOQDxEAIfkEBQoADwAsAAAAAA8AEAAABF3wyfnIkolOJpUUQaNJR6I4glIMowQoAVBwkxEnwWEVRZZJhsJBMBkQW7TWo7EgEFjKB8CwWECjH8DoN2kwDFvBD8FoJAANgfoo1iwEA/NVQ9DGJXMMIHN/HJVqIxEAIfkEBQoADwAsAAAAABAADwAABFrwyfkAolguyVRKRyY5RtIlhphURdM1kzBIxNGADIIchYAUPU0gFQMAC7PJYLFSFi6SgQ4gyHyuDYJWxH3AupQFotkFEAaJAfqqkiAE8ISAjAHM4A8594vPUyIAIfkEBQoADwAsAAAAABAAEAAABFzwySkBvZKkZ5g0A/YcBOct2CYFQxeiiSAhi8wQAOAlVqASpIfqMVCIHiWKrJbYABoN0SIQcIByANllUegeKKGLYCxQCRCW42SQfYzVQkli0BweB7Im3C23w/UYEQAh+QQFCgAIACwAAAAAEAAOAAAERRDJiQihWBpZCs/c1iEBKBFeB5CYEQxIcVheFU9GsWH1Su2Yw0SAAPiCnULJcsmUPkPMQJY5TqYdIkJrSma4lAFQAgZFAAAh+QQFCgAOACwAAAAAEAAQAAAEa9DJ6cag2KUmEZGEkCUEhyAOooiZsAinEKDU0IgIYBFHpTCSxAAxSEwSAoPjwJIIOJQEA2DUCK5VCsBgYCCu2AxAoQgsohjBAYBBNh1PCTAoMCaqgULSEchmGgVKDlBoEwoFFyNpBWwZjn4RACH5BAUKAA8ALAAAAAAQABAAAARb8Mn5hKBYDgkAz9zVeAADSkgyPkyDWcnTDBawSMwtCXS2BAZM4oJZuCaJJKixWASTykyDcTgQThNDI4rdPBYxEGGheCRuh1OggHhceaDEmkiMOwoXxzFuOIQpEQAh+QQFCgAOACwBAAEADwAPAAAEVtBJIceQTepa71jb5l3L5SSnJlBOQziCgUiJgIbE8W73hpih4IBAzAQ1H4PsSCsFa6yawrHbFAoIBGM6Y/gKBIUC4JiFBFdKIHE4NgqXwNqhAKo0hmMEACH5BAUKAA8ALAAAAAAQABAAAARd8Mn5UqJY3ieEHBsmXB0HhFTidQniYZtlDY2EABkMLHiOAS8fRYAoCicCgrL2UQwwriGjUOhNGAGExlE4eBSAxoLxACgWEsDTdjjUesGJItF+GBw+x/cgIec2SjkRACH5BAUKAA4ALAAAAQAQAA8AAARa0MnpUpKCamnl2Fr3bZkmlMAITg0yXFRJqc4S3AvY7MNR/AwQAOBKnAABmQSwcrwmicWBKVHUEgpGw4EwOA0ESUMGMDAGgS1Mc3CYHYT2ZmB1MII15QaBAEUAACH5BAUKAA8ALAAAAQAQAA8AAARY8MlJX6p4JlEFx8JFFQVSicnwDWTxTYJaEUXTiZKiZ8/gCwZHIEDI+BqfRIOBsVUMkpcEsXA+Do8iw+ADLCQEgGQgETcICwGWF2CiHwAmSL6AJoq8shgTAQAh+QQFCgAPACwAAAEADwAPAAAEWvDJEYS8+I6ispdG0XxS9whF4QnJaQLjlbAY4AxZKyEHwyCemUBAUBiBuaGlNTB4cDLCI+BpIKBO4IIwbABOsNMkMEBIF5aHTn1YPMyPBmF9cb+ljy8pHsNEAAA7);
    --savepage-url-5: url(data:image/png;base64,);
  }
</style>
<meta name="savepage-url" content="http://localhost:8000/browser.html">
<meta name="savepage-title" content="">
<meta name="savepage-from" content="http://localhost:8000/browser.html">
<meta name="savepage-date" content="Mon Apr 12 2021 16:11:45 GMT+0400 (Samara Standard Time)">
<meta name="savepage-state" content="Custom Items; HTML image files (all); HTML audio &amp; video files; CSS image files (all); CSS font files (all); Scripts (in same-origin frames); Retain cross-origin frames; Merge CSS images; Allow scripts to execute; Remove unsaved URLs; Remove hidden elements; Max frame depth = 5; Max resource size = 50MB; Max resource time = 10s;">
<meta name="savepage-version" content="0.8.5.5">
<meta name="savepage-comments" content="">


</head>

<body>

   <div id="animation"></div>
   <div id="treeview"></div>

   <script type="text/javascript">
        const NODE_TYPE_SHELF = 1;
        const NODE_TYPE_GROUP = 2;
        const NODE_TYPE_BOOKMARK = 3;
        const NODE_TYPE_ARCHIVE = 4;
        const NODE_TYPE_SEPARATOR = 5;
        const NODE_TYPE_NOTES = 6;

        const CLOUD_SHELF_ID = -5;
        const CLOUD_SHELF_NAME = "cloud";
        const CLOUD_EXTERNAL_NAME = "cloud";


        const TODO_STATE_TODO = 1;
        const TODO_STATE_DONE = 4;
        const TODO_STATE_WAITING = 2;
        const TODO_STATE_POSTPONED = 3;
        const TODO_STATE_CANCELLED = 5;

        const TODO_NAMES = {
            [TODO_STATE_TODO]: "TODO",
            [TODO_STATE_WAITING]: "WAITING",
            [TODO_STATE_POSTPONED]: "POSTPONED",
            [TODO_STATE_CANCELLED]: "CANCELLED",
            [TODO_STATE_DONE]: "DONE"
        };

        const TODO_STATES = {
            "TODO": TODO_STATE_TODO,
            "WAITING": TODO_STATE_WAITING,
            "POSTPONED": TODO_STATE_POSTPONED,
            "CANCELLED": TODO_STATE_CANCELLED,
            "DONE": TODO_STATE_DONE
        };

        function _styleTODO(node) {
            if (node.todo_state)
                return " todo-state-" + (node._overdue
                    ? "overdue"
                    : TODO_NAMES[node.todo_state].toLowerCase());

            return "";
        }

        function toJsTreeNode(n) {
            n.text = n.name;

            n.parent = n.parent_id;
            if (!n.parent)
                n.parent = "#";

            if (n.type == NODE_TYPE_SHELF) {
                n.icon = "var(--themed-cloud-icon)";
                n.li_attr = {"class": "cloud-shelf"};
            }
            else if (n.type == NODE_TYPE_GROUP) {
                n.icon = "var(--themed-group-icon)";
                n.li_attr = {
                    "class": "scrapyard-group",
                };
            }
            else if (n.type == NODE_TYPE_SEPARATOR) {
                n.text = "".repeat(60);
                n.icon = false;
                n.a_attr = {
                    "class": "separator-node"
                };
            }
            else if (n.type != NODE_TYPE_SHELF) {
                let uri = "";
                if (n.uri)
                    uri = false //n.uri.length > 60
                        ? "\x0A" + n.uri.substring(0, 60) + "..."
                        : ("\x0A" + n.uri);

                n.li_attr = {
                    "class": "show_tooltip",
                    "title": `${n.text}${uri}`,
                    "data-id": n.id,
                    "data-clickable": "true"
                };

                if (n.type == NODE_TYPE_ARCHIVE)
                    n.li_attr.class += " archive-node";

                n.a_attr = {
                    "class": n.has_notes? "has-notes": "",
                    "href": n.uri
                };

                if (n.todo_state) {
                    n.a_attr.class += _styleTODO(n);

                    if (n._extended_todo) {
                        n.li_attr.class += " extended-todo";
                        n.text = _formatTODO(n);
                    }
                }

                if (n.type == NODE_TYPE_NOTES) {
                    n.icon = "var(--themed-notes-icon)";
                    n.li_attr.class += " scrapyard-notes";
                }

                if (!n.icon) {
                    n.icon = "var(--themed-globe-icon)";
                    n.a_attr.class += " generic-icon";
                }
            }

            n.data = {};
            n.data.uuid = n.uuid;

            return n;
        }

        $("#treeview").jstree({
            plugins: ["wholerow"],
            core: {
                worker: false,
                animation: 0,
                multiple: false,
                themes: {
                    name: "default",
                    dots: false,
                    icons: true,
                },
            }
        })
        .on("select_node.jstree", function (e, data) {
            let node = data.node.original;
            if (node.type === NODE_TYPE_BOOKMARK || node.type === NODE_TYPE_ARCHIVE)
                document.location.href = node.uri;
            else if (node.type === NODE_TYPE_GROUP || node.type === NODE_TYPE_SHELF)
                data.instance.toggle_node(data.selected);
         }) ;

        window.tree = $("#treeview").jstree(true);

        tree.__icon_check_hook = (a_element, node) => {
            if (node.__icon_validated || !node.icon || (node.icon && node.icon.startsWith("var("))
                || (node.icon && node.icon.startsWith("/")))
                return;

            setTimeout(async () => {
                let getIconElement = async () => {
                    const a_element2 = document.getElementById(a_element.id);
                    if (a_element2) {
                        return a_element2.childNodes[0];
                    }
                    else {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                const a_element2 = document.getElementById(a_element.id);
                                if (a_element2) {
                                    resolve(a_element2.childNodes[0]);
                                }
                                else {
                                    console.error("can't find icon element");
                                    resolve(null);
                                }
                            }, 100);
                        })
                    }
                }

                let image = new Image();

                image.onerror = async e => {
                    const fallback_icon = "var(--themed-globe-icon)";
                    node.icon = fallback_icon;
                    (await getIconElement()).style.backgroundImage = fallback_icon;
                };
                image.src = node.icon;
            }, 0);

            node.__icon_validated = true;
        };

        let root = {id: CLOUD_SHELF_ID,
                    pos: -2,
                    name: CLOUD_SHELF_NAME,
                    uuid: CLOUD_SHELF_NAME,
                    type: NODE_TYPE_SHELF,
                    external: CLOUD_EXTERNAL_NAME
                    };

        window.nodes = [root];

        /*
        nodes.forEach(toJsTreeNode);
        tree.settings.core.data = nodes;
        tree.refresh(true);
        tree.open_node("-5");
        */
    </script>



</body></html>
